var _F=Object.defineProperty,EF=Object.defineProperties;var IF=Object.getOwnPropertyDescriptors;var Id=Object.getOwnPropertySymbols,wF=Object.getPrototypeOf,Jb=Object.prototype.hasOwnProperty,Xb=Object.prototype.propertyIsEnumerable,CF=Reflect.get;var Zb=(n,e,t)=>e in n?_F(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})Jb.call(e,t)&&Zb(n,t,e[t]);if(Id)for(var t of Id(e))Xb.call(e,t)&&Zb(n,t,e[t]);return n},ue=(n,e)=>EF(n,IF(e));var wd=(n,e)=>{var t={};for(var r in n)Jb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Id)for(var r of Id(n))e.indexOf(r)<0&&Xb.call(n,r)&&(t[r]=n[r]);return t};var Ci=(n,e,t)=>CF(wF(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var jm;function Cd(){return jm}function ar(n){let e=jm;return jm=n,e}var eT=Symbol("NotFound");function Ps(n){return n===eT||n?.name==="\u0275NotFound"}var Nt=null,bd=!1,Bm=1,bF=null,Ot=Symbol("SIGNAL");function ce(n){let e=Nt;return Nt=n,e}function Ad(){return Nt}var Ns={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Os(n){if(bd)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(n);let e=Nt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Nt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Nt.producers,t!==void 0&&t.producer===n)){Nt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Nt&&(!r||DF(i,Nt)))return;let o=ks(Nt),s={producer:n,consumer:Nt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Nt.producersTail=s,e!==void 0?e.nextProducer=s:Nt.producers=s,o&&iT(n,s)}function tT(){Bm++}function Md(n){if(!(ks(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Bm)){if(!n.producerMustRecompute(n)&&!Bc(n)){Sd(n);return}n.producerRecomputeValue(n),Sd(n)}}function $m(n){if(n.consumers===void 0)return;let e=bd;bd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||TF(r)}}finally{bd=e}}function Hm(){return Nt?.consumerAllowSignalWrites!==!1}function TF(n){n.dirty=!0,$m(n),n.consumerMarkedDirty?.(n)}function Sd(n){n.dirty=!1,n.lastCleanEpoch=Bm}function xs(n){return n&&nT(n),ce(n)}function nT(n){n.producersTail=void 0,n.recomputing=!0}function jc(n,e){ce(e),n&&rT(n)}function rT(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ks(n))do t=zm(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Bc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Md(t),r!==t.version))return!0}return!1}function $c(n){if(ks(n)){let e=n.producers;for(;e!==void 0;)e=zm(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iT(n,e){let t=n.consumersTail,r=ks(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iT(i.producer,i)}function zm(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ks(e)){let o=e.producers;for(;o!==void 0;)o=zm(o)}return t}function ks(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Rd(n){bF?.(n)}function DF(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Pd(n,e){return Object.is(n,e)}function Nd(n,e){let t=Object.create(SF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Md(t),Os(t),t.value===Uc)throw t.error;return t.value};return r[Ot]=t,Rd(t),r}var Td=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Uc=Symbol("ERRORED"),SF=ue(V({},Ns),{value:Td,dirty:!0,error:null,equal:Pd,kind:"computed",producerMustRecompute(n){return n.value===Td||n.value===Dd},producerRecomputeValue(n){if(n.value===Dd)throw new Error("");let e=n.value;n.value=Dd;let t=xs(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==Td&&e!==Uc&&r!==Uc&&n.equal(e,r)}catch(o){r=Uc,n.error=o}finally{jc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function AF(){throw new Error}var oT=AF;function sT(n){oT(n)}function qm(n){oT=n}var MF=null;function Gm(n,e){let t=Object.create(Od);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aT(t);return r[Ot]=t,Rd(t),[r,s=>Fs(t,s),s=>Wm(t,s)]}function aT(n){return Os(n),n.value}function Fs(n,e){Hm()||sT(n),n.equal(n.value,e)||(n.value=e,RF(n))}function Wm(n,e){Hm()||sT(n),Fs(n,e(n.value))}var Od=ue(V({},Ns),{equal:Pd,value:void 0,kind:"signal"});function RF(n){n.version++,tT(),$m(n),MF?.(n)}function se(n){return typeof n=="function"}function Ls(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xd=Ls(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof xd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cT(o)}catch(s){e=e??[],s instanceof xd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){let{_finalizers:t}=this;t&&bo(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var Km=He.EMPTY;function kd(n){return n instanceof He||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function cT(n){se(n)?n():n.unsubscribe()}var Hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vs={setTimeout(n,e,...t){let{delegate:r}=Vs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Vs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Fd(n){Vs.setTimeout(()=>{let{onUnhandledError:e}=Hn;if(e)e(n);else throw n})}function Hc(){}var uT=Qm("C",void 0,void 0);function lT(n){return Qm("E",void 0,n)}function dT(n){return Qm("N",n,void 0)}function Qm(n,e,t){return{kind:n,value:e,error:t}}var To=null;function Us(n){if(Hn.useDeprecatedSynchronousErrorHandling){let e=!To;if(e&&(To={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=To;if(To=null,t)throw r}}else n()}function fT(n){Hn.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=n)}var Do=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kd(e)&&e.add(this)):this.destination=OF}static create(e,t,r){return new js(e,t,r)}next(e){this.isStopped?Zm(dT(e),this):this._next(e)}error(e){this.isStopped?Zm(lT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zm(uT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PF=Function.prototype.bind;function Ym(n,e){return PF.call(n,e)}var Jm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ld(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ld(r)}else Ld(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ld(t)}}},js=class extends Do{constructor(e,t,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ym(e.next,o),error:e.error&&Ym(e.error,o),complete:e.complete&&Ym(e.complete,o)}):i=e}this.destination=new Jm(i)}};function Ld(n){Hn.useDeprecatedSynchronousErrorHandling?fT(n):Fd(n)}function NF(n){throw n}function Zm(n,e){let{onStoppedNotification:t}=Hn;t&&Vs.setTimeout(()=>t(n,e))}var OF={closed:!0,next:Hc,error:NF,complete:Hc};var Bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dn(n){return n}function Xm(...n){return ey(n)}function ey(n){return n.length===0?dn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=kF(t)?t:new js(t,r,i);return Us(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=hT(r),new r((i,o)=>{let s=new js({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Bs](){return this}pipe(...t){return ey(t)(this)}toPromise(t){return t=hT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function hT(n){var e;return(e=n??Hn.Promise)!==null&&e!==void 0?e:Promise}function xF(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function kF(n){return n&&n instanceof Do||xF(n)&&kd(n)}function ty(n){return se(n?.lift)}function _e(n){return e=>{if(ty(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new ny(n,e,t,r,i)}var ny=class extends Do{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $s(){return _e((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Hs=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ty(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return $s()(this)}};var pT=Ls(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pT}next(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Km:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new Vd(e,t),n})(),Vd=class extends Qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Km}};var lt=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ry={now(){return(ry.delegate||Date).now()},delegate:void 0};var Ud=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var zc={setInterval(n,e,...t){let{delegate:r}=zc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=zc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zs=class extends Ud{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return zc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&zc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var qs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};qs.now=ry.now;var Gs=class extends qs{constructor(e,t=qs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var iy=new Gs(zs);var jd=class extends zs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bd=class extends Gs{};var oy=new Bd(jd);var Xt=new le(n=>n.complete());function gT(n){return n&&se(n.schedule)}function mT(n){return n[n.length-1]}function $d(n){return se(mT(n))?n.pop():void 0}function bi(n){return gT(mT(n))?n.pop():void 0}function sy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function vT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function yT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function So(n){return this instanceof So?(this.v=n,this):new So(n)}function _T(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(O){return new Promise(function(N,$){o.push([y,O,N,$])>1||u(y,O)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(O){g(o[0][3],O)}}function l(y){y.value instanceof So?Promise.resolve(y.value.v).then(f,p):g(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ET(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yT=="function"?yT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Hd=n=>n&&typeof n.length=="number"&&typeof n!="function";function zd(n){return se(n?.then)}function qd(n){return se(n[Bs])}function Gd(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function Wd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kd=FF();function Qd(n){return se(n?.[Kd])}function Yd(n){return _T(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield So(t.read());if(i)return yield So(void 0);yield yield So(r)}}finally{t.releaseLock()}})}function Zd(n){return se(n?.getReader)}function Ze(n){if(n instanceof le)return n;if(n!=null){if(qd(n))return LF(n);if(Hd(n))return VF(n);if(zd(n))return UF(n);if(Gd(n))return IT(n);if(Qd(n))return jF(n);if(Zd(n))return BF(n)}throw Wd(n)}function LF(n){return new le(e=>{let t=n[Bs]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VF(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function UF(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Fd)})}function jF(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function IT(n){return new le(e=>{$F(n,e).catch(t=>e.error(t))})}function BF(n){return IT(Yd(n))}function $F(n,e){var t,r,i,o;return vT(this,void 0,void 0,function*(){try{for(t=ET(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function en(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ti(n,e=0){return _e((t,r)=>{t.subscribe(ye(r,i=>en(r,n,()=>r.next(i),e),()=>en(r,n,()=>r.complete(),e),i=>en(r,n,()=>r.error(i),e)))})}function Di(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wT(n,e){return Ze(n).pipe(Di(e),Ti(e))}function CT(n,e){return Ze(n).pipe(Di(e),Ti(e))}function bT(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TT(n,e){return new le(t=>{let r;return en(t,e,()=>{r=n[Kd](),en(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Jd(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{en(t,e,()=>{let r=n[Symbol.asyncIterator]();en(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function DT(n,e){return Jd(Yd(n),e)}function ST(n,e){if(n!=null){if(qd(n))return wT(n,e);if(Hd(n))return bT(n,e);if(zd(n))return CT(n,e);if(Gd(n))return Jd(n,e);if(Qd(n))return TT(n,e);if(Zd(n))return DT(n,e)}throw Wd(n)}function ze(n,e){return e?ST(n,e):Ze(n)}function te(...n){let e=bi(n);return ze(n,e)}function Ws(n,e){let t=se(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function ay(n){return!!n&&(n instanceof le||se(n.lift)&&se(n.subscribe))}var kr=Ls(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ge(n,e){return _e((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:HF}=Array;function zF(n,e){return HF(e)?n(...e):n(e)}function Xd(n){return ge(e=>zF(n,e))}var{isArray:qF}=Array,{getPrototypeOf:GF,prototype:WF,keys:KF}=Object;function ef(n){if(n.length===1){let e=n[0];if(qF(e))return{args:e,keys:null};if(QF(e)){let t=KF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function QF(n){return n&&typeof n=="object"&&GF(n)===WF}function tf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function nf(...n){let e=bi(n),t=$d(n),{args:r,keys:i}=ef(n);if(r.length===0)return ze([],e);let o=new le(YF(r,e,i?s=>tf(i,s):dn));return t?o.pipe(Xd(t)):o}function YF(n,e,t=dn){return r=>{AT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)AT(e,()=>{let l=ze(n[u],e),f=!1;l.subscribe(ye(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function AT(n,e,t){n?en(t,n,e):e()}function MT(n,e,t,r,i,o,s,a){let u=[],l=0,f=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?b(O):u.push(O),b=O=>{o&&e.next(O),l++;let N=!1;Ze(t(O,f++)).subscribe(ye(e,$=>{i?.($),o?y($):e.next($)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let $=u.shift();s?en(e,s,()=>b($)):b($)}g()}catch($){e.error($)}}))};return n.subscribe(ye(e,y,()=>{p=!0,g()})),()=>{a?.()}}function dt(n,e,t=1/0){return se(e)?dt((r,i)=>ge((o,s)=>e(r,o,i,s))(Ze(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>MT(r,i,n,t)))}function RT(n=1/0){return dt(dn,n)}function PT(){return RT(1)}function Ks(...n){return PT()(ze(n,bi(n)))}function qc(n){return new le(e=>{Ze(n()).subscribe(e)})}function cy(...n){let e=$d(n),{args:t,keys:r}=ef(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Ze(t[f]).subscribe(ye(o,g=>{p||(p=!0,l--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?tf(r,a):a),o.complete())}))}});return e?i.pipe(Xd(e)):i}function Sn(n,e){return _e((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Si(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=Ze(n(s,Si(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function NT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ye(s,f=>{let p=l++;u=a?n(u,f,p):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Qs(n,e){return se(e)?dt(n,e,1):dt(n,1)}function Ai(n){return _e((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zn(n){return n<=0?()=>Xt:_e((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rf(n=ZF){return _e((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZF(){return new kr}function Gc(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Fr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Sn((i,o)=>n(i,o,r)):dn,zn(1),t?Ai(e):rf(()=>new kr))}function Ys(n){return n<=0?()=>Xt:_e((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Sn((i,o)=>n(i,o,r)):dn,Ys(1),t?Ai(e):rf(()=>new kr))}function ly(n,e){return _e(NT(n,e,arguments.length>=2,!0))}function dy(...n){let e=bi(n);return _e((t,r)=>{(e?Ks(n,t,e):Ks(n,t)).subscribe(r)})}function tn(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,f=o++;Ze(n(u,f)).subscribe(i=ye(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zs(n){return _e((e,t)=>{Ze(n).subscribe(ye(t,()=>t.complete(),Hc)),!t.closed&&e.subscribe(t)})}function pt(n,e,t){let r=se(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):dn}function OT(n){let e=ce(null);try{return n()}finally{ce(e)}}var Mi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},by=new Mi("20.3.15");var Ty="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(jr(e,t)),this.code=e}};function JF(n){return`NG0${Math.abs(n)}`}function jr(n,e){return`${JF(n)}${e?": "+e:""}`}var Ni=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("")}function FT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Vr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Dy(n,e){return n?e?`${n} ${e}`:n:e||""}var XF=Ae({__forward_ref__:Ae});function nn(n){return n.__forward_ref__=nn,n.toString=function(){return Vr(this())},n}function bt(n){return Sy(n)?n():n}function Sy(n){return typeof n=="function"&&n.hasOwnProperty(XF)&&n.__forward_ref__===nn}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yc(n){return eL(n,cf)}function Ay(n){return Yc(n)!==null}function eL(n,e){return n.hasOwnProperty(e)&&n[e]||null}function tL(n){let e=n?.[cf]??null;return e||null}function hy(n){return n&&n.hasOwnProperty(sf)?n[sf]:null}var cf=Ae({\u0275prov:Ae}),sf=Ae({\u0275inj:Ae}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function My(n){return n&&!!n.\u0275providers}var Ry=Ae({\u0275cmp:Ae}),Py=Ae({\u0275dir:Ae}),Ny=Ae({\u0275pipe:Ae}),Oy=Ae({\u0275mod:Ae}),Kc=Ae({\u0275fac:Ae}),No=Ae({__NG_ELEMENT_ID__:Ae}),xT=Ae({__NG_ENV_ID__:Ae});function Xs(n){return typeof n=="string"?n:n==null?"":String(n)}function LT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xs(n)}var VT=Ae({ngErrorCode:Ae}),nL=Ae({ngErrorMessage:Ae}),rL=Ae({ngTokenPath:Ae});function xy(n,e){return UT("",-200,e)}function uf(n,e){throw new B(-201,!1)}function UT(n,e,t){let r=new B(e,n);return r[VT]=e,r[nL]=n,t&&(r[rL]=t),r}function iL(n){return n[VT]}var py;function jT(){return py}function Ht(n){let e=py;return py=n,e}function ky(n,e,t){let r=Yc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;uf(n,"Injector")}var oL={},Ao=oL,gy="__NG_DI_FLAG__",my=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Mo(t)||0;try{return this.injector.get(e,r&8?null:Ao,r)}catch(i){if(Ps(i))return i;throw i}}};function sL(n,e=0){let t=Cd();if(t===void 0)throw new B(-203,!1);if(t===null)return ky(n,void 0,e);{let r=aL(e),i=t.retrieve(n,r);if(Ps(i)){if(r.optional)return null;throw i}return i}}function de(n,e=0){return(jT()||sL)(bt(n),e)}function M(n,e){return de(n,Mo(e))}function Mo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function aL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function yy(n){let e=[];for(let t=0;t<n.length;t++){let r=bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=cL(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(de(i,o))}else e.push(de(r))}return e}function BT(n,e){return n[gy]=e,n.prototype[gy]=e,n}function cL(n){return n[gy]}function Ri(n,e){let t=n.hasOwnProperty(Kc);return t?n[Kc]:null}function lf(n,e){n.forEach(t=>Array.isArray(t)?lf(t,e):e(t))}function Fy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $T(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function HT(n,e,t){let r=ea(n,e);return r>=0?n[r|1]=t:(r=~r,$T(n,r,e,t)),r}function df(n,e){let t=ea(n,e);if(t>=0)return n[t|1]}function ea(n,e){return uL(n,e,1)}function uL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Oi={},fn=[],An=new j(""),Ly=new j("",-1),Vy=new j(""),Qc=class{get(e,t=Ao){if(t===Ao){let i=UT("",-201);throw i.name="\u0275NotFound",i}return t}};function Uy(n){return n[Oy]||null}function Br(n){return n[Ry]||null}function ff(n){return n[Py]||null}function jy(n){return n[Ny]||null}function Tt(n){return{\u0275providers:n}}function zT(n){return Tt([{provide:An,multi:!0,useValue:n}])}function qT(...n){return{\u0275providers:hf(!0,n),\u0275fromNgModule:!0}}function hf(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return lf(e,s=>{let a=s;af(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GT(i,o),t}function GT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];By(i,o=>{e(o,r)})}}function af(n,e,t,r){if(n=bt(n),!n)return!1;let i=null,o=hy(n),s=!o&&Br(n);if(!o&&!s){let u=n.ngModule;if(o=hy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)af(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{lf(o.imports,f=>{af(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&GT(l,e)}if(!a){let l=Ri(i)||(()=>new i);e({provide:i,useFactory:l,deps:fn},i),e({provide:Vy,useValue:i,multi:!0},i),e({provide:An,useValue:()=>de(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;By(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function By(n,e){for(let t of n)My(t)&&(t=t.\u0275providers),Array.isArray(t)?By(t,e):e(t)}var lL=Ae({provide:String,useValue:Ae});function WT(n){return n!==null&&typeof n=="object"&&lL in n}function dL(n){return!!(n&&n.useExisting)}function fL(n){return!!(n&&n.useFactory)}function Ro(n){return typeof n=="function"}function KT(n){return!!n.useClass}var Jc=new j(""),of={},kT={},fy;function Xc(){return fy===void 0&&(fy=new Qc),fy}var Je=class{},Po=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_y(e,s=>this.processProvider(s)),this.records.set(Ly,Js(void 0,this)),i.has("environment")&&this.records.set(Je,Js(void 0,this));let o=this.records.get(Jc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vy,fn,{self:!0}))}retrieve(e,t){let r=Mo(t)||0;try{return this.get(e,Ao,r)}catch(i){if(Ps(i))return i;throw i}}destroy(){Wc(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return Wc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Wc(this);let t=ar(this),r=Ht(void 0),i;try{return e()}finally{ar(t),Ht(r)}}get(e,t=Ao,r){if(Wc(this),e.hasOwnProperty(xT))return e[xT](this);let i=Mo(r),o,s=ar(this),a=Ht(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=yL(e)&&Yc(e);f&&this.injectableDefInScope(f)?l=Js(vy(e),of):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Xc():this.parent;return t=i&8&&t===Ao?null:t,u.get(e,t)}catch(u){let l=iL(u);throw l===-200||l===-201?new B(l,null):u}finally{Ht(a),ar(s)}}resolveInjectorInitializers(){let e=ce(null),t=ar(this),r=Ht(void 0),i;try{let o=this.get(An,fn,{self:!0});for(let s of o)s()}finally{ar(t),Ht(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Vr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=bt(e);let t=Ro(e)?e:bt(e&&e.provide),r=pL(e);if(!Ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Js(void 0,of,!0),i.factory=()=>yy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{if(t.value===kT)throw xy(Vr(e));return t.value===of&&(t.value=kT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&mL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vy(n){let e=Yc(n),t=e!==null?e.factory:Ri(n);if(t!==null)return t;if(n instanceof j)throw new B(204,!1);if(n instanceof Function)return hL(n);throw new B(204,!1)}function hL(n){if(n.length>0)throw new B(204,!1);let t=tL(n);return t!==null?()=>t.factory(n):()=>new n}function pL(n){if(WT(n))return Js(void 0,n.useValue);{let e=$y(n);return Js(e,of)}}function $y(n,e,t){let r;if(Ro(n)){let i=bt(n);return Ri(i)||vy(i)}else if(WT(n))r=()=>bt(n.useValue);else if(fL(n))r=()=>n.useFactory(...yy(n.deps||[]));else if(dL(n))r=(i,o)=>de(bt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=bt(n&&(n.useClass||n.provide));if(gL(n))r=()=>new i(...yy(n.deps));else return Ri(i)||vy(i)}return r}function Wc(n){if(n.destroyed)throw new B(205,!1)}function Js(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gL(n){return!!n.deps}function mL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function _y(n,e){for(let t of n)Array.isArray(t)?_y(t,e):t&&My(t)?_y(t.\u0275providers,e):e(t)}function et(n,e){let t;n instanceof Po?(Wc(n),t=n):t=new my(n);let r,i=ar(t),o=Ht(void 0);try{return e()}finally{ar(i),Ht(o)}}function QT(){return jT()!==void 0||Cd()!=null}var zt=0,W=1,re=2,Xe=3,Mn=4,Rn=5,hn=6,ta=7,xt=8,Pn=9,$r=10,Ne=11,na=12,Hy=13,Oo=14,rn=15,xo=16,ko=17,Fo=18,eu=19,zy=20,Lr=21,pf=22,tu=23,pn=24,Lo=25,nu=26,ke=27,YT=1,Gn=6,ur=7,ru=8,iu=9,qt=10;function gn(n){return Array.isArray(n)&&typeof n[YT]=="object"}function mn(n){return Array.isArray(n)&&n[YT]===!0}function qy(n){return(n.flags&4)!==0}function Hr(n){return n.componentOffset>-1}function ra(n){return(n.flags&1)===1}function lr(n){return!!n.template}function Vo(n){return(n[re]&512)!==0}function xi(n){return(n[re]&256)===256}var ZT="svg",JT="math";function yn(n){for(;Array.isArray(n);)n=n[zt];return n}function Gy(n,e){return yn(e[n])}function Nn(n,e){return yn(e[n.index])}function ia(n,e){return n.data[e]}function Wy(n,e){return n[e]}function Ky(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function On(n,e){let t=e[n];return gn(t)?t:t[zt]}function gf(n){return(n[re]&128)===128}function XT(n){return mn(n[Xe])}function ou(n,e){return e==null?null:n[e]}function Qy(n){n[ko]=0}function Yy(n){n[re]&1024||(n[re]|=1024,gf(n)&&oa(n))}function eD(n,e){for(;n>0;)e=e[Oo],n--;return e}function su(n){return!!(n[re]&9216||n[pn]?.dirty)}function mf(n){n[$r].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),su(n)&&oa(n)}function oa(n){n[$r].changeDetectionScheduler?.notify(0);let e=Pi(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!gf(e)));)e=Pi(e)}function Zy(n,e){if(xi(n))throw new B(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function tD(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function Pi(n){let e=n[Xe];return mn(e)?e[Xe]:e}function nD(n){return n[ta]??=[]}function rD(n){return n.cleanup??=[]}var fe={lFrame:_D(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ey=!1;function iD(){return fe.lFrame.elementDepthCount}function oD(){fe.lFrame.elementDepthCount++}function sD(){fe.lFrame.elementDepthCount--}function yf(){return fe.bindingsEnabled}function Jy(){return fe.skipHydrationRootTNode!==null}function aD(n){return fe.skipHydrationRootTNode===n}function cD(n){fe.skipHydrationRootTNode=n}function uD(){fe.skipHydrationRootTNode=null}function we(){return fe.lFrame.lView}function Gt(){return fe.lFrame.tView}function tt(n){return fe.lFrame.contextLView=n,n[xt]}function nt(n){return fe.lFrame.contextLView=null,n}function kt(){let n=Xy();for(;n!==null&&n.type===64;)n=n.parent;return n}function Xy(){return fe.lFrame.currentTNode}function lD(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function sa(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function ev(){return fe.lFrame.isParent}function dD(){fe.lFrame.isParent=!1}function tv(){return Ey}function nv(n){let e=Ey;return Ey=n,e}function vf(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function fD(){return fe.lFrame.bindingIndex}function hD(n){return fe.lFrame.bindingIndex=n}function au(){return fe.lFrame.bindingIndex++}function rv(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pD(){return fe.lFrame.inI18n}function gD(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,_f(e)}function mD(){return fe.lFrame.currentDirectiveIndex}function _f(n){fe.lFrame.currentDirectiveIndex=n}function yD(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iv(n){fe.lFrame.currentQueryIndex=n}function vL(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function ov(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=vL(o),i===null||(o=o[Oo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=vD();return r.currentTNode=e,r.lView=n,!0}function Ef(n){let e=vD(),t=n[W];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vD(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?_D(n):e}function _D(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ED(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sv=ED;function If(){let n=ED();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ID(n){return(fe.lFrame.contextLView=eD(n,fe.lFrame.contextLView))[xt]}function ki(){return fe.lFrame.selectedIndex}function Fi(n){fe.lFrame.selectedIndex=n}function wf(){let n=fe.lFrame;return ia(n.tView,n.selectedIndex)}function av(){return fe.lFrame.currentNamespace}var wD=!0;function Cf(){return wD}function zr(n){wD=n}function Iy(n,e=null,t=null,r){let i=cv(n,e,t,r);return i.resolveInjectorInitializers(),i}function cv(n,e=null,t=null,r,i=new Set){let o=[t||fn,qT(n)];return r=r||(typeof n=="object"?void 0:Vr(n)),new Po(o,e||Xc(),r||null,i)}var qe=class n{static THROW_IF_NOT_FOUND=Ao;static NULL=new Qc;static create(e,t){if(Array.isArray(e))return Iy({name:""},t,e,"");{let r=e.name??"";return Iy({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>de(Ly)});static __NG_ELEMENT_ID__=-1},ft=new j(""),xn=(()=>{class n{static __NG_ELEMENT_ID__=_L;static __NG_ENV_ID__=t=>t}return n})(),wy=class extends xn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xi(this._lView)}onDestroy(e){let t=this._lView;return Zy(t,e),()=>tD(t,e)}};function _L(){return new wy(we())}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},on=new j("",{providedIn:"root",factory:()=>{let n=M(Je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(qn),e.handleError(t))}}}),CD={provide:An,useValue:()=>void M(qn),multi:!0},EL=new j("",{providedIn:"root",factory:()=>{let n=M(ft).defaultView;if(!n)return;let e=M(on),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(xn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function uv(){return Tt([zT(()=>void M(EL))])}function lv(n){return typeof n=="function"&&n[Ot]!==void 0}function vn(n,e){let[t,r,i]=Gm(n,e?.equal),o=t,s=o[Ot];return o.set=r,o.update=i,o.asReadonly=bD.bind(o),o}function bD(){let n=this[Ot];if(n.readonlyFn===void 0){let e=()=>this();e[Ot]=n,n.readonlyFn=e}return n.readonlyFn}function dv(n){return lv(n)&&typeof n.set=="function"}var bf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=IL}return n})();function IL(){return new bf(we(),kt())}var Ur=class{},aa=new j("",{providedIn:"root",factory:()=>!1});var fv=new j(""),hv=new j(""),Wn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new lt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Li=(()=>{class n{internalPendingTasks=M(Wn);scheduler=M(Ur);errorHandler=M(on);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();function cu(...n){}var pv=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Cy})}return n})(),Cy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};var Tf={JSACTION:"jsaction"};function ma(n){return{toString:n}.toString()}var Df="__parameters__";function ML(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function RL(n,e,t){return ma(()=>{let r=ML(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,f){let p=u.hasOwnProperty(Df)?u[Df]:Object.defineProperty(u,Df,{value:[]})[Df];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var sn=BT(RL("Optional"),8);function PL(n){return typeof n=="function"}var xf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Wr=(()=>{let n=()=>dS;return n.ngInherit=!0,n})();function dS(n){return n.type.prototype.ngOnChanges&&(n.setInput=OL),NL}function NL(){let n=hS(this),e=n?.current;if(e){let t=n.previous;if(t===Oi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function OL(n,e,t,r,i){let o=this.declaredInputs[r],s=hS(n)||xL(n,{previous:Oi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new xf(l&&l.currentValue,t,u===Oi),lS(n,e,i,t)}var fS="__ngSimpleChanges__";function hS(n){return n[fS]||null}function xL(n,e){return n[fS]=e}var TD=[];var De=function(n,e=null,t){for(let r=0;r<TD.length;r++){let i=TD[r];i(n,e,t)}};function kL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function pS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Mf(n,e,t){gS(n,e,3,t)}function Rf(n,e,t,r){(n[re]&3)===t&&gS(n,e,t,r)}function gv(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function gS(n,e,t,r){let i=r!==void 0?n[ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ko]+=65536),(a<o||o==-1)&&(FL(n,t,e,u),n[ko]=(n[ko]&4294901760)+u+2),u++}function DD(n,e){De(4,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),De(5,n,e)}}function FL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[ko]>>16&&(n[re]&3)===e&&(n[re]+=16384,DD(a,o)):DD(a,o)}var ua=-1,Bo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function LL(n){return(n.flags&8)!==0}function VL(n){return(n.flags&16)!==0}function UL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];BL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function jL(n){return n===3||n===4||n===6}function BL(n){return n.charCodeAt(0)===64}function du(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?SD(n,t,i,null,e[++r]):SD(n,t,i,null,null))}}return n}function SD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function mS(n){return n!==ua}function kf(n){return n&32767}function $L(n){return n>>16}function Ff(n,e){let t=$L(n),r=e;for(;t>0;)r=r[Oo],t--;return r}var Mv=!0;function Lf(n){let e=Mv;return Mv=n,e}var HL=256,yS=HL-1,vS=5,zL=0,dr={};function qL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(No)&&(r=t[No]),r==null&&(r=t[No]=zL++);let i=r&yS,o=1<<i;e.data[n+(i>>vS)]|=o}function Vf(n,e){let t=_S(n,e);if(t!==-1)return t;let r=e[W];r.firstCreatePass&&(n.injectorIndex=e.length,mv(r.data,n),mv(e,null),mv(r.blueprint,null));let i=Zv(n,e),o=n.injectorIndex;if(mS(i)){let s=kf(i),a=Ff(i,e),u=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function mv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _S(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Zv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=bS(i),r===null)return ua;if(t++,i=i[Oo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ua}function Rv(n,e,t){qL(n,e,t)}function ES(n,e,t){if(t&8||n!==void 0)return n;uf(e,"NodeInjector")}function IS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Pn],o=Ht(void 0);try{return i?i.get(e,r,t&8):ky(e,r,t&8)}finally{Ht(o)}}return ES(r,e,t)}function wS(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=YL(n,e,t,r,dr);if(s!==dr)return s}let o=CS(n,e,t,r,dr);if(o!==dr)return o}return IS(e,t,r,i)}function CS(n,e,t,r,i){let o=KL(t);if(typeof o=="function"){if(!ov(e,n,r))return r&1?ES(i,t,r):IS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))uf(t);else return s}finally{sv()}}else if(typeof o=="number"){let s=null,a=_S(n,e),u=ua,l=r&1?e[rn][Rn]:null;for((a===-1||r&4)&&(u=a===-1?Zv(n,e):e[a+8],u===ua||!MD(r,!1)?a=-1:(s=e[W],a=kf(u),e=Ff(u,e)));a!==-1;){let f=e[W];if(AD(o,a,f.data)){let p=GL(a,e,t,s,r,l);if(p!==dr)return p}u=e[a+8],u!==ua&&MD(r,e[W].data[a+8]===l)&&AD(o,a,e)?(s=f,a=kf(u),e=Ff(u,e)):a=-1}}return i}function GL(n,e,t,r,i,o){let s=e[W],a=s.data[n+8],u=r==null?Hr(a)&&Mv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=WL(a,s,t,u,l);return f!==null?Uf(e,s,f,a,i):dr}function WL(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?a:a+f,g=i?a+f:l;for(let y=p;y<g;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&lr(y)&&y.type===t)return u}return null}function Uf(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Bo){let a=o;if(a.resolving){let y=LT(s[t]);throw xy(y)}let u=Lf(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],f,p=a.injectImpl?Ht(a.injectImpl):null,g=ov(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&kL(t,s[t],e)}finally{p!==null&&Ht(p),Lf(u),a.resolving=!1,sv()}}return o}function KL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(No)?n[No]:void 0;return typeof e=="number"?e>=0?e&yS:QL:e}function AD(n,e,t){let r=1<<n;return!!(t[e+(n>>vS)]&r)}function MD(n,e){return!(n&2)&&!(n&1&&e)}var jo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wS(this._tNode,this._lView,e,Mo(r),t)}};function QL(){return new jo(kt(),we())}function hr(n){return ma(()=>{let e=n.prototype.constructor,t=e[Kc]||Pv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Kc]||Pv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pv(n){return Sy(n)?()=>{let e=Pv(bt(n));return e&&e()}:Ri(n)}function YL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Vo(s);){let a=CS(o,s,t,r|2,dr);if(a!==dr)return a;let u=o.parent;if(!u){let l=s[zy];if(l){let f=l.get(t,dr,r);if(f!==dr)return f}u=bS(s),s=s[Oo]}o=u}return i}function bS(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function ZL(){return Xf(kt(),we())}function Xf(n,e){return new Kr(Nn(n,e))}var Kr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ZL}return n})();var TS="ngSkipHydration",JL="ngskiphydration";function DS(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===JL)return!0}return!1}function SS(n){return n.hasAttribute(TS)}function jf(n){return(n.flags&128)===128}function AS(n){if(jf(n))return!0;let e=n.parent;for(;e;){if(jf(n)||DS(e))return!0;e=e.parent}return!1}var Jv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Jv||{}),MS=new Map,XL=0;function eV(){return XL++}function tV(n){MS.set(n[eu],n)}function Nv(n){MS.delete(n[eu])}var RD="__ngContext__";function fa(n,e){gn(e)?(n[RD]=e[eu],tV(e)):n[RD]=e}function RS(n){return NS(n[na])}function PS(n){return NS(n[Mn])}function NS(n){for(;n!==null&&!mn(n);)n=n[Mn];return n}var Ov;function Xv(n){Ov=n}function mu(){if(Ov!==void 0)return Ov;if(typeof document<"u")return document;throw new B(210,!1)}var pr=new j("",{providedIn:"root",factory:()=>nV}),nV="ng",eh=new j(""),En=new j("",{providedIn:"platform",factory:()=>"unknown"});var th=new j("",{providedIn:"root",factory:()=>mu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function rV(){let n=new qo;return n.store=iV(mu(),M(pr)),n}var qo=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:rV});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function iV(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var OS="h",xS="b",oV="f",sV="n",kS="e",FS="t",nh="c",e_="x",fu="r",LS="i",VS="n",t_="d";var US="di",jS="s",BS="p";var yu=new j(""),$S=!1,n_=new j("",{providedIn:"root",factory:()=>$S});var r_=new j(""),HS=!1,zS=new j(""),i_=new j("",{providedIn:"root",factory:()=>new Map});var vu="ngb";var qS=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(t),i.set(e,o),r.__jsaction_fns=i},GS=(n,e)=>{let t=n,r=t.getAttribute(vu)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var WS=n=>{n.removeAttribute(Tf.JSACTION),n.removeAttribute(vu),n.__jsaction_fns=void 0},KS=new j("",{providedIn:"root",factory:()=>({})});function o_(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var xv=new Map;function QS(n,e){return xv.set(n,e),()=>xv.delete(n)}var PD=!1,YS=(n,e,t,r)=>{};function aV(n,e,t,r){YS(n,e,t,r)}function ZS(){PD||(YS=(n,e,t,r)=>{let i=n[Pn].get(pr);xv.get(i)?.(e,t,r)},PD=!0)}var rh=new j("");function ih(n){return(n.flags&32)===32}var cV="__nghData__",s_=cV,uV="__nghDeferData__",JS=uV;var Pf="ngh",XS="nghm",eA=()=>null;function lV(n,e,t=!1){let r=n.getAttribute(Pf);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let f=e.get(qo,null,{optional:!0});f!==null&&(u=f.get(s_,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,oh(l,0,n.nextSibling)),a?n.setAttribute(Pf,a):n.removeAttribute(Pf),l}function tA(){eA=lV}function nA(n,e,t=!1){return eA(n,e,t)}function rA(n){let e=n._lView;return e[W].type===2?null:(Vo(e)&&(e=e[ke]),e)}function dV(n){return n.textContent?.replace(/\s/gm,"")}function fV(n){let e=mu(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=dV(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function oh(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function kv(n,e){return n.segmentHeads?.[e]??null}function iA(n){return n.get(zS,!1,{optional:!0})}function hV(n,e){let t=n.data,r=t[kS]?.[e]??null;return r===null&&t[nh]?.[e]&&(r=a_(n,e)),r}function oA(n,e){return n.data[nh]?.[e]??null}function a_(n,e){let t=oA(n,e)??[],r=0;for(let i of t)r+=i[fu]*(i[e_]??1);return r}function pV(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[t_];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function sA(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[t_];n.disconnectedNodes=t?new Set(t):null}return!!pV(n)?.has(e)}function sh(n,e){let t=n[hn];return t!==null&&!Jy()&&!ih(e)&&!sA(t,e.index-ke)}function gV(n,e){let t=e.get(rh),i=e.get(qo).get(JS,{}),o=!1,s=n,a=null,u=[];for(;!o&&s;){o=t.has(s);let l=t.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][BS]}return{parentBlockPromise:a,hydrationQueue:u}}function yv(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===XS}function ND(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function aA(n){for(let r of n.body.childNodes)if(yv(r))return;let e=ND(n.body.previousSibling);if(yv(e))return;let t=ND(n.head.lastChild);if(!yv(t))throw new B(-507,!1)}function cA(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];iv(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Fv(n,e,t){iv(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function c_(n,e,t){if(qy(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ce(r)}}}var qr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(qr||{});var Lv=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ty})`}};function u_(n){return n instanceof Lv?n.changingThisBreaksApplicationSecurity:n}var mV=/^>|^->|<!--|-->|--!>|<!-$/g,yV=/(<|>)/g,vV="\u200B$1\u200B";function _V(n){return n.replace(mV,e=>e.replace(yV,vV))}function uA(n,e){return n.createText(e)}function EV(n,e,t){n.setValue(e,t)}function lA(n,e){return n.createComment(_V(e))}function l_(n,e,t){return n.createElement(e,t)}function Bf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function dA(n,e,t){n.appendChild(e,t)}function OD(n,e,t,r,i){r!==null?Bf(n,e,t,r,i):dA(n,e,t)}function d_(n,e,t,r){n.removeChild(null,e,t,r)}function fA(n){n.textContent=""}function IV(n,e,t){n.setAttribute(e,"style",t)}function wV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function hA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&UL(n,e,r),i!==null&&wV(n,e,i),o!==null&&IV(n,e,o)}function pA(n){return n.ownerDocument.body}function gA(n){return n instanceof Function?n():n}function CV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var mA="ng-template";function bV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(f_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function f_(n){return n.type===4&&n.value!==mA}function TV(n,e,t){let r=n.type===4&&!t?mA:n.value;return e===r}function DV(n,e,t){let r=4,i=n.attrs,o=i!==null?MV(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Kn(r)&&!Kn(u))return!1;if(s&&Kn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!TV(n,u,t)||u===""&&e.length===1){if(Kn(r))return!1;s=!0}}else if(r&8){if(i===null||!bV(n,i,u,t)){if(Kn(r))return!1;s=!0}}else{let l=e[++a],f=SV(u,i,f_(n),t);if(f===-1){if(Kn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(n){return(n&1)===0}function SV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return RV(e,n)}function AV(n,e,t=!1){for(let r=0;r<e.length;r++)if(DV(n,e[r],t))return!0;return!1}function MV(n){for(let e=0;e<n.length;e++){let t=n[e];if(jL(t))return e}return n.length}function RV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function xD(n,e){return n?":not("+e.trim()+")":e}function PV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=xD(o,i),i=""),r=s,o=o||!Kn(r);t++}return i!==""&&(e+=xD(o,i)),e}function NV(n){return n.map(PV).join(",")}function OV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Kn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Qn={};function h_(n,e,t,r,i,o,s,a,u,l,f){let p=ke+r,g=p+i,y=xV(p,g),b=typeof l=="function"?l():l;return y[W]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:f}}function xV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qn);return t}function kV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=h_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function p_(n,e,t,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[zt]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),Qy(p),p[Xe]=p[Oo]=n,p[xt]=t,p[$r]=s||n&&n[$r],p[Ne]=a||n&&n[Ne],p[Pn]=u||n&&n[Pn]||null,p[Rn]=o,p[eu]=eV(),p[hn]=f,p[zy]=l,p[rn]=e.type==2?n[rn]:p,p}function FV(n,e,t){let r=Nn(e,n),i=kV(t),o=n[$r].rendererFactory,s=g_(n,p_(n,i,null,yA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function yA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function vA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function g_(n,e){return n[na]?n[Hy][Mn]=e:n[na]=e,n[Hy]=e,e}function F(n=1){_A(Gt(),we(),ki()+n,!1)}function _A(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Mf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Rf(e,o,0,t)}Fi(t)}var ah=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ah||{});function Vv(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],u=null;(s&ah.SignalBased)!==0&&(u=e[o][Ot]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):lS(e,u,o,r)}finally{ce(i)}}var fr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(fr||{}),LV;function m_(n,e){return LV(n,e)}var ha=new Set,ch=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ch||{}),Go=new j(""),kD=new Set;function Qr(n){kD.has(n)||(kD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var EA=!1,Uv=class extends Qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,QT()&&(this.destroyRef=M(xn,{optional:!0})??void 0,this.pendingTasks=M(Wn,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=Uv;function IA(n){let e,t;function r(){n=cu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function FD(n){return queueMicrotask(()=>n()),()=>{n=cu}}var y_="isAngularZone",$f=y_+"_ID",VV=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EA}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(y_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,UV,cu,cu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},UV={};function v_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){IA(()=>{n.callbackScheduled=!1,jv(n),n.isCheckStableRunning=!0,v_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jv(n)}function BV(n){let e=()=>{jV(n)},t=VV++;n._inner=n._inner.fork({name:"angular",properties:{[y_]:!0,[$f]:t,[$f+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if($V(u))return r.invokeTask(o,s,a,u);try{return LD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),VD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return LD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HV(u)&&e(),VD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jv(n),v_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VD(n){n._nesting--,v_(n)}var Hf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $V(n){return wA(n,"__ignore_ng_zone__")}function HV(n){return wA(n,"__scheduler_tick__")}function wA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var __=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),CA=[0,1,2,3],bA=(()=>{class n{ngZone=M(be);scheduler=M(Ur);errorHandler=M(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Go,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of CA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[Lo]??=[]).push(t),oa(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ch.AFTER_NEXT_RENDER,t):t()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),zf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Lo];e&&(this.view[Lo]=e.filter(t=>t!==this))}};function _u(n,e){let t=e?.injector??M(qe);return Qr("NgAfterNextRender"),qV(n,t,e,!0)}function zV(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function qV(n,e,t,r){let i=e.get(__);i.impl??=e.get(bA);let o=e.get(Go,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(xn):null,a=e.get(bf,null,{optional:!0}),u=new zf(i.impl,zV(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var GV=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function TA(n,e,t){let r=n.get(GV);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function WV(n,e){for(let[t,r]of e)TA(n,r.animateFns)}function UD(n,e,t,r){let i=n?.[nu]?.enter;e!==null&&i&&i.has(t.index)&&WV(r,i)}function ca(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;mn(i)?u=i:gn(i)&&(l=!0,i=i[zt]);let f=yn(i);n===0&&r!==null?(UD(a,r,o,t),s==null?dA(e,r,f):Bf(e,r,f,s||null,!0)):n===1&&r!==null?(UD(a,r,o,t),Bf(e,r,f,s||null,!0)):n===2?jD(a,o,t,p=>{d_(e,f,l,p)}):n===3&&jD(a,o,t,()=>{e.destroyNode(f)}),u!=null&&s2(e,n,t,u,o,r,s)}}function KV(n,e){DA(n,e),e[zt]=null,e[Rn]=null}function QV(n,e,t,r,i,o){r[zt]=i,r[Rn]=e,uh(n,r,t,1,i,o)}function DA(n,e){e[$r].changeDetectionScheduler?.notify(9),uh(n,e,e[Ne],2,null,null)}function YV(n){let e=n[na];if(!e)return vv(n[W],n);for(;e;){let t=null;if(gn(e))t=e[na];else{let r=e[qt];r&&(t=r)}if(!t){for(;e&&!e[Mn]&&e!==n;)gn(e)&&vv(e[W],e),e=e[Xe];e===null&&(e=n),gn(e)&&vv(e[W],e),t=e&&e[Mn]}e=t}}function E_(n,e){let t=n[iu],r=t.indexOf(e);t.splice(r,1)}function I_(n,e){if(xi(e))return;let t=e[Ne];t.destroyNode&&uh(n,e,t,3,null,null),YV(e)}function vv(n,e){if(xi(e))return;let t=ce(null);try{e[re]&=-129,e[re]|=256,e[pn]&&$c(e[pn]),XV(n,e),JV(n,e),e[W].type===1&&e[Ne].destroy();let r=e[xo];if(r!==null&&mn(e[Xe])){r!==e[Xe]&&E_(r,e);let i=e[Fo];i!==null&&i.detachView(n)}Nv(e)}finally{ce(t)}}function jD(n,e,t,r){let i=n?.[nu];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&ha.add(n),TA(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),ZV(n,r)}else n&&ha.delete(n),r(!1)},i)}function ZV(n,e){let t=n[nu]?.running;if(t){t.then(()=>{n[nu].running=void 0,ha.delete(n),e(!0)});return}e(!1)}function JV(n,e){let t=n.cleanup,r=e[ta];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ta]=null);let i=e[Lr];if(i!==null){e[Lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[tu];if(o!==null){e[tu]=null;for(let s of o)s.destroy()}}function XV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function e2(n,e,t){return t2(n,e.parent,t)}function t2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[zt];if(Hr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===qr.None||i===qr.Emulated)return null}return Nn(r,t)}function n2(n,e,t){return i2(n,e,t)}function r2(n,e,t){return n.type&40?Nn(n,t):null}var i2=r2,BD;function w_(n,e,t,r){let i=e2(n,r,e),o=e[Ne],s=r.parent||e[Rn],a=n2(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)OD(o,i,t[u],a,!1);else OD(o,i,t,a,!1);BD!==void 0&&BD(o,r,e,t,i)}function uu(n,e){if(e!==null){let t=e.type;if(t&3)return Nn(e,n);if(t&4)return Bv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return uu(n,r);{let i=n[e.index];return mn(i)?Bv(-1,i):yn(i)}}else{if(t&128)return uu(n,e.next);if(t&32)return m_(e,n)()||yn(n[e.index]);{let r=SA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pi(n[rn]);return uu(i,r)}else return uu(n,e.next)}}}return null}function SA(n,e){if(e!==null){let r=n[rn][Rn],i=e.projection;return r.projection[i]}return null}function Bv(n,e){let t=qt+n+1;if(t<e.length){let r=e[t],i=r[W].firstChild;if(i!==null)return uu(r,i)}return e[ur]}function C_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Pn];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&fa(yn(u),r),t.flags|=2),!ih(t))if(l&8)C_(n,e,t.child,r,i,o,!1),ca(e,n,a,i,u,t,o,r);else if(l&32){let f=m_(t,r),p;for(;p=f();)ca(e,n,a,i,p,t,o,r);ca(e,n,a,i,u,t,o,r)}else l&16?o2(n,e,r,t,i,o):ca(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function uh(n,e,t,r,i,o){C_(t,r,n.firstChild,e,i,o,!1)}function o2(n,e,t,r,i,o){let s=t[rn],u=s[Rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ca(e,n,t[Pn],i,f,r,o,t)}else{let l=u,f=s[Xe];jf(r)&&(l.flags|=128),C_(n,e,l,f,i,o,!0)}}function s2(n,e,t,r,i,o,s){let a=r[ur],u=yn(r);a!==u&&ca(e,n,t,o,a,i,s);for(let l=qt;l<r.length;l++){let f=r[l];uh(f[W],f,n,e,o,a)}}function a2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fr.Important),n.setStyle(t,r,i,o))}}function AA(n,e,t,r,i){let o=ki(),s=r&2;try{Fi(-1),s&&e.length>ke&&_A(n,e,ke,!1),De(s?2:0,i,t),t(r,i)}finally{Fi(o),De(s?3:1,i,t)}}function lh(n,e,t){p2(n,e,t),(t.flags&64)===64&&g2(n,e,t)}function b_(n,e,t=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function c2(n,e,t,r){let o=r.get(n_,$S)||t===qr.ShadowDom,s=n.selectRootElement(e,o);return u2(s),s}function u2(n){MA(n)}var MA=()=>null;function l2(n){SS(n)?fA(n):fV(n)}function RA(){MA=l2}function d2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PA(n,e,t,r,i,o){let s=e[W];if(S_(n,s,e,t,r)){Hr(n)&&h2(e,n.index);return}n.type&3&&(t=d2(t)),f2(n,e,t,r,i,o)}function f2(n,e,t,r,i,o){if(n.type&3){let s=Nn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function h2(n,e){let t=On(e,n);t[re]&16||(t[re]|=64)}function p2(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Hr(t)&&FV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Uf(e,n,s,t);if(fa(u,e),o!==null&&_2(e,s-r,u,a,t,o),lr(a)){let l=On(t.index,e);l[xt]=Uf(e,n,s,t)}}}function g2(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=mD();try{Fi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];_f(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&m2(u,l)}}finally{Fi(-1),_f(s)}}function m2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function T_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];AV(e,o.selectors,!1)&&(r??=[],lr(o)?r.unshift(o):r.push(o))}return r}function y2(n,e,t,r,i,o){let s=Nn(n,e);v2(e[Ne],s,o,n.value,t,r,i)}function v2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Xs(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function _2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Vv(r,t,u,l)}}function NA(n,e,t,r,i){let o=ke+t,s=e[W],a=i(s,e,n,r,t);e[o]=a,sa(n,!0);let u=n.type===2;return u?(hA(e[Ne],a,n),(iD()===0||ra(n))&&fa(a,e),oD()):fa(a,e),Cf()&&(!u||!ih(n))&&w_(s,e,a,n),n}function OA(n){let e=n;return ev()?dD():(e=e.parent,sa(e,!1)),e}function D_(n,e){let t=n[Pn];if(!t)return;let r;try{r=t.get(on,null)}catch{r=null}r?.(e)}function S_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Vv(p,t[l],f,i),a=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Vv(f,l,r,i),a=!0}return a}function E2(n,e){let t=On(e,n),r=t[W];I2(r,t);let i=t[zt];i!==null&&t[hn]===null&&(t[hn]=nA(i,t[Pn])),De(18),A_(r,t,t[xt]),De(19,t[xt])}function I2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function A_(n,e,t){Ef(e);try{let r=n.viewQuery;r!==null&&Fv(1,r,t);let i=n.template;i!==null&&AA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Fo]?.finishViewCreation(n),n.staticContentQueries&&cA(n,e),n.staticViewQueries&&Fv(2,n.viewQuery,t);let o=n.components;o!==null&&w2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,If()}}function w2(n,e){for(let t=0;t<e.length;t++)E2(n,e[t])}function xA(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=p_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[xo]=l;let f=n[Fo];return f!==null&&(u[Fo]=f.createEmbeddedView(o)),A_(o,u,t),u}finally{ce(i)}}function $v(n,e){return!e||e.firstChild===null||jf(n)}function hu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(yn(o)),mn(o)&&kA(o,r);let s=t.type;if(s&8)hu(n,e,t.child,r);else if(s&32){let a=m_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=SA(e,t);if(Array.isArray(a))r.push(...a);else{let u=Pi(e[rn]);hu(u[W],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function kA(n,e){for(let t=qt;t<n.length;t++){let r=n[t],i=r[W].firstChild;i!==null&&hu(r[W],r,i,e)}n[ur]!==n[zt]&&e.push(n[ur])}function FA(n){if(n[Lo]!==null){for(let e of n[Lo])e.impl.addSequence(e);n[Lo].length=0}}var LA=[];function C2(n){return n[pn]??b2(n)}function b2(n){let e=LA.pop()??Object.create(D2);return e.lView=n,e}function T2(n){n.lView[pn]!==n&&(n.lView=null,LA.push(n))}var D2=ue(V({},Ns),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{oa(n.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function S2(n){let e=n[pn]??Object.create(A2);return e.lView=n,e}var A2=ue(V({},Ns),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Pi(n.lView);for(;e&&!VA(e[W]);)e=Pi(e);e&&Yy(e)},consumerOnSignalRead(){this.lView[pn]=this}});function VA(n){return n.type!==2}function UA(n){if(n[tu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[tu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var M2=100;function jA(n,e=0){let r=n[$r].rendererFactory,i=!1;i||r.begin?.();try{R2(n,e)}finally{i||r.end?.()}}function R2(n,e){let t=tv();try{nv(!0),Hv(n,e);let r=0;for(;su(n);){if(r===M2)throw new B(103,!1);r++,Hv(n,1)}}finally{nv(t)}}function P2(n,e,t,r){if(xi(e))return;let i=e[re],o=!1,s=!1;Ef(e);let a=!0,u=null,l=null;o||(VA(n)?(l=C2(e),u=xs(l)):Ad()===null?(a=!1,l=S2(e),u=xs(l)):e[pn]&&($c(e[pn]),e[pn]=null));try{Qy(e),hD(n.bindingStartIndex),t!==null&&AA(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&Mf(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Rf(e,y,0,null),gv(e,0)}if(s||N2(e),UA(e),BA(e,0),n.contentQueries!==null&&cA(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&Mf(e,y)}else{let y=n.contentHooks;y!==null&&Rf(e,y,1),gv(e,1)}x2(n,e);let p=n.components;p!==null&&HA(e,p,0);let g=n.viewQuery;if(g!==null&&Fv(2,g,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&Mf(e,y)}else{let y=n.viewHooks;y!==null&&Rf(e,y,2),gv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pf]){for(let y of e[pf])y();e[pf]=null}o||(FA(e),e[re]&=-73)}catch(f){throw o||oa(e),f}finally{l!==null&&(jc(l,u),a&&T2(l)),If()}}function BA(n,e){for(let t=RS(n);t!==null;t=PS(t))for(let r=qt;r<t.length;r++){let i=t[r];$A(i,e)}}function N2(n){for(let e=RS(n);e!==null;e=PS(e)){if(!(e[re]&2))continue;let t=e[iu];for(let r=0;r<t.length;r++){let i=t[r];Yy(i)}}}function O2(n,e,t){De(18);let r=On(e,n);$A(r,t),De(19,r[xt])}function $A(n,e){gf(n)&&Hv(n,e)}function Hv(n,e){let r=n[W],i=n[re],o=n[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bc(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)P2(r,n,r.template,n[xt]);else if(i&8192){let a=ce(null);try{UA(n),BA(n,1);let u=r.components;u!==null&&HA(n,u,1),FA(n)}finally{ce(a)}}}function HA(n,e,t){for(let r=0;r<e.length;r++)O2(n,e[r],t)}function x2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Fi(~i);else{let o=i,s=t[++r],a=t[++r];gD(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{Fi(-1)}}function dh(n,e){let t=tv()?64:1088;for(n[$r].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=Pi(n);if(Vo(n)&&!r)return n;n=r}return null}function zA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qA(n,e,t,r=!0){let i=e[W];if(F2(i,e,n,t),r){let s=Bv(t,n),a=e[Ne],u=a.parentNode(n[ur]);u!==null&&QV(i,n[Rn],a,e,u,s)}let o=e[hn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function k2(n,e){let t=qf(n,e);return t!==void 0&&I_(t[W],t),t}function qf(n,e){if(n.length<=qt)return;let t=qt+e,r=n[t];if(r){let i=r[xo];i!==null&&i!==n&&E_(i,r),e>0&&(n[t-1][Mn]=r[Mn]);let o=Zc(n,qt+e);KV(r[W],r);let s=o[Fo];s!==null&&s.detachView(o[W]),r[Xe]=null,r[Mn]=null,r[re]&=-129}return r}function F2(n,e,t,r){let i=qt+r,o=t.length;r>0&&(t[i-1][Mn]=e),r<o-qt?(e[Mn]=t[i],Fy(t,qt+r,e)):(t.push(e),e[Mn]=null),e[Xe]=t;let s=e[xo];s!==null&&t!==s&&GA(s,e);let a=e[Fo];a!==null&&a.insertView(n),mf(e),e[re]|=128}function GA(n,e){let t=n[iu],r=e[Xe];if(gn(r))n[re]|=2;else{let i=r[Xe][rn];e[rn]!==i&&(n[re]|=2)}t===null?n[iu]=[e]:t.push(e)}var Vi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[W];return hu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return xi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(mn(e)){let t=e[ru],r=t?t.indexOf(this):-1;r>-1&&(qf(e,r),Zc(t,r))}this._attachedToViewContainer=!1}I_(this._lView[W],this._lView)}onDestroy(e){Zy(this._lView,e)}markForCheck(){dh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){mf(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,jA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vo(this._lView),t=this._lView[xo];t!==null&&!e&&E_(t,this._lView),DA(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Vo(this._lView),r=this._lView[xo];r!==null&&!t&&GA(r,this._lView),mf(this._lView)}};var Eu=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=L2;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=xA(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Vi(o)}}return n})();function L2(){return V2(kt(),we())}function V2(n,e){return n.type&4?new Eu(e,n,Xf(n,e)):null}function M_(n,e,t,r,i){let o=n.data[e];if(o===null)o=U2(n,e,t,r,i),pD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=lD();o.injectorIndex=s===null?-1:s.injectorIndex}return sa(o,!0),o}function U2(n,e,t,r,i){let o=Xy(),s=ev(),a=s?o:o&&o.parent,u=n.data[e]=B2(n,a,t,e,r,i);return j2(n,u,o,s),u}function j2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function B2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Jy()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $2=new RegExp(`^(\\d+)*(${xS}|${OS})*(.*)`);function H2(n){let e=n.match($2),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;a.push(l,p)}return[s,...a]}function z2(n){return!n.prev&&n.parent?.type===8}function _v(n){return n.index-ke}function q2(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function fh(n,e,t,r){let i=_v(r),o=q2(n,i);if(o===void 0){let s=n.data[VS];if(s?.[i])o=W2(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(z2(r)){let l=_v(r.parent);o=kv(n,l)}else{let l=Nn(u,t);if(a)o=l.firstChild;else{let f=_v(u),p=kv(n,f);if(u.type===2&&p){let y=a_(n,f)+1;o=hh(y,p)}else o=l.nextSibling}}}}return o}function hh(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function G2(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case oV:t=t.firstChild;break;case sV:t=t.nextSibling;break}}return t}function W2(n,e){let[t,...r]=H2(n),i;if(t===OS)i=e[rn][zt];else if(t===xS)i=pA(e[rn][zt]);else{let o=Number(t);i=yn(e[o+ke])}return G2(i,r)}var K2=!1;function WA(n){K2=n}function Q2(n){let e=n[hn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ne];for(let o of r.values())Y2(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Y2(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-ke);i&&d_(n,i,!1)}}function R_(n){let e=n[Gn]??[],r=n[Xe][Ne],i=[];for(let o of e)o.data[US]!==void 0?i.push(o):KA(o,r);n[Gn]=i}function Z2(n){let{lContainer:e}=n,t=e[Gn];if(t===null)return;let i=e[Xe][Ne];for(let o of t)KA(o,i)}function KA(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[fu];for(;t<i;){let o=r.nextSibling;d_(e,r,!1),r=o,t++}}}function ph(n){R_(n);let e=n[zt];gn(e)&&Gf(e);for(let t=qt;t<n.length;t++)Gf(n[t])}function Gf(n){Q2(n);let e=n[W];for(let t=ke;t<e.bindingStartIndex;t++)if(mn(n[t])){let r=n[t];ph(r)}else gn(n[t])&&Gf(n[t])}function P_(n){let e=n._views;for(let t of e){let r=rA(t);r!==null&&r[zt]!==null&&(gn(r)?Gf(r):ph(r))}}function J2(n,e,t,r){n!==null&&(t.cleanup(e),ph(n.lContainer),P_(r))}function X2(n,e){let t=[];for(let r of e)for(let i=0;i<(r[e_]??1);i++){let o={data:r,firstChild:null};r[fu]>0&&(o.firstChild=n,n=hh(r[fu],n)),t.push(o)}return[n,t]}var QA=()=>null,eU=()=>null;function YA(){QA=tU,eU=nU}function tU(n,e){return ZA(n,e)?n[Gn].shift():(R_(n),null)}function zv(n,e){return QA(n,e)}function nU(n,e,t){if(e.tView.ssrId===null)return null;let r=zv(n,e.tView.ssrId);return t[W].firstUpdatePass&&r===null&&rU(t,e),r}function rU(n,e){let t=e;for(;t;){if($D(n,t))return;if((t.flags&256)===256)break;t=t.prev}for(t=e.next;t&&(t.flags&512)===512;){if($D(n,t))return;t=t.next}}function ZA(n,e){let t=n[Gn];return!e||t===null||t.length===0?!1:t[0].data[LS]===e}function $D(n,e){let t=e.tView?.ssrId;if(t==null)return!1;let r=n[e.index];return mn(r)&&ZA(r,t)?(R_(r),!0):!1}var JA=class{},gh=class{},qv=class{resolveComponentFactory(e){throw new B(917,!1)}},Iu=class{static NULL=new qv},$o=class{},Ui=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>iU()}return n})();function iU(){let n=we(),e=kt(),t=On(e.index,n);return(gn(t)?t:n)[Ne]}var XA=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var Nf={},la=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Nf,r);return i!==Nf||t===Nf?i:this.parentInjector.get(e,t,r)}};function HD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Dy(i,a);else if(o==2){let u=a,l=e[++s];r=Dy(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Y(n,e=0){let t=we();if(t===null)return de(n,e);let r=kt();return wS(r,t,bt(n),e)}function eM(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}aU(n,e,t,a,o,u,l)}o!==null&&r!==null&&oU(t,r,o)}function oU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function sU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function aU(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&lr(y)&&(u=!0,sU(n,t,g)),Rv(Vf(t,e),n,y.type)}hU(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=vA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=du(t.mergedAttrs,y.hostAttrs),uU(n,t,e,p,y),fU(p,y,i),s!==null&&s.has(y)){let[O,N]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}cU(n,t,o)}function cU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))zD(0,e,i,r),zD(1,e,i,r),GD(e,r,!1);else{let o=t.get(i);qD(0,e,o,r),qD(1,e,o,r),GD(e,r,!0)}}}function zD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tM(e,o)}}function qD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),tM(e,s)}}function tM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function GD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||f_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function uU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new Bo(o,lr(i),Y,null);n.blueprint[r]=s,t[r]=s,lU(n,e,r,vA(n,t,i.hostVars,Qn),i)}function lU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;dU(s)!=a&&s.push(a),s.push(t,r,o)}}function dU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function fU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;lr(e)&&(t[""]=n)}}function hU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function N_(n,e,t,r,i,o,s,a){let u=e[W],l=u.consts,f=ou(l,s),p=M_(u,n,t,r,f);return o&&eM(u,e,p,ou(l,a),i),p.mergedAttrs=du(p.mergedAttrs,p.attrs),p.attrs!==null&&HD(p,p.attrs,!1),p.mergedAttrs!==null&&HD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function O_(n,e){pS(n,e),qy(e)&&n.queries.elementEnd(e)}function x_(n){return rM(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nM(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rM(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function k_(n,e,t){return n[e]=t}function Gr(n,e,t){if(t===Qn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function F_(n,e,t,r){let i=Gr(n,e,t);return Gr(n,e+1,r)||i}function pU(n,e,t,r,i){let o=F_(n,e,t,r);return Gr(n,e+2,i)||o}function Ev(n,e,t){return function r(i){let o=Hr(n)?On(n.index,e):e;dh(o,5);let s=e[xt],a=WD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=WD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function WD(n,e,t,r){let i=ce(null);try{return De(6,e,t),t(r)!==!1}catch(o){return D_(n,o),!1}finally{De(7,e,t),ce(i)}}function gU(n,e,t,r,i,o,s,a){let u=ra(n),l=!1,f=null;if(!r&&u&&(f=yU(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=Nn(n,t),g=r?r(p):p;aV(t,g,o,a);let y=i.listen(g,o,a);if(!mU(o)){let b=r?O=>r(yn(O[n.index])):n.index;iM(b,e,t,o,a,y,!1)}}return l}function mU(n){return n.startsWith("animation")||n.startsWith("transition")}function yU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ta],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function iM(n,e,t,r,i,o,s){let a=e.firstCreatePass?rD(e):null,u=nD(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function KD(n,e,t,r,i,o){let s=e[t],a=e[W],l=a.data[t].outputs[r],p=s[l].subscribe(o);iM(n.index,a,e,i,o,p,!0)}var Gv=Symbol("BINDING");var Wf=class extends Iu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Br(e);return new pa(t,this.ngModule)}};function vU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ah.SignalBased)!==0};return i&&(o.transform=i),o})}function _U(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function EU(n,e,t){let r=e instanceof Je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new la(t,r):t}function IU(n){let e=n.get($o,null);if(e===null)throw new B(407,!1);let t=n.get(XA,null),r=n.get(Ur,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function wU(n,e){let t=oM(n);return l_(e,t,t==="svg"?ZT:t==="math"?JT:null)}function oM(n){return(n.selectors[0][0]||"div").toLowerCase()}var pa=class extends gh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_U(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=NV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){De(22);let a=ce(null);try{let u=this.componentDef,l=CU(r,u,s,o),f=EU(u,i||this.ngModule,e),p=IU(f),g=p.rendererFactory.createRenderer(null,u),y=r?c2(g,r,u.encapsulation,f):wU(u,g),b=s?.some(QD)||o?.some($=>typeof $!="function"&&$.bindings.some(QD)),O=p_(null,l,null,512|yA(u),null,null,p,g,f,null,nA(y,f,!0));O[ke]=y,Ef(O);let N=null;try{let $=N_(ke,O,2,"#host",()=>l.directiveRegistry,!0,0);hA(g,y,$),fa(y,O),lh(l,O,$),c_(l,$,O),O_(l,$),t!==void 0&&TU($,this.ngContentSelectors,t),N=On($.index,O),O[xt]=N[xt],A_(l,O,null)}catch($){throw N!==null&&Nv(N),Nv(O),$}finally{De(23),If()}return new Kf(this.componentType,O,!!b)}finally{ce(a)}}};function CU(n,e,t,r){let i=n?["ng-version","20.3.15"]:OV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let f of t)a+=f[Gv].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let g of p.bindings){a+=g[Gv].requiredVars;let y=f+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,g=ff(p);u.push(g)}return h_(0,null,bU(o,s),1,a,u,null,null,null,[i],null)}function bU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function QD(n){let e=n[Gv].kind;return e==="input"||e==="twoWay"}var Kf=class extends JA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ia(t[W],ke),this.location=Xf(this._tNode,t),this.instance=On(this._tNode.index,t)[xt],this.hostView=this.changeDetectorRef=new Vi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=S_(r,i[W],i,e,t);this.previousInputValues.set(e,t);let s=On(r.index,i);dh(s,1)}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wo=(()=>{class n{static __NG_ELEMENT_ID__=DU}return n})();function DU(){let n=kt();return AU(n,we())}var SU=Wo,sM=class extends SU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xf(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zv(this._hostTNode,this._hostLView);if(mS(e)){let t=Ff(e,this._hostLView),r=kf(e),i=t[W].data[r+8];return new jo(i,t)}else return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$v(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!PL(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let f=u?e:new pa(Br(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let $=(u?p:this.parentInjector).get(Je,null);$&&(o=$)}let g=Br(f.componentType??{}),y=zv(this._lContainer,g?.id??null),b=y?.firstChild??null,O=f.create(p,i,b,o,s,a);return this.insertImpl(O.hostView,l,$v(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(XT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Xe],l=new sM(u,u[Rn],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qA(s,i,o,r),e.attachToViewContainerRef(),Fy(Iv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qf(this._lContainer,t);r&&(Zc(Iv(this._lContainer),t),I_(r[W],r))}detach(e){let t=this._adjustIndex(e,-1),r=qf(this._lContainer,t);return r&&Zc(Iv(this._lContainer),t)!=null?new Vi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YD(n){return n[ru]}function Iv(n){return n[ru]||(n[ru]=[])}function AU(n,e){let t,r=e[n.index];return mn(r)?t=r:(t=zA(r,e,null,n),e[n.index]=t,g_(e,t)),aM(t,e,n,r),new sM(t,n,e)}function MU(n,e){let t=n[Ne],r=t.createComment(""),i=Nn(e,n),o=t.parentNode(i);return Bf(t,o,r,t.nextSibling(i),!1),r}var aM=cM,L_=()=>!1;function RU(n,e,t){return L_(n,e,t)}function cM(n,e,t,r){if(n[ur])return;let i;t.type&8?i=yn(r):i=MU(e,t),n[ur]=i}function PU(n,e,t){if(n[ur]&&n[Gn])return!0;let r=t[hn],i=e.index-ke;if(!r||AS(e)||sA(r,i))return!1;let s=kv(r,i),a=r.data[nh]?.[i],[u,l]=X2(s,a);return n[ur]=u,n[Gn]=l,!0}function NU(n,e,t,r){L_(n,t,e)||cM(n,e,t,r)}function uM(){aM=NU,L_=PU}var Ho=class{},mh=class{};var Qf=class extends Ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Uy(e);this._bootstrapComponents=gA(o.bootstrap),this._r3Injector=cv(e,t,[{provide:Ho,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver},...r],Vr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yf=class extends mh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qf(this.moduleType,e,[])}};var pu=class extends Ho{injector;componentFactoryResolver=new Wf(this);instance=null;constructor(e){super();let t=new Po([...e.providers,{provide:Ho,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],e.parent||Xc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ya(n,e,t=null){return new pu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var OU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=hf(!1,t.type),i=r.length>0?ya([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(de(Je))})}return n})();function ht(n){return ma(()=>{let e=lM(n),t=ue(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(OU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qr.Emulated,styles:n.styles||fn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qr("NgStandalone"),dM(t);let r=n.dependencies;return t.directiveDefs=ZD(r,xU),t.pipeDefs=ZD(r,jy),t.id=LU(t),t})}function xU(n){return Br(n)||ff(n)}function Yr(n){return ma(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kU(n,e){if(n==null)return Oi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ah.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function FU(n){if(n==null)return Oi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ve(n){return ma(()=>{let e=lM(n);return dM(e),e})}function V_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Oi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kU(n.inputs,e),outputs:FU(n.outputs),debugInfo:null}}function dM(n){n.features?.forEach(e=>e(n))}function ZD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function LU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VU(n){return Object.getPrototypeOf(n.prototype).constructor}function Wt(n){let e=VU(n.type),t=!0,r=[n];for(;e;){let i;if(lr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=wv(n.inputs),s.declaredInputs=wv(n.declaredInputs),s.outputs=wv(n.outputs);let a=i.hostBindings;a&&HU(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BU(n,u),l&&$U(n,l),UU(n,i),FT(n.outputs,i.outputs),lr(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Wt&&(t=!1)}}e=Object.getPrototypeOf(e)}jU(r)}function UU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function jU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=du(i.hostAttrs,t=du(t,i.hostAttrs))}}function wv(n){return n===Oi?{}:n===fn?[]:n}function BU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $U(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function HU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function zU(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=du(n.mergedAttrs,n.attrs);let f=n.tView=h_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),sa(n,!1);let u=fM(t,e,n,r);Cf()&&w_(t,e,u,n),fa(u,e);let l=zA(u,e,u,n);e[r+ke]=l,g_(e,l),RU(l,n,e)}function qU(n,e,t,r,i,o,s,a,u,l,f){let p=t+ke,g;return e.firstCreatePass?(g=M_(e,p,4,s||null,a||null),yf()&&eM(e,n,g,ou(e.consts,l),T_),pS(e,g)):g=e.data[p],zU(g,n,e,t,r,i,o,u),ra(g)&&lh(e,n,g),l!=null&&b_(n,g,f),g}function he(n,e,t,r,i,o,s,a){let u=we(),l=Gt(),f=ou(l.consts,o);return qU(u,l,n,e,t,r,i,f,void 0,s,a),he}var fM=hM;function hM(n,e,t,r){return zr(!0),e[Ne].createComment("")}function GU(n,e,t,r){let i=!sh(e,t);zr(i);let o=e[hn]?.data[FS]?.[r]??null;if(o!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=o),i)return hM(n,e);let s=e[hn],a=fh(s,n,e,t);oh(s,r,a);let u=a_(s,r);return hh(u,a)}function pM(){fM=GU}var _n=(function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n})(_n||{}),JD=0,WU=1,rt=(function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n})(rt||{});var KU=0,wu=1;var QU=4,YU=5;var ZU=7,da=8,JU=9,U_=(function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n})(U_||{});function Of(n,e){let t=ej(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function XU(n){Of(1,n),Of(0,n),Of(2,n)}function ej(n){let e=QU;return n===1?e=YU:n===2&&(e=JU),e}function gM(n){return n+1}function va(n,e){let t=n[W],r=gM(e.index);return n[r]}function Cu(n,e){let t=gM(e.index);return n.data[t]}function tj(n,e,t){let r=e[W],i=Cu(r,t);switch(n){case rt.Complete:return i.primaryTmplIndex;case rt.Loading:return i.loadingTmplIndex;case rt.Error:return i.errorTmplIndex;case rt.Placeholder:return i.placeholderTmplIndex;default:return null}}function XD(n,e){return e===rt.Placeholder?n.placeholderBlockConfig?.[JD]??null:e===rt.Loading?n.loadingBlockConfig?.[JD]??null:null}function nj(n){return n.loadingBlockConfig?.[WU]??null}function eS(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function rj(n,e){let t=e.primaryTmplIndex+ke;return ia(n,t)}var ij=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?ya(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n})}return n})();var mM=new j("");function Cv(n,e,t){return n.get(ij).getOrCreateInjector(e,n,t,"")}function oj(n,e,t){if(n instanceof la){let i=n.injector,o=n.parentInjector,s=Cv(o,e,t);return new la(i,s)}let r=n.get(Je);if(r!==n){let i=Cv(r,e,t);return new la(n,i)}return Cv(n,e,t)}function Uo(n,e,t,r=!1){let i=t[Xe],o=i[W];if(xi(i))return;let s=va(i,e),a=s[wu],u=s[ZU];if(!(u!==null&&n<u)&&tS(a,n)&&tS(s[KU]??-1,n)){let l=Cu(o,e),p=!r&&!0&&(nj(l)!==null||XD(l,rt.Loading)!==null||XD(l,rt.Placeholder))?cj:aj;try{p(n,s,t,e,i)}catch(g){D_(i,g)}}}function sj(n,e){let t=n[Gn]?.findIndex(i=>i.data[jS]===e[wu])??-1;return{dehydratedView:t>-1?n[Gn][t]:null,dehydratedViewIx:t}}function aj(n,e,t,r,i){De(20);let o=tj(n,i,r);if(o!==null){e[wu]=n;let s=i[W],a=o+ke,u=ia(s,a),l=0;k2(t,l);let f;if(n===rt.Complete){let b=Cu(s,r),O=b.providers;O&&O.length>0&&(f=oj(i[Pn],b,O))}let{dehydratedView:p,dehydratedViewIx:g}=sj(t,e),y=xA(i,u,null,{injector:f,dehydratedView:p});if(qA(t,y,l,$v(u,p)),dh(y,2),g>-1&&t[Gn]?.splice(g,1),(n===rt.Complete||n===rt.Error)&&Array.isArray(e[da])){for(let b of e[da])b();e[da]=null}}De(21)}function tS(n,e){return n<e}function nS(n,e,t){n.loadingPromise.then(()=>{n.loadingState===_n.COMPLETE?Uo(rt.Complete,e,t):n.loadingState===_n.FAILED&&Uo(rt.Error,e,t)})}var cj=null;var yh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var j_=new j("");function ji(n){return!!n&&typeof n.then=="function"}function B_(n){return!!n&&typeof n.subscribe=="function"}var yM=new j("");var $_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(yM,{optional:!0})??[];injector=M(qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=et(this.injector,i);if(ji(o))t.push(o);else if(B_(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bi=new j("");function vM(){qm(()=>{let n="";throw new B(600,n)})}function _M(n){return n.isBoundToModule}var uj=10;var Ft=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(on);afterRenderManager=M(__);zonelessEnabled=M(aa);rootEffectScheduler=M(pv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Qe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Wn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ge(t=>!t))}constructor(){M(Go,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=qe.NULL){return this._injector.get(be).run(()=>{De(10);let s=t instanceof gh;if(!this._injector.get($_).done){let b="";throw new B(405,b)}let u;s?u=t:u=this._injector.get(Iu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=_M(u)?void 0:this._injector.get(Ho),f=r||u.selector,p=u.create(i,[],f,l),g=p.location.nativeElement,y=p.injector.get(j_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),lu(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ch.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($o,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<uj;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!su(i))continue;let o=r&&!this.zonelessEnabled?0:1;jA(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>su(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;lu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Bi,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lj(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function EM(n,e,t){let r=e[Pn],i=e[W];if(n.loadingState!==_n.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=va(e,t),s=rj(i,n);n.loadingState=_n.IN_PROGRESS,Of(1,o);let a=n.dependencyResolverFn,u=r.get(Li).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let f=!1,p=[],g=[];for(let y of l)if(y.status==="fulfilled"){let b=y.value,O=Br(b)||ff(b);if(O)p.push(O);else{let N=jy(b);N&&g.push(N)}}else{f=!0;break}if(f){if(n.loadingState=_n.FAILED,n.errorTmplIndex===null){let b=new B(-750,!1);D_(e,b)}}else{n.loadingState=_n.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=eS(y.directiveRegistry,p);let b=p.map(N=>N.type),O=hf(!1,...b);n.providers=O}g.length>0&&(y.pipeRegistry=eS(y.pipeRegistry,g))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,u()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=_n.COMPLETE,u()}),n.loadingPromise)}function dj(n,e){return e[Pn].get(mM,null,{optional:!0})?.behavior!==U_.Manual}function fj(n,e,t){let r=e[W],i=e[t.index];if(!dj(n,e))return;let o=va(e,t),s=Cu(r,t);switch(XU(o),s.loadingState){case _n.NOT_STARTED:Uo(rt.Loading,t,i),EM(s,e,t),s.loadingState===_n.IN_PROGRESS&&nS(s,t,i);break;case _n.IN_PROGRESS:Uo(rt.Loading,t,i),nS(s,t,i);break;case _n.COMPLETE:Uo(rt.Complete,t,i);break;case _n.FAILED:Uo(rt.Error,t,i);break;default:}}function IM(n,e,t){return v(this,null,function*(){let r=n.get(rh);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=gV(e,n);if(s.length===0)return;o!==null&&s.shift(),gj(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield rS(n,s,t):r.awaitParentBlock(a,()=>v(null,null,function*(){return yield rS(n,s,t)}))})}function rS(n,e,t){return v(this,null,function*(){let r=n.get(rh),i=r.hydrating,o=n.get(Wn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],f=r.get(l);if(f!=null){if(yield yj(f),yield mj(n),hj(f)){Z2(f),iS(e.slice(u),r);break}i.get(l).resolve()}else{pj(u,e,r),iS(e.slice(u),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),t&&t(e),J2(r.get(a),e,r,n.get(Ft))})}function hj(n){return va(n.lView,n.tNode)[wu]===rt.Error}function pj(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&ph(i.lContainer)}function iS(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function gj(n,e){for(let t of e)n.hydrating.set(t,lj())}function mj(n){return new Promise(e=>_u(e,{injector:n}))}function yj(n){return v(this,null,function*(){let{tNode:e,lView:t}=n,r=va(t,e);return new Promise(i=>{vj(r,i),fj(2,t,e)})})}function vj(n,e){Array.isArray(n[da])||(n[da]=[]),n[da].push(e)}function vh(n,e,t,r){let i=we(),o=au();if(Gr(i,o,e)){let s=Gt(),a=wf();y2(a,i,n,e,t,r)}return vh}var pee=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function q(n,e,t){let r=we(),i=au();if(Gr(r,i,e)){let o=Gt(),s=wf();PA(s,r,n,e,r[Ne],t)}return q}function oS(n,e,t,r,i){S_(e,n,t,i?"class":"style",r)}function R(n,e,t,r){let i=we(),o=i[W],s=n+ke,a=o.firstCreatePass?N_(s,i,2,e,T_,yf(),t,r):o.data[s];if(NA(a,i,n,e,wM),ra(a)){let u=i[W];lh(u,i,a),c_(u,a,i)}return r!=null&&b_(i,a),R}function A(){let n=Gt(),e=kt(),t=OA(e);return n.firstCreatePass&&O_(n,t),aD(t)&&uD(),sD(),t.classesWithoutHost!=null&&LL(t)&&oS(n,t,we(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&VL(t)&&oS(n,t,we(),t.stylesWithoutHost,!1),A}function Dt(n,e,t,r){return R(n,e,t,r),A(),Dt}var wM=(n,e,t,r,i)=>(zr(!0),l_(e[Ne],r,av()));function _j(n,e,t,r,i){let o=!sh(e,t);if(zr(o),o)return l_(e[Ne],r,av());let s=e[hn],a=fh(s,n,e,t);return oA(s,i)&&oh(s,i,a.nextSibling),s&&(DS(t)||SS(a))&&Hr(t)&&(cD(t),fA(a)),a}function CM(){wM=_j}function $i(n,e,t){let r=we(),i=r[W],o=n+ke,s=i.firstCreatePass?N_(o,r,8,"ng-container",T_,yf(),e,t):i.data[o];if(NA(s,r,n,"ng-container",bM),ra(s)){let a=r[W];lh(a,r,s),c_(a,s,r)}return t!=null&&b_(r,s),$i}function Hi(){let n=Gt(),e=kt(),t=OA(e);return n.firstCreatePass&&O_(n,t),Hi}var bM=(n,e,t,r,i)=>(zr(!0),lA(e[Ne],""));function Ej(n,e,t,r,i){let o,s=!sh(e,t);if(zr(s),s)return lA(e[Ne],"");let a=e[hn],u=fh(a,n,e,t),l=hV(a,i);return oh(a,i,u),o=hh(l,u),o}function TM(){bM=Ej}function Kt(){return we()}var Sf=void 0;function Ij(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var wj=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sf,"{1} 'at' {0}",Sf],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ij],bv={};function In(n){let e=Cj(n),t=sS(e);if(t)return t;let r=e.split("-")[0];if(t=sS(r),t)return t;if(r==="en")return wj;throw new B(701,!1)}function sS(n){return n in bv||(bv[n]=Ni.ng&&Ni.ng.common&&Ni.ng.common.locales&&Ni.ng.common.locales[n]),bv[n]}var Ye=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Ye||{});function Cj(n){return n.toLowerCase().replace(/_/g,"-")}var bu="en-US";var bj=bu;function DM(n){typeof n=="string"&&(bj=n.toLowerCase().replace(/_/g,"-"))}function Me(n,e,t){let r=we(),i=Gt(),o=kt();return SM(i,r,r[Ne],o,n,e,t),Me}function SM(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Ev(r,e,o),gU(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let g=f[p],y=f[p+1];u??=Ev(r,e,o),KD(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Ev(r,e,o),KD(r,e,p,i,i,u)}}function Z(n=1){return ID(n)}function Af(n,e){return n<<17|e<<2}function zo(n){return n>>17&32767}function Tj(n){return(n&2)==2}function Dj(n,e){return n&131071|e<<17}function Wv(n){return n|2}function ga(n){return(n&131068)>>2}function Tv(n,e){return n&-131069|e<<2}function Sj(n){return(n&1)===1}function Kv(n){return n|1}function Aj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zo(s),u=ga(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||ea(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let g=zo(n[a+1]);n[r+1]=Af(g,a),g!==0&&(n[g+1]=Tv(n[g+1],r)),n[a+1]=Dj(n[a+1],r)}else n[r+1]=Af(a,0),a!==0&&(n[a+1]=Tv(n[a+1],r)),a=r;else n[r+1]=Af(u,0),a===0?a=r:n[u+1]=Tv(n[u+1],r),u=r;l&&(n[r+1]=Wv(n[r+1])),aS(n,f,r,!0),aS(n,f,r,!1),Mj(e,f,n,r,o),s=Af(a,u),o?e.classBindings=s:e.styleBindings=s}function Mj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ea(o,e)>=0&&(t[r+1]=Kv(t[r+1]))}function aS(n,e,t,r){let i=n[t+1],o=e===null,s=r?zo(i):ga(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];Rj(u,e)&&(a=!0,n[s+1]=r?Kv(l):Wv(l)),s=r?zo(l):ga(l)}a&&(n[t+1]=r?Wv(i):Kv(i))}function Rj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ea(n,e)>=0:!1}function kn(n,e){return Pj(n,e,null,!0),kn}function Pj(n,e,t,r){let i=we(),o=Gt(),s=rv(2);if(o.firstUpdatePass&&Oj(o,n,s,r),e!==Qn&&Gr(i,s,e)){let a=o.data[ki()];Vj(o,a,i,i[Ne],n,i[s+1]=Uj(e,t),r,s)}}function Nj(n,e){return e>=n.expandoStartIndex}function Oj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ki()],s=Nj(n,t);jj(o,r)&&e===null&&!s&&(e=!1),e=xj(i,o,e,r),Aj(i,o,e,t,s,r)}}function xj(n,e,t,r){let i=yD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Dv(null,n,e,t,r),t=gu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Dv(i,n,e,t,r),o===null){let u=kj(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Dv(null,n,e,u[1],r),u=gu(u,e.attrs,r),Fj(n,e,r,u))}else o=Lj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function kj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ga(r)!==0)return n[zo(r)]}function Fj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[zo(i)]=r}function Lj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=gu(r,s,t)}return gu(r,e.attrs,t)}function Dv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=gu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function gu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),HT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Vj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],f=Sj(l)?cS(u,e,t,i,ga(l),s):void 0;if(!Zf(f)){Zf(o)||Tj(l)&&(o=cS(u,null,t,i,a,s));let p=Gy(ki(),t);a2(r,s,p,i,o)}}function cS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,g=t[i+1];g===Qn&&(g=p?fn:void 0);let y=p?df(g,r):f===r?g:void 0;if(l&&!Zf(y)&&(y=df(u,r)),Zf(y)&&(a=y,s))return a;let b=n[i+1];i=s?zo(b):ga(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=df(u,r))}return a}function Zf(n){return n!==void 0}function Uj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vr(u_(n)))),n}function jj(n,e){return(n.flags&(e?8:16))!==0}function x(n,e=""){let t=we(),r=Gt(),i=n+ke,o=r.firstCreatePass?M_(r,i,1,e,null):r.data[i],s=AM(r,t,o,e,n);t[i]=s,Cf()&&w_(r,t,s,o),sa(o,!1)}var AM=(n,e,t,r,i)=>(zr(!0),uA(e[Ne],r));function Bj(n,e,t,r,i){let o=!sh(e,t);if(zr(o),o)return uA(e[Ne],r);let s=e[hn];return fh(s,n,e,t)}function MM(){AM=Bj}function RM(n,e,t,r=""){return Gr(n,au(),t)?e+Xs(t)+r:Qn}function $j(n,e,t,r,i,o=""){let s=fD(),a=F_(n,s,t,i);return rv(2),a?e+Xs(t)+r+Xs(i)+o:Qn}function Ee(n){return Ue("",n),Ee}function Ue(n,e,t){let r=we(),i=RM(r,n,e,t);return i!==Qn&&PM(r,ki(),i),Ue}function _a(n,e,t,r,i){let o=we(),s=$j(o,n,e,t,r,i);return s!==Qn&&PM(o,ki(),s),_a}function PM(n,e,t){let r=Gy(e,n);EV(n[Ne],r,t)}function gr(n,e,t){dv(e)&&(e=e());let r=we(),i=au();if(Gr(r,i,e)){let o=Gt(),s=wf();PA(s,r,n,e,r[Ne],t)}return gr}function Zr(n,e){let t=dv(n);return t&&n.set(e),t}function mr(n,e){let t=we(),r=Gt(),i=kt();return SM(r,t,t[Ne],i,n,e),mr}function H_(n,e,t=""){return RM(we(),n,e,t)}function Hj(n,e,t){let r=Gt();if(r.firstCreatePass){let i=lr(n);Qv(t,r.data,r.blueprint,i,!0),Qv(e,r.data,r.blueprint,i,!1)}}function Qv(n,e,t,r,i){if(n=bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qv(n[o],e,t,r,i);else{let o=Gt(),s=we(),a=kt(),u=Ro(n)?n:bt(n.provide),l=$y(n),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ro(n)||!n.multi){let y=new Bo(l,i,Y,null),b=Av(u,e,i?f:f+g,p);b===-1?(Rv(Vf(a,s),o,u),Sv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=Av(u,e,f+g,p),b=Av(u,e,f,f+g),O=y>=0&&t[y],N=b>=0&&t[b];if(i&&!N||!i&&!O){Rv(Vf(a,s),o,u);let $=Gj(i?qj:zj,t.length,i,r,l,n);!i&&N&&(t[b].providerFactory=$),Sv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=NM(t[i?b:y],l,!i&&r);Sv(o,n,y>-1?y:b,$)}!i&&r&&N&&t[b].componentProviders++}}}function Sv(n,e,t,r){let i=Ro(e),o=KT(e);if(i||o){let u=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function NM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Av(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function zj(n,e,t,r,i){return Yv(this.multi,[])}function qj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Uf(r,r[W],this.providerFactory.index,i);s=u.slice(0,a),Yv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Yv(o,s);return s}function Yv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Gj(n,e,t,r,i,o){let s=new Bo(n,t,Y,null);return s.multi=[],s.index=e,s.componentProviders=0,NM(s,i,r&&!t),s}function Yn(n,e=[]){return t=>{t.providersResolver=(r,i)=>Hj(r,i?i(n):n,e)}}function Ea(n,e,t,r){return Wj(we(),vf(),n,e,t,r)}function z_(n,e){let t=n[e];return t===Qn?void 0:t}function Wj(n,e,t,r,i,o){let s=e+t;return Gr(n,s,i)?k_(n,s+1,o?r.call(o,i):r(i)):z_(n,s+1)}function Kj(n,e,t,r,i,o,s){let a=e+t;return F_(n,a,i,o)?k_(n,a+2,s?r.call(s,i,o):r(i,o)):z_(n,a+2)}function Qj(n,e,t,r,i,o,s,a){let u=e+t;return pU(n,u,i,o,s)?k_(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):z_(n,u+3)}function Zn(n,e){let t=Gt(),r,i=n+ke;t.firstCreatePass?(r=Yj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ri(r.type,!0)),s,a=Ht(Y);try{let u=Lf(!1),l=o();return Lf(u),Ky(t,we(),i,l),l}finally{Ht(a)}}function Yj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Jr(n,e,t,r){let i=n+ke,o=we(),s=Wy(o,i);return OM(o,i)?Kj(o,vf(),e,s.transform,t,r,s):s.transform(t,r)}function q_(n,e,t,r,i){let o=n+ke,s=we(),a=Wy(s,o);return OM(s,o)?Qj(s,vf(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function OM(n,e){return n[W].data[e].pure}var Jf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},G_=(()=>{class n{compileModuleSync(t){return new Yf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Uy(t),o=gA(i.declarations).reduce((s,a)=>{let u=Br(a);return u&&s.push(new pa(u)),s},[]);return new Jf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zj=(()=>{class n{zone=M(be);changeDetectionScheduler=M(Ur);applicationRef=M(Ft);applicationErrorHandler=M(on);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xM=new j("",{factory:()=>!1});function W_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ue(V({},Q_()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:An,multi:!0,useFactory:()=>{let r=M(Zj,{optional:!0});return()=>r.initialize()}},{provide:An,multi:!0,useFactory:()=>{let r=M(Jj);return()=>{r.initialize()}}},e===!0?{provide:fv,useValue:!0}:[],{provide:hv,useValue:t??EA},{provide:on,useFactory:()=>{let r=M(be),i=M(Je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(qn),o.handleError(s))})}}}]}function K_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=W_({ngZoneFactory:()=>{let i=Q_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Qr("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Tt([{provide:xM,useValue:!0},{provide:aa,useValue:!1},r])}function Q_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Jj=(()=>{class n{subscription=new He;initialized=!1;zone=M(be);pendingTasks=M(Wn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kM=(()=>{class n{applicationErrorHandler=M(on);appRef=M(Ft);taskService=M(Wn);ngZone=M(be);zonelessEnabled=M(aa);tracing=M(Go,{optional:!0});disableScheduling=M(fv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($f):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(hv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FD:IA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($f+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xj(){return typeof $localize<"u"&&$localize.locale||bu}var Tu=new j("",{providedIn:"root",factory:()=>M(Tu,{optional:!0,skipSelf:!0})||Xj()});function gt(n){return OT(n)}function zi(n,e){return Nd(n,e?.equal)}var FM=class{[Ot];constructor(e){this[Ot]=e}destroy(){this[Ot].destroy()}};var eE={JSACTION:"__jsaction",OWNER:"__owner"},jM={};function eB(n){return n[eE.JSACTION]}function LM(n,e){n[eE.JSACTION]=e}function tB(n){return jM[n]}function nB(n,e){jM[n]=e}var Q={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},rB=[Q.MOUSEENTER,Q.MOUSELEAVE,"pointerenter","pointerleave"],Aee=[Q.CLICK,Q.DBLCLICK,Q.FOCUSIN,Q.FOCUSOUT,Q.KEYDOWN,Q.KEYUP,Q.KEYPRESS,Q.MOUSEOVER,Q.MOUSEOUT,Q.SUBMIT,Q.TOUCHSTART,Q.TOUCHEND,Q.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],iB=[Q.FOCUS,Q.BLUR,Q.ERROR,Q.LOAD,Q.TOGGLE],tE=n=>iB.indexOf(n)>=0;function oB(n){return n===Q.MOUSEENTER?Q.MOUSEOVER:n===Q.MOUSELEAVE?Q.MOUSEOUT:n===Q.POINTERENTER?Q.POINTEROVER:n===Q.POINTERLEAVE?Q.POINTEROUT:n}function sB(n,e,t,r){let i=!1;tE(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,o),{eventType:e,handler:t,capture:i,passive:r}}function aB(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function cB(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var VM=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function uB(n){return n.which===2||n.which==null&&n.button===4}function lB(n){return VM&&n.metaKey||!VM&&n.ctrlKey||uB(n)||n.shiftKey}function dB(n,e,t){let r=n.relatedTarget;return(n.type===Q.MOUSEOVER&&e===Q.MOUSEENTER||n.type===Q.MOUSEOUT&&e===Q.MOUSELEAVE||n.type===Q.POINTEROVER&&e===Q.POINTERENTER||n.type===Q.POINTEROUT&&e===Q.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function fB(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,o=n[i];typeof o!="function"&&(t[i]=o)}return n.type===Q.MOUSEOVER?t.type=Q.MOUSEENTER:n.type===Q.MOUSEOUT?t.type=Q.MOUSELEAVE:n.type===Q.POINTEROVER?t.type=Q.POINTERENTER:t.type=Q.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var hB=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),wh=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){hB&&(this.element.style.cursor="pointer"),this.handlerInfos.push(sB(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)aB(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},pB={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function qi(n){return n.eventType}function nE(n,e){n.eventType=e}function Eh(n){return n.event}function BM(n,e){n.event=e}function $M(n){return n.targetElement}function HM(n,e){n.targetElement=e}function zM(n){return n.eic}function gB(n,e){n.eic=e}function mB(n){return n.timeStamp}function yB(n,e){n.timeStamp=e}function Ih(n){return n.eia}function qM(n,e,t){n.eia=[e,t]}function Y_(n){n.eia=void 0}function _h(n){return n[1]}function vB(n){return n.eirp}function GM(n,e){n.eirp=e}function WM(n){return n.eir}function KM(n,e){n.eir=e}function QM(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function _B(n,e,t,r,i,o,s,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Z_=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return qi(this.eventInfo)}setEventType(e){nE(this.eventInfo,e)}getEvent(){return Eh(this.eventInfo)}setEvent(e){BM(this.eventInfo,e)}getTargetElement(){return $M(this.eventInfo)}setTargetElement(e){HM(this.eventInfo,e)}getContainer(){return zM(this.eventInfo)}setContainer(e){gB(this.eventInfo,e)}getTimestamp(){return mB(this.eventInfo)}setTimestamp(e){yB(this.eventInfo,e)}getAction(){let e=Ih(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Y_(this.eventInfo);return}qM(this.eventInfo,e.name,e.element)}getIsReplay(){return vB(this.eventInfo)}setIsReplay(e){GM(this.eventInfo,e)}getResolved(){return WM(this.eventInfo)}setResolved(e){KM(this.eventInfo,e)}clone(){return new n(QM(this.eventInfo))}},EB={},IB=/\s*;\s*/,wB=Q.CLICK,J_=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&qi(e)===Q.CLICK&&lB(Eh(e))?nE(e,Q.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){WM(e)||(this.populateAction(e,$M(e)),KM(e,!0))}resolveParentAction(e){let t=Ih(e),r=t&&_h(t);Y_(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==zM(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Ih(e));)r=this.getParentNode(r);let i=Ih(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(qi(e)===Q.MOUSEENTER||qi(e)===Q.MOUSELEAVE||qi(e)===Q.POINTERENTER||qi(e)===Q.POINTERLEAVE)))if(dB(Eh(e),qi(e),_h(i))){let o=fB(Eh(e),_h(i));BM(e,o),HM(e,_h(i))}else Y_(e)}getParentNode(e){let t=e[eE.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[qi(t)];i!==void 0&&qM(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=eB(e);if(!t){let r=e.getAttribute(Tf.JSACTION);if(!r)t=EB,LM(e,t);else{if(t=tB(r),!t){t={};let i=r.split(IB);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(pB.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():wB,f=u?s.substr(a+1).trim():s;t[l]=f}nB(r,t)}LM(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},YM=(function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n})(YM||{}),X_=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new Z_(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&CB(r.element,t)&&cB(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function CB(n,e){return n.tagName==="A"&&(e.getEventType()===Q.CLICK||e.getEventType()===Q.CLICKMOD)}var ZM=Symbol.for("propagationStopped"),rE={REPLAY:101};var bB="`preventDefault` called during event replay.";var TB="`composedPath` called during event replay.",Ch=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new J_({clickModSupport:t}),this.dispatcher=new X_(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&AB(e),DB(e);e.getAction();){if(MB(e),tE(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),SB(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function DB(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[ZM]=!0,t()};Ko(e,"stopPropagation",r),Ko(e,"stopImmediatePropagation",r)}function SB(n){return!!n.getEvent()[ZM]}function AB(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);Ko(e,"target",t),Ko(e,"eventPhase",rE.REPLAY),Ko(e,"preventDefault",()=>{throw r(),new Error(bB+"")}),Ko(e,"composedPath",()=>{throw new Error(TB+"")})}function MB(n){let e=n.getEvent(),t=n.getAction()?.element;t&&Ko(e,"currentTarget",t,{configurable:!0})}function Ko(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function JM(n,e){n.ecrd(t=>{e.dispatch(t)},YM.I_AM_THE_JSACTION_FRAMEWORK)}function RB(n){return n?.q??[]}function PB(n){n&&(UM(n.c,n.et,n.h),UM(n.c,n.etc,n.h,!0))}function UM(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var NB=!1,XM=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=NB;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let o=_B(t,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(t){if(!this.dispatcher){GM(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&rB.indexOf(t)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[t]=o;let s=oB(r||t);if(s!==t){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(t),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(t,u,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),PB(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=QM(i);nE(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function eR(n,e=window){return RB(e._ejsas?.[n])}function iE(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var cR=Symbol("InputSignalNode#UNSET"),o$=ue(V({},Od),{transformFn:void 0,applyValueToInputSignal(n,e){Fs(n,e)}});function uR(n,e){let t=Object.create(o$);t.value=n,t.transformFn=e?.transform;function r(){if(Os(t),t.value===cR){let i=null;throw new B(-950,i)}return t.value}return r[Ot]=t,r}var s$=new j("");s$.__NG_ELEMENT_ID__=n=>{let e=kt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function tR(n,e){return uR(n,e)}function a$(n){return uR(cR,n)}var lR=(tR.required=a$,tR);var oE=new j(""),c$=new j("");function Du(n){return!n.moduleRef}function u$(n){let e=Du(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Du(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(on),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Du(n)){let o=()=>e.destroy(),s=n.platformInjector.get(oE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(oE);s.add(o),n.moduleRef.onDestroy(()=>{lu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return d$(r,t,()=>{let o=e.get(Wn),s=o.add(),a=e.get($_);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Tu,bu);if(DM(u||bu),!e.get(c$,!0))return Du(n)?e.get(Ft):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Du(n)){let f=e.get(Ft);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return l$?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var l$;function d$(n,e,t){try{let r=t();return ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Th=null;function f$(n=[],e){return qe.create({name:e,providers:[{provide:Jc,useValue:"platform"},{provide:oE,useValue:new Set([()=>Th=null])},...n]})}function h$(n=[]){if(Th)return Th;let e=f$(n);return Th=e,vM(),p$(e),e}function p$(n){let e=n.get(eh,null);et(n,()=>{e?.forEach(t=>t())})}function lE(){return!1}var Ia=(()=>{class n{static __NG_ELEMENT_ID__=g$}return n})();function g$(n){return m$(kt(),we(),(n&16)===16)}function m$(n,e,t){if(Hr(n)&&!t){let r=On(n.index,e);return new Vi(r,r)}else if(n.type&175){let r=e[rn];return new Vi(r,e)}return null}var sE=class{constructor(){}supports(e){return x_(e)}create(e){return new aE(e)}},y$=(n,e)=>e,aE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||y$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<nR(r,i,o)?t:r,a=nR(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,b=y+g;f<=b&&b<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!x_(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,nM(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cE(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},uE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Sh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new uE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nR(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function rR(){return new dE([new sE])}var dE=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:rR});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=M(n,{optional:!0,skipSelf:!0});return n.create(t,r||rR())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function dR(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;De(8);try{let o=i?.injector??h$(r),s=[W_({}),{provide:Ur,useExisting:kM},CD,...t||[]],a=new pu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return u$({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{De(9)}}var bh=new WeakSet,iR="",Dh=[];function oR(n){return n.get(r_,HS)}function fR(){let n=[{provide:r_,useFactory:()=>{let e=!0;{let t=M(pr);e=!!window._ejsas?.[t]}return e&&Qr("NgEventReplay"),e}}];return n.push({provide:An,useValue:()=>{let e=M(Ft),{injector:t}=e;if(!bh.has(e)){let r=M(i_);if(oR(t)){ZS();let i=t.get(pr),o=QS(i,(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(qS(s,a,u),GS(s,r))});e.onDestroy(o)}}},multi:!0},{provide:Bi,useFactory:()=>{let e=M(Ft),{injector:t}=e;return()=>{if(!oR(t)||bh.has(e))return;bh.add(e);let r=t.get(pr);e.onDestroy(()=>{bh.delete(e),iE(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=t.get(KS);v$(i,t);let o=t.get(i_);o.get(iR)?.forEach(WS),o.delete(iR);let s=i.instance;iA(t)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),n}var v$=(n,e)=>{let t=e.get(pr),r=window._ejsas[t],i=n.instance=new XM(new wh(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=eR(t);i.replayEarlyEventInfos(o),iE(t);let s=new Ch(a=>{_$(e,a,a.currentTarget)});JM(i,s)};function _$(n,e,t){let r=(t&&t.getAttribute(vu))??"";/d\d+/.test(r)?E$(r,n,e,t):e.eventPhase===rE.REPLAY&&o_(e,t)}function E$(n,e,t,r){Dh.push({event:t,currentTarget:r}),IM(e,n,I$)}function I$(n){let e=[...Dh],t=new Set(n);Dh=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(vu);t.has(o)?o_(r,i):Dh.push({event:r,currentTarget:i})}}var sR=!1;function w$(){sR||(sR=!0,tA(),CM(),MM(),TM(),pM(),uM(),YA(),RA())}function C$(n){return n.whenStable()}function hR(){let n=[{provide:yu,useFactory:()=>{let e=!0;return e=!!M(qo,{optional:!0})?.get(s_,null),e&&Qr("NgHydration"),e}},{provide:An,useValue:()=>{WA(!1),M(yu)&&(aA(mu()),w$())},multi:!0}];return n.push({provide:n_,useFactory:()=>M(yu)},{provide:Bi,useFactory:()=>{if(M(yu)){let e=M(Ft);return()=>{C$(e).then(()=>{e.destroyed||P_(e)})}}return()=>{}},multi:!0}),Tt(n)}function Ah(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var mR=null;function Fn(){return mR}function fE(n){mR??=n}var Su=class{},hE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(yR),providedIn:"platform"})}return n})();var yR=(()=>{class n extends hE{_location;_history;_doc=M(ft);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function pR(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Wi(n){return n&&n[0]!=="?"?`?${n}`:n}var Mh=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(ER),providedIn:"root"})}return n})(),_R=new j(""),ER=(()=>{class n extends Mh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vR(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Wi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Wi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(hE),de(_R,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wa=(()=>{class n{_subject=new Qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D$(pR(gR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wi(r))}normalize(t){return n.stripTrailingSlash(T$(this._basePath,gR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wi;static joinWithSlash=vR;static stripTrailingSlash=pR;static \u0275fac=function(r){return new(r||n)(de(Mh))};static \u0275prov=G({token:n,factory:()=>b$(),providedIn:"root"})}return n})();function b$(){return new wa(de(Mh))}function T$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gR(n){return n.replace(/\/index.html$/,"")}function D$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Lt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Lt||{}),Oe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Oe||{}),an=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(an||{}),ei={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TR(n){return In(n)[Ye.LocaleId]}function DR(n,e,t){let r=In(n),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],o=Ln(i,e);return Ln(o,t)}function SR(n,e,t){let r=In(n),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],o=Ln(i,e);return Ln(o,t)}function AR(n,e,t){let r=In(n),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],o=Ln(i,e);return Ln(o,t)}function MR(n,e){let r=In(n)[Ye.Eras];return Ln(r,e)}function Au(n,e){let t=In(n);return Ln(t[Ye.DateFormat],e)}function Mu(n,e){let t=In(n);return Ln(t[Ye.TimeFormat],e)}function Ru(n,e){let r=In(n)[Ye.DateTimeFormat];return Ln(r,e)}function Pu(n,e){let t=In(n),r=t[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===ei.CurrencyDecimal)return t[Ye.NumberSymbols][ei.Decimal];if(e===ei.CurrencyGroup)return t[Ye.NumberSymbols][ei.Group]}return r}function RR(n){if(!n[Ye.ExtraData])throw new B(2303,!1)}function PR(n){let e=In(n);return RR(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?pE(r):[pE(r[0]),pE(r[1])])}function NR(n,e,t){let r=In(n);RR(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],o=Ln(i,e)||[];return Ln(o,t)||[]}function Ln(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new B(2304,!1)}function pE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var S$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rh={},A$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function OR(n,e,t,r){let i=L$(n);e=Xr(t,e)||e;let s=[],a;for(;e;)if(a=A$.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=kR(r,u),i=F$(i,r));let l="";return s.forEach(f=>{let p=x$(f);l+=p?p(i,t,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function kh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Xr(n,e){let t=TR(n);if(Rh[t]??={},Rh[t][e])return Rh[t][e];let r="";switch(e){case"shortDate":r=Au(n,an.Short);break;case"mediumDate":r=Au(n,an.Medium);break;case"longDate":r=Au(n,an.Long);break;case"fullDate":r=Au(n,an.Full);break;case"shortTime":r=Mu(n,an.Short);break;case"mediumTime":r=Mu(n,an.Medium);break;case"longTime":r=Mu(n,an.Long);break;case"fullTime":r=Mu(n,an.Full);break;case"short":let i=Xr(n,"shortTime"),o=Xr(n,"shortDate");r=Ph(Ru(n,an.Short),[i,o]);break;case"medium":let s=Xr(n,"mediumTime"),a=Xr(n,"mediumDate");r=Ph(Ru(n,an.Medium),[s,a]);break;case"long":let u=Xr(n,"longTime"),l=Xr(n,"longDate");r=Ph(Ru(n,an.Long),[u,l]);break;case"full":let f=Xr(n,"fullTime"),p=Xr(n,"fullDate");r=Ph(Ru(n,an.Full),[f,p]);break}return r&&(Rh[t][e]=r),r}function Ph(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Jn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function M$(n,e){return Jn(n,3).substring(0,e)}function it(n,e,t=0,r=!1,i=!1){return function(o,s){let a=R$(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return M$(a,e);let u=Pu(s,ei.MinusSign);return Jn(a,e,u,r,i)}}function R$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new B(2301,!1)}}function Fe(n,e,t=Lt.Format,r=!1){return function(i,o){return P$(i,o,n,e,t,r)}}function P$(n,e,t,r,i,o){switch(t){case 2:return AR(e,i,r)[n.getMonth()];case 1:return SR(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=PR(e),f=NR(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,b]=g,O=s>=y.hours&&a>=y.minutes,N=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(O&&N)return!0}else if(O||N)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return DR(e,i,r)[s<12?0:1];case 3:return MR(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new B(2302,!1)}}function Nh(n){return function(e,t,r){let i=-1*r,o=Pu(t,ei.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Jn(s,2,o)+Jn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Jn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Jn(s,2,o)+":"+Jn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Jn(s,2,o)+":"+Jn(Math.abs(i%60),2,o);default:throw new B(2310,!1)}}}var N$=0,xh=4;function O$(n){let e=kh(n,N$,1).getDay();return kh(n,0,1+(e<=xh?xh:xh+7)-e)}function xR(n){let e=n.getDay(),t=e===0?-3:xh-e;return kh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function gE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=xR(t),s=O$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Jn(i,n,Pu(r,ei.MinusSign))}}function Oh(n,e=!1){return function(t,r){let o=xR(t).getFullYear();return Jn(o,n,Pu(r,ei.MinusSign),e)}}var mE={};function x$(n){if(mE[n])return mE[n];let e;switch(n){case"G":case"GG":case"GGG":e=Fe(3,Oe.Abbreviated);break;case"GGGG":e=Fe(3,Oe.Wide);break;case"GGGGG":e=Fe(3,Oe.Narrow);break;case"y":e=it(0,1,0,!1,!0);break;case"yy":e=it(0,2,0,!0,!0);break;case"yyy":e=it(0,3,0,!1,!0);break;case"yyyy":e=it(0,4,0,!1,!0);break;case"Y":e=Oh(1);break;case"YY":e=Oh(2,!0);break;case"YYY":e=Oh(3);break;case"YYYY":e=Oh(4);break;case"M":case"L":e=it(1,1,1);break;case"MM":case"LL":e=it(1,2,1);break;case"MMM":e=Fe(2,Oe.Abbreviated);break;case"MMMM":e=Fe(2,Oe.Wide);break;case"MMMMM":e=Fe(2,Oe.Narrow);break;case"LLL":e=Fe(2,Oe.Abbreviated,Lt.Standalone);break;case"LLLL":e=Fe(2,Oe.Wide,Lt.Standalone);break;case"LLLLL":e=Fe(2,Oe.Narrow,Lt.Standalone);break;case"w":e=gE(1);break;case"ww":e=gE(2);break;case"W":e=gE(1,!0);break;case"d":e=it(2,1);break;case"dd":e=it(2,2);break;case"c":case"cc":e=it(7,1);break;case"ccc":e=Fe(1,Oe.Abbreviated,Lt.Standalone);break;case"cccc":e=Fe(1,Oe.Wide,Lt.Standalone);break;case"ccccc":e=Fe(1,Oe.Narrow,Lt.Standalone);break;case"cccccc":e=Fe(1,Oe.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(1,Oe.Abbreviated);break;case"EEEE":e=Fe(1,Oe.Wide);break;case"EEEEE":e=Fe(1,Oe.Narrow);break;case"EEEEEE":e=Fe(1,Oe.Short);break;case"a":case"aa":case"aaa":e=Fe(0,Oe.Abbreviated);break;case"aaaa":e=Fe(0,Oe.Wide);break;case"aaaaa":e=Fe(0,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Fe(0,Oe.Abbreviated,Lt.Standalone,!0);break;case"bbbb":e=Fe(0,Oe.Wide,Lt.Standalone,!0);break;case"bbbbb":e=Fe(0,Oe.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(0,Oe.Abbreviated,Lt.Format,!0);break;case"BBBB":e=Fe(0,Oe.Wide,Lt.Format,!0);break;case"BBBBB":e=Fe(0,Oe.Narrow,Lt.Format,!0);break;case"h":e=it(3,1,-12);break;case"hh":e=it(3,2,-12);break;case"H":e=it(3,1);break;case"HH":e=it(3,2);break;case"m":e=it(4,1);break;case"mm":e=it(4,2);break;case"s":e=it(5,1);break;case"ss":e=it(5,2);break;case"S":e=it(6,1);break;case"SS":e=it(6,2);break;case"SSS":e=it(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Nh(0);break;case"ZZZZZ":e=Nh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nh(2);break;default:return null}return mE[n]=e,e}function kR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function k$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function F$(n,e,t){let i=n.getTimezoneOffset(),o=kR(e,i);return k$(n,-1*(o-i))}function L$(n){if(IR(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return kh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(S$))return V$(r)}let e=new Date(n);if(!IR(e))throw new B(2311,!1);return e}function V$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function IR(n){return n instanceof Date&&!isNaN(n.valueOf())}var yE=/\s+/,wR=[],Qo=(()=>{class n{_ngEl;_renderer;initialClasses=wR;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(yE):wR}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(yE):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(yE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Y(Kr),Y(Ui))};static \u0275dir=Ve({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Fh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),CR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);CR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(Wo),Y(Eu),Y(dE))};static \u0275dir=Ve({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function CR(n,e){n.context.$implicit=e.item}var Qt=(()=>{class n{_viewContainer;_context=new Lh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bR(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bR(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(Wo),Y(Eu))};static \u0275dir=Ve({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Lh=class{$implicit=null;ngIf=null};function bR(n,e){if(n&&!n.createEmbeddedView)throw new B(2020,!1)}function U$(n,e){return new B(2100,!1)}var j$="mediumDate",FR=new j(""),LR=new j(""),Xn=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??j$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return OR(t,s,o||this.locale,a)}catch(s){throw U$(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Y(Tu,16),Y(FR,24),Y(LR,24))};static \u0275pipe=V_({name:"date",type:n,pure:!0})}return n})();var Vt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=cr({})}return n})();function vE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Nu=class{};var _E="browser";function Ki(n){return n===_E}var Ou=class{_doc;constructor(e){this._doc=e}manager},Vh=(()=>{class n extends Ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(de(ft))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),jh=new j(""),bE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Vh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Vh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(de(jh),de(be))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),EE="ng-app-id";function VR(n){for(let e of n)e.remove()}function UR(n,e){let t=e.createElement("style");return t.textContent=n,t}function B$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${EE}="${e}"],link[${EE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(EE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function wE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var TE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,B$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,UR);r?.forEach(i=>this.addUsage(i,this.external,wE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(VR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])VR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,UR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,wE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(de(ft),de(pr),de(th,8),de(En))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),IE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},DE=/%COMP%/g;var BR="%COMP%",$$=`_nghost-${BR}`,H$=`_ngcontent-${BR}`,z$=!0,q$=new j("",{providedIn:"root",factory:()=>z$});function G$(n){return H$.replace(DE,n)}function W$(n){return $$.replace(DE,n)}function $R(n,e){return e.map(t=>t.replace(DE,n))}var SE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new xu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Uh?i.applyToHost(t):i instanceof ku&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case qr.Emulated:o=new Uh(u,l,r,this.appId,f,s,a,p,g);break;case qr.ShadowDom:return new CE(u,l,t,r,s,a,this.nonce,p,g);default:o=new ku(u,l,r,f,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(de(bE),de(TE),de(pr),de(q$),de(ft),de(be),de(th),de(Go,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),xu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(IE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=IE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=IE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function jR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var CE=class extends xu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=$R(i.id,f);for(let g of f){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=wE(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ku=class extends xu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?$R(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ha.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uh=class extends ku{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,a,u,l,f),this.contentAttr=G$(f),this.hostAttr=W$(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Bh=class n extends Su{supportsDOMEvents=!0;static makeCurrent(){fE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=K$();return t==null?null:Q$(t)}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vE(document.cookie,e)}},Fu=null;function K$(){return Fu=Fu||document.head.querySelector("base"),Fu?Fu.getAttribute("href"):null}function Q$(n){return new URL(n,document.baseURI).pathname}var Y$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),HR=["alt","control","meta","shift"],Z$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zR=(()=>{class n extends Ou{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HR.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Z$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HR.forEach(s=>{if(s!==i){let a=J$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(de(ft))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function AE(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},X$(e));return dR(r)}function X$(n){return{appProviders:[...i3,...n?.providers??[]],platformProviders:r3}}function e3(){Bh.makeCurrent()}function t3(){return new qn}function n3(){return Xv(document),document}var r3=[{provide:En,useValue:_E},{provide:eh,useValue:e3,multi:!0},{provide:ft,useFactory:n3}];var i3=[{provide:Jc,useValue:"root"},{provide:qn,useFactory:t3},{provide:jh,useClass:Vh,multi:!0,deps:[ft]},{provide:jh,useClass:zR,multi:!0,deps:[ft]},SE,TE,bE,{provide:$o,useExisting:SE},{provide:Nu,useClass:Y$},[]];var Lu=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var o3="X-Request-URL",s3="text/plain",a3="application/json",Cae=`${a3}, ${s3}, */*`;var RE=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(RE||{}),ME=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Lu,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var $h=class n extends ME{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=RE.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};var qR=new j("");var bae=RegExp(`^${o3}:`,"m");var c3=new j(""),u3="b",l3="h",d3="s",f3="st",h3="u",p3="rt",PE=new j(""),g3=["GET","HEAD"];function m3(n,e){let y=M(PE),{isCacheActive:t}=y,r=wd(y,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!g3.includes(o)||!r.includeRequestsWithAuthHeaders&&y3(n)||r.filter?.(n)===!1)return e(n);let s=M(qo);if(M(c3,{optional:!0}))throw new B(2803,!1);let u=n.url,l=v3(n,u),f=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),f){let{[u3]:b,[p3]:O,[l3]:N,[d3]:$,[f3]:X,[h3]:ee}=f,Te=b;switch(O){case"arraybuffer":Te=new TextEncoder().encode(b).buffer;break;case"blob":Te=new Blob([b]);break}let wt=new Lu(N);return te(new $h({body:Te,headers:wt,status:$,statusText:X,url:ee}))}return e(n)}function y3(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function GR(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function v3(n,e){let{params:t,method:r,responseType:i}=n,o=GR(t),s=n.serializeBody();s instanceof URLSearchParams?s=GR(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=_3(a);return u}function _3(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function WR(n){return[{provide:PE,useFactory:()=>(Qr("NgHttpTransferCache"),V({isCacheActive:!0},n))},{provide:qR,useValue:m3,multi:!0},{provide:Bi,multi:!0,useFactory:()=>{let e=M(Ft),t=M(PE);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var KR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(de(ft))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hh=(function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n})(Hh||{});function E3(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}function QR(){return E3(Hh.EventReplay,fR())}function YR(...n){let e=[],t=new Set;for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);let r=t.has(Hh.HttpTransferCacheOptions);return Tt([[],[],hR(),t.has(Hh.NoHttpTransferCache)||r?[]:WR({}),e])}var ie="primary",Ju=Symbol("RouteTitle"),FE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new FE(n)}function iP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function w3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yr(n[t],e[t]))return!1;return!0}function yr(n,e){let t=n?LE(n):void 0,r=e?LE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!oP(n[i],e[i]))return!1;return!0}function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function sP(n){return n.length>0?n[n.length-1]:null}function ri(n){return ay(n)?n:ji(n)?ze(Promise.resolve(n)):te(n)}var C3={exact:cP,subset:uP},aP={exact:b3,subset:T3,ignored:()=>!0};function ZR(n,e,t){return C3[t.paths](n.root,e.root,t.matrixParams)&&aP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function b3(n,e){return yr(n,e)}function cP(n,e,t){if(!Zo(n.segments,e.segments)||!Gh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!cP(n.children[r],e.children[r],t))return!1;return!0}function T3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oP(n[t],e[t]))}function uP(n,e,t){return lP(n,e,e.segments,t)}function lP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Zo(i,t)||e.hasChildren()||!Gh(i,t,r))}else if(n.segments.length===t.length){if(!Zo(n.segments,t)||!Gh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!uP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Zo(n.segments,i)||!Gh(n.segments,i,r)||!n.children[ie]?!1:lP(n.children[ie],e,o,r)}}function Gh(n,e,t){return e.every((r,i)=>aP[t](n[i].parameters,r.parameters))}var _r=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return A3.serialize(this)}},Se=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wh(this)}},Qi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return fP(this)}};function D3(n,e){return Zo(n,e)&&n.every((t,r)=>yr(t.parameters,e[r].parameters))}function Zo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function S3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var Xu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new es,providedIn:"root"})}return n})(),es=class{parse(e){let t=new UE(e);return new _r(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vu(e.root,!0)}`,r=P3(e.queryParams),i=typeof e.fragment=="string"?`#${M3(e.fragment)}`:"";return`${t}${r}${i}`}},A3=new es;function Wh(n){return n.segments.map(e=>fP(e)).join("/")}function Vu(n,e){if(!n.hasChildren())return Wh(n);if(e){let t=n.children[ie]?Vu(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=S3(n,(r,i)=>i===ie?[Vu(n.children[ie],!1)]:[`${i}:${Vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Wh(n)}/${t[0]}`:`${Wh(n)}/(${t.join("//")})`}}function dP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zh(n){return dP(n).replace(/%3B/gi,";")}function M3(n){return encodeURI(n)}function VE(n){return dP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kh(n){return decodeURIComponent(n)}function JR(n){return Kh(n.replace(/\+/g,"%20"))}function fP(n){return`${VE(n.path)}${R3(n.parameters)}`}function R3(n){return Object.entries(n).map(([e,t])=>`;${VE(e)}=${VE(t)}`).join("")}function P3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${zh(t)}=${zh(i)}`).join("&"):`${zh(t)}=${zh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var N3=/^[^\/()?;#]+/;function NE(n){let e=n.match(N3);return e?e[0]:""}var O3=/^[^\/()?;=#]+/;function x3(n){let e=n.match(O3);return e?e[0]:""}var k3=/^[^=?&#]+/;function F3(n){let e=n.match(k3);return e?e[0]:""}var L3=/^[^&#]+/;function V3(n){let e=n.match(L3);return e?e[0]:""}var UE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new Se(e,t)),r}parseSegment(){let e=NE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Qi(Kh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=x3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=NE(this.remaining);i&&(r=i,this.capture(r))}e[Kh(t)]=Kh(r)}parseQueryParam(e){let t=F3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=V3(this.remaining);s&&(r=s,this.capture(r))}let i=JR(t),o=JR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=NE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o??ie]=Object.keys(s).length===1&&s[ie]?s[ie]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function hP(n){return n.segments.length>0?new Se([],{[ie]:n}):n}function pP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=pP(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return U3(t)}function U3(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new Se(n.segments.concat(e.segments),e.children)}return n}function Sa(n){return n instanceof _r}function gP(n,e,t=null,r=null){let i=mP(n);return yP(i,e,t,r)}function mP(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=hP(r);return e??i}function yP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return OE(i,i,i,t,r);let o=j3(e);if(o.toRoot())return OE(i,i,new Se([],{}),t,r);let s=B3(o,i,n),a=s.processChildren?ju(s.segmentGroup,s.index,o.commands):_P(s.segmentGroup,s.index,o.commands);return OE(i,s.segmentGroup,a,t,r)}function Qh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Hu(n){return typeof n=="object"&&n!=null&&n.outlets}function OE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=vP(n,e,t);let a=hP(pP(s));return new _r(a,o,i)}function vP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=vP(o,e,t)}),new Se(n.segments,r)}var Yh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qh(r[0]))throw new B(4003,!1);let i=r.find(Hu);if(i&&i!==sP(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Yh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Yh(t,e,r)}var Ta=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function B3(n,e,t){if(n.isAbsolute)return new Ta(e,!0,0);if(!t)return new Ta(e,!1,NaN);if(t.parent===null)return new Ta(t,!0,0);let r=Qh(n.commands[0])?0:1,i=t.segments.length-1+r;return $3(t,i,n.numberOfDoubleDots)}function $3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ta(r,!1,i-o)}function H3(n){return Hu(n[0])?n[0].outlets:{[ie]:n}}function _P(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return ju(n,e,t);let r=z3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Se(n.segments.slice(r.pathIndex),n.children),ju(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?jE(n,e,t):r.match?ju(n,0,i):jE(n,e,t)}function ju(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=H3(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=ju(n.children[ie],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_P(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function z3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Hu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!eP(u,l,s))return o;r+=2}else{if(!eP(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Hu(o)){let u=q3(o.outlets);return new Se(r,u)}if(i===0&&Qh(t[0])){let u=n.segments[e];r.push(new Qi(u.path,XR(t[0]))),i++;continue}let s=Hu(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Qh(a)?(r.push(new Qi(s,XR(a))),i+=2):(r.push(new Qi(s,{})),i++)}return new Se(r,{})}function q3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=jE(new Se([],{}),0,r))}),e}function XR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function eP(n,e,t){return n==t.path&&yr(e,t.parameters)}var Bu="imperative",yt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(yt||{}),Cn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ts=class extends Cn{type=yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ti=class extends Cn{urlAfterRedirects;type=yt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Yt||{}),zu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(zu||{}),vr=class extends Cn{reason;code;type=yt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends Cn{reason;code;type=yt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Aa=class extends Cn{error;target;type=yt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qu=class extends Cn{urlAfterRedirects;state;type=yt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends Cn{urlAfterRedirects;state;type=yt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends Cn{urlAfterRedirects;state;shouldActivate;type=yt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xh=class extends Cn{urlAfterRedirects;state;type=yt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends Cn{urlAfterRedirects;state;type=yt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class{route;type=yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},np=class{route;type=yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rp=class{snapshot;type=yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{snapshot;type=yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{snapshot;type=yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sp=class{snapshot;type=yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Gu=class{},Ma=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function G3(n){return!(n instanceof Gu)&&!(n instanceof Ma)}function W3(n,e){return n.providers&&!n._injector&&(n._injector=ya(n.providers,e,`Route: ${n.path}`)),n._injector??e}function er(n){return n.outlet||ie}function K3(n,e){let t=n.filter(r=>er(r)===e);return t.push(...n.filter(r=>er(r)!==e)),t}function Na(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ap=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Na(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Oa(this.rootInjector)}},Oa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ap(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(de(Je))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=BE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=BE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=$E(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $E(e,this._root).map(t=>t.value)}};function BE(n,e){if(n===e.value)return e;for(let t of e.children){let r=BE(n,t);if(r)return r}return null}function $E(n,e){if(n===e.value)return[e];for(let t of e.children){let r=$E(n,t);if(r.length)return r.unshift(e),r}return[]}var wn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ba(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Wu=class extends cp{snapshot;constructor(e,t){super(e),this.snapshot=t,YE(this,e)}toString(){return this.snapshot.toString()}};function EP(n){let e=Q3(n),t=new lt([new Qi("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new Yi(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Wu(new wn(a,[]),e)}function Q3(n){let e={},t={},r={},o=new Jo([],e,r,"",t,ie,n,null,{});return new Ku("",new wn(o,[]))}var Yi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ge(l=>l[Ju]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>Xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>Xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function up(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&wP(i)&&(r.resolve[Ju]=i.title),r}var Jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ju]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ku=class extends cp{url;constructor(e,t){super(t),this.url=e,YE(this,t)}toString(){return IP(this._root)}};function YE(n,e){e.value._routerState=n,e.children.forEach(t=>YE(n,t))}function IP(n){let e=n.children.length>0?` { ${n.children.map(IP).join(", ")} } `:"";return`${n.value}${e}`}function xE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yr(e.params,t.params)||n.paramsSubject.next(t.params),w3(e.url,t.url)||n.urlSubject.next(t.url),yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HE(n,e){let t=yr(n.params,e.params)&&D3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||HE(n.parent,e.parent))}function wP(n){return typeof n.title=="string"||n.title===null}var CP=new j(""),el=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=lR();parentContexts=M(Oa);location=M(Wo);changeDetector=M(Ia);inputBinder=M(hp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new zE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wr]})}return n})(),zE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yi?this.route:e===Oa?this.childContexts:e===CP?this.outletData:this.parent.get(e,t)}},hp=new j("");var ZE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ht({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Dt(0,"router-outlet")},dependencies:[el],encapsulation:2})}return n})();function JE(n){let e=n.children&&n.children.map(JE),t=e?ue(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=ZE),t}function Y3(n,e,t){let r=Qu(n,e._root,t?t._root:void 0);return new Wu(r,e)}function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Z3(n,e,t);return new wn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qu(n,a)),s}}let r=J3(e.value),i=e.children.map(o=>Qu(n,o));return new wn(r,i)}}function Z3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}function J3(n){return new Yi(new lt(n.url),new lt(n.params),new lt(n.queryParams),new lt(n.fragment),new lt(n.data),n.outlet,n.component,n)}var Ra=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},bP="ngNavigationCancelingError";function lp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Sa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TP(!1,Yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function TP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[bP]=!0,t.cancellationCode=e,t}function X3(n){return DP(n)&&Sa(n.url)}function DP(n){return!!n&&n[bP]}var e4=(n,e,t,r)=>ge(i=>(new qE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),qE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ip(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(xE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Da=class{component;route;constructor(e,t){this.component=e,this.route=t}};function t4(n,e,t){let r=n._root,i=e?e._root:null;return Uu(r,i,t,[r.value])}function n4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ay(n)?n:e.get(n):r}function Uu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ba(e);return n.children.forEach(s=>{r4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$u(a,t.getContext(s),i)),i}function r4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=i4(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Uu(n,e,a?a.children:null,r,i):Uu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Da(a.outlet.component,s))}else s&&$u(e,a,i),i.canActivateChecks.push(new dp(r)),o.component?Uu(n,null,a?a.children:null,r,i):Uu(n,null,t,r,i);return i}function i4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Zo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zo(n.url,e.url)||!yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HE(n,e)||!yr(n.queryParams,e.queryParams);case"paramsChange":default:return!HE(n,e)}}function $u(n,e,t){let r=ba(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?$u(s,e.children.getContext(o),t):$u(s,null,t):$u(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Da(e.outlet.component,i)):t.canDeactivateChecks.push(new Da(null,i)):t.canDeactivateChecks.push(new Da(null,i))}function tl(n){return typeof n=="function"}function o4(n){return typeof n=="boolean"}function s4(n){return n&&tl(n.canLoad)}function a4(n){return n&&tl(n.canActivate)}function c4(n){return n&&tl(n.canActivateChild)}function u4(n){return n&&tl(n.canDeactivate)}function l4(n){return n&&tl(n.canMatch)}function SP(n){return n instanceof kr||n?.name==="EmptyError"}var qh=Symbol("INITIAL_VALUE");function Pa(){return tn(n=>nf(n.map(e=>e.pipe(zn(1),dy(qh)))).pipe(ge(e=>{for(let t of e)if(t!==!0){if(t===qh)return qh;if(t===!1||d4(t))return t}return!0}),Sn(e=>e!==qh),zn(1)))}function d4(n){return Sa(n)||n instanceof Ra}function f4(n,e){return dt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?te(ue(V({},t),{guardsResult:!0})):h4(s,r,i,n).pipe(dt(a=>a&&o4(a)?p4(r,o,n,e):te(a)),ge(a=>ue(V({},t),{guardsResult:a})))})}function h4(n,e,t,r){return ze(n).pipe(dt(i=>_4(i.component,i.route,t,e,r)),Fr(i=>i!==!0,!0))}function p4(n,e,t,r){return ze(e).pipe(Qs(i=>Ks(m4(i.route.parent,r),g4(i.route,r),v4(n,i.path,t),y4(n,i.route,t))),Fr(i=>i!==!0,!0))}function g4(n,e){return n!==null&&e&&e(new op(n)),te(!0)}function m4(n,e){return n!==null&&e&&e(new rp(n)),te(!0)}function y4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>qc(()=>{let s=Na(e)??t,a=xa(o,s),u=a4(a)?a.canActivate(e,n):et(s,()=>a(e,n));return ri(u).pipe(Fr())}));return te(i).pipe(Pa())}function v4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>n4(s)).filter(s=>s!==null).map(s=>qc(()=>{let a=s.guards.map(u=>{let l=Na(s.node)??t,f=xa(u,l),p=c4(f)?f.canActivateChild(r,n):et(l,()=>f(r,n));return ri(p).pipe(Fr())});return te(a).pipe(Pa())}));return te(o).pipe(Pa())}function _4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=Na(e)??i,l=xa(a,u),f=u4(l)?l.canDeactivate(n,e,t,r):et(u,()=>l(n,e,t,r));return ri(f).pipe(Fr())});return te(s).pipe(Pa())}function E4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=xa(s,n),u=s4(a)?a.canLoad(e,t):et(n,()=>a(e,t));return ri(u)});return te(o).pipe(Pa(),AP(r))}function AP(n){return Xm(pt(e=>{if(typeof e!="boolean")throw lp(n,e)}),ge(e=>e===!0))}function I4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=xa(s,n),u=l4(a)?a.canMatch(e,t):et(n,()=>a(e,t));return ri(u)});return te(o).pipe(Pa(),AP(r))}var Yu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Zu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ca(n){return Ws(new Yu(n))}function w4(n){return Ws(new B(4e3,!1))}function C4(n){return Ws(TP(!1,Yt.GuardRejected))}var GE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[ie])return w4(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){return b4(t,i,o).pipe(ge(s=>{if(s instanceof _r)throw new Zu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Zu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new _r(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function b4(n,e,t){if(typeof n=="string")return te(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p}=e;return ri(et(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var WE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T4(n,e,t,r,i){let o=MP(n,e,t);return o.matched?(r=W3(e,r),I4(r,e,t,i).pipe(ge(s=>s===!0?o:V({},WE)))):te(o)}function MP(n,e,t){if(e.path==="**")return D4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},WE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iP)(t,n,e);if(!i)return V({},WE);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function D4(n){return{matched:!0,parameters:n.length>0?sP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function tP(n,e,t,r){return t.length>0&&M4(n,t,r)?{segmentGroup:new Se(e,A4(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&R4(n,t,r)?{segmentGroup:new Se(n.segments,S4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function S4(n,e,t,r){let i={};for(let o of t)if(pp(n,e,o)&&!r[er(o)]){let s=new Se([],{});i[er(o)]=s}return V(V({},r),i)}function A4(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&er(r)!==ie){let i=new Se([],{});t[er(r)]=i}return t}function M4(n,e,t){return t.some(r=>pp(n,e,r)&&er(r)!==ie)}function R4(n,e,t){return t.some(r=>pp(n,e,r))}function pp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function P4(n,e,t){return e.length===0&&!n.children[t]}var KE=class{};function N4(n,e,t,r,i,o,s="emptyOnly"){return new QE(n,e,t,r,i,s,o).recognize()}var O4=31,QE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new GE(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=tP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(({children:t,rootSnapshot:r})=>{let i=new wn(r,t),o=new Ku("",i),s=gP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Jo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(ge(r=>({children:r,rootSnapshot:t})),Si(r=>{if(r instanceof Zu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Yu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ge(s=>s instanceof wn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ze(o).pipe(Qs(s=>{let a=r.children[s],u=K3(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ly((s,a)=>(s.push(...a),s)),Ai(null),uy(),dt(s=>{if(s===null)return Ca(r);let a=RP(s);return x4(a),te(a)}))}processSegment(e,t,r,i,o,s,a){return ze(t).pipe(Qs(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Si(l=>{if(l instanceof Yu)return te(null);throw l}))),Fr(u=>!!u),Si(u=>{if(SP(u))return P4(r,i,o)?te(new KE):Ca(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return er(r)!==s&&(s===ie||!pp(i,o,r))?Ca(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ca(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=MP(t,i,o);if(!u)return Ca(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>O4&&(this.allowRedirects=!1));let y=new Jo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,nP(i),er(i),i.component??i._loadedComponent??null,i,rP(i)),b=up(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(tn(N=>this.applyRedirects.lineralizeSegments(i,N)),dt(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=T4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(tn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tn(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,b=new Jo(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,nP(r),er(r),r.component??r._loadedComponent??null,r,rP(r)),O=up(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(O.params),b.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:$}=tP(t,g,y,l);if($.length===0&&N.hasChildren())return this.processChildren(f,l,N,b).pipe(ge(ee=>new wn(b,ee)));if(l.length===0&&$.length===0)return te(new wn(b,[]));let X=er(r)===o;return this.processSegment(f,l,N,$,X?ie:o,!0,b).pipe(ge(ee=>new wn(b,ee instanceof wn?[ee]:[])))}))):Ca(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?te({routes:t._loadedRoutes,injector:t._loadedInjector}):E4(e,t,r,this.urlSerializer).pipe(dt(i=>i?this.configLoader.loadChildren(e,t).pipe(pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):C4(t))):te({routes:[],injector:e})}};function x4(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function k4(n){let e=n.value.routeConfig;return e&&e.path===""}function RP(n){let e=[],t=new Set;for(let r of n){if(!k4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=RP(r.children);e.push(new wn(r.value,i))}return e.filter(r=>!t.has(r))}function nP(n){return n.data||{}}function rP(n){return n.resolve||{}}function F4(n,e,t,r,i,o){return dt(s=>N4(n,e,t,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:u})=>ue(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function L4(n,e){return dt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of PP(u))s.add(l);let a=0;return ze(s).pipe(Qs(u=>o.has(u)?V4(u,r,n,e):(u.data=up(u,u.parent,n).resolve,te(void 0))),pt(()=>a++),Ys(1),dt(u=>a===s.size?te(t):Xt))})}function PP(n){let e=n.children.map(t=>PP(t)).flat();return[n,...e]}function V4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!wP(i)&&(o[Ju]=i.title),qc(()=>(n.data=up(n,n.parent,t).resolve,U4(o,n,e,r).pipe(ge(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function U4(n,e,t,r){let i=LE(n);if(i.length===0)return te({});let o={};return ze(i).pipe(dt(s=>j4(n[s],e,t,r).pipe(Fr(),pt(a=>{if(a instanceof Ra)throw lp(new es,a);o[s]=a}))),Ys(1),ge(()=>o),Si(s=>SP(s)?Xt:Ws(s)))}function j4(n,e,t,r){let i=Na(e)??r,o=xa(n,i),s=o.resolve?o.resolve(e,t):et(i,()=>o(e,t));return ri(s)}function kE(n){return tn(e=>{let t=n(e);return t?ze(t).pipe(ge(()=>e)):te(e)})}var XE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Ju]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(NP),providedIn:"root"})}return n})(),NP=(()=>{class n extends XE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(de(KR))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nl=new j("",{providedIn:"root",factory:()=>({})}),rl=new j(""),OP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(G_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ri(et(t,()=>r.loadComponent())).pipe(ge(kP),tn(FP),pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Gc(()=>{this.componentLoaders.delete(r)})),o=new Hs(i,()=>new Qe).pipe($s());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=xP(r,this.compiler,t,this.onLoadEndListener).pipe(Gc(()=>{this.childrenLoaders.delete(r)})),s=new Hs(o,()=>new Qe).pipe($s());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(n,e,t,r){return ri(et(t,()=>n.loadChildren())).pipe(ge(kP),tn(FP),dt(i=>i instanceof mh||Array.isArray(i)?te(i):ze(e.compileModuleAsync(i))),ge(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(rl,[],{optional:!0,self:!0}).flat()),{routes:s.map(JE),injector:o}}))}function B4(n){return n&&typeof n=="object"&&"default"in n}function kP(n){return B4(n)?n.default:n}function FP(n){return te(n)}var gp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M($4),providedIn:"root"})}return n})(),$4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LP=new j("");var VP=new j(""),UP=(()=>{class n{currentNavigation=vn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Qe;transitionAbortWithErrorSubject=new Qe;configLoader=M(OP);environmentInjector=M(Je);destroyRef=M(xn);urlSerializer=M(Xu);rootContexts=M(Oa);location=M(wa);inputBindingEnabled=M(hp,{optional:!0})!==null;titleStrategy=M(XE);options=M(nl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(gp);createViewTransition=M(LP,{optional:!0});navigationErrorHandler=M(VP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new tp(i)),r=i=>this.events.next(new np(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;gt(()=>{this.transitions?.next(ue(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new lt(null),this.transitions.pipe(Sn(r=>r!==null),tn(r=>{let i=!1;return te(r).pipe(tn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),Xt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ue(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ni(o.id,this.urlSerializer.serialize(o.rawUrl),"",zu.IgnoredSameUrlNavigation)),o.resolve(!1),Xt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return te(o).pipe(tn(u=>(this.events.next(new ts(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Xt:Promise.resolve(u))),F4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new qu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:g}=o,y=new ts(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let b=EP(this.rootComponentType).snapshot;return this.currentTransition=r=ue(V({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:ue(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(O=>(O.finalUrl=l,O)),te(r)}else return this.events.next(new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),"",zu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Xt}),pt(o=>{let s=new Zh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ge(o=>(this.currentTransition=r=ue(V({},o),{guards:t4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),f4(this.environmentInjector,o=>this.events.next(o)),pt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw lp(this.urlSerializer,o.guardsResult);let s=new Jh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Sn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Yt.GuardRejected),!1)),kE(o=>{if(o.guards.canActivateChecks.length!==0)return te(o).pipe(pt(s=>{let a=new Xh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),tn(s=>{let a=!1;return te(s).pipe(L4(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Yt.NoDataFromResolver)}}))}),pt(s=>{let a=new ep(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),kE(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Na(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(pt(f=>{a.component=f}),ge(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return nf(s(o.targetSnapshot.root)).pipe(Ai(null),zn(1))}),kE(()=>this.afterPreactivation()),tn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ze(a).pipe(ge(()=>r)):te(r)}),ge(o=>{let s=Y3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),pt(()=>{this.events.next(new Gu)}),e4(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),zn(1),Zs(new le(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Sn(()=>!i&&!r.targetRouterState),pt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Yt.Aborted)}))),pt({next:o=>{i=!0,this.lastSuccessfulNavigation=gt(this.currentNavigation),this.events.next(new ti(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Zs(this.transitionAbortWithErrorSubject.pipe(pt(o=>{throw o}))),Gc(()=>{i||this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Si(o=>{if(this.destroyed)return r.resolve(!1),Xt;if(i=!0,DP(o))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),X3(o)?this.events.next(new Ma(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ra){let{message:u,cancellationCode:l}=lp(this.urlSerializer,a);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ma(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Xt}))}))}cancelNavigationTransition(t,r,i){let o=new vr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=gt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H4(n){return n!==Bu}var jP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(z4),providedIn:"root"})}return n})(),fp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},z4=(()=>{class n extends fp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BP=(()=>{class n{urlSerializer=M(Xu);options=M(nl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(wa);urlHandlingStrategy=M(gp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _r;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof _r?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=EP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(q4),providedIn:"root"})}return n})(),q4=(()=>{class n extends BP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ts?this.updateStateMemento():t instanceof ni?this.commitTransition(r):t instanceof qu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Gu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vr&&t.code!==Yt.SupersededByNewNavigation&&t.code!==Yt.Redirect?this.restoreHistory(r):t instanceof Aa?this.restoreHistory(r,!0):t instanceof ti&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eI(n,e){n.events.pipe(Sn(t=>t instanceof ti||t instanceof vr||t instanceof Aa||t instanceof ni),ge(t=>t instanceof ti||t instanceof ni?0:(t instanceof vr?t.code===Yt.Redirect||t.code===Yt.SupersededByNewNavigation:!1)?2:1),Sn(t=>t!==2),zn(1)).subscribe(()=>{e()})}var G4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Er=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(yh);stateManager=M(BP);options=M(nl,{optional:!0})||{};pendingTasks=M(Wn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(UP);urlSerializer=M(Xu);location=M(wa);urlHandlingStrategy=M(gp);injector=M(Je);_events=new Qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(jP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(rl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(hp,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=gt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ti)this.navigated=!0;else if(r instanceof Ma){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H4(i.source)},s);this.scheduleNavigation(a,Bu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}G3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(on)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return gt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(JE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=mP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return yP(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Sa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bu,null,r)}navigate(t,r={skipLocationChange:!1}){return K4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(jr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},G4):r===!1?i=V({},W4):i=r,Sa(t))return ZR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let f=this.pendingTasks.add();return eI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Y4=new j("");function tI(n,...e){return Tt([{provide:rl,multi:!0,useValue:n},[],{provide:Yi,useFactory:Z4,deps:[Er]},{provide:Bi,multi:!0,useFactory:J4},e.map(t=>t.\u0275providers)])}function Z4(n){return n.routerState.root}function J4(){let n=M(qe);return e=>{let t=n.get(Ft);if(e!==t.components[0])return;let r=n.get(Er),i=n.get(X4);n.get(eH)===1&&r.initialNavigation(),n.get(tH,null,{optional:!0})?.setUpPreloading(),n.get(Y4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var X4=new j("",{factory:()=>new Qe}),eH=new j("",{providedIn:"root",factory:()=>1});var tH=new j("");var $P=()=>{};var qP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},iH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[f],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new rI;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oH=function(n){let e=qP(n);return mp.encodeByteArray(e,!0)},ol=function(n){return oH(n).replace(/\./g,"")},yp=function(n){try{return mp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sH=()=>oI().__FIREBASE_DEFAULTS__,aH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&yp(n[1]);return e&&JSON.parse(e)},vp=()=>{try{return $P()||sH()||aH()||cH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sI=n=>{var e,t;return(t=(e=vp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},GP=n=>{let e=sI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aI=()=>{var n;return(n=vp())===null||n===void 0?void 0:n.config},cI=n=>{var e;return(e=vp())===null||e===void 0?void 0:e[`_${n}`]};var ns=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function _p(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function WP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ol(JSON.stringify(t)),ol(JSON.stringify(s)),""].join(".")}var il={};function uH(){let n={prod:[],emulator:[]};for(let e of Object.keys(il))il[e]?n.emulator.push(e):n.prod.push(e);return n}function lH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var HP=!1;function Ep(n,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||il[n]===e||il[n]||HP)return;il[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=uH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{HP=!0,s()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=lH(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),N=document.getElementById(O)||document.createElement("a"),$=t("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let ee=g.element;a(ee),f(N,O);let Te=l();u(X,$),ee.append(X,b,N,Te),document.body.appendChild(ee)}o?(b.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function dH(){var n;let e=(n=vp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YP(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){let n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XP(){return!dH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sl(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var fH="FirebaseError",bn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}},tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new bn(i,a,r)}};function hH(n,e){return n.replace(pH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pH=/\{\$([^}]+)}/g;function tN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ir(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(zP(o)&&zP(s)){if(!Ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function zP(n){return n!==null&&typeof n=="object"}function al(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nN(n,e){let t=new iI(n,e);return t.subscribe.bind(t)}var iI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=nI),i.error===void 0&&(i.error=nI),i.complete===void 0&&(i.complete=nI);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nI(){}var rue=14400*1e3;function _t(n){return n&&n._delegate?n._delegate:n}var Zt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var rs="[DEFAULT]";var uI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ns;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yH(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mH(n){return n===rs?void 0:n}function yH(n){return n.instantiationMode==="EAGER"}var Ip=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var vH=[],me=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(me||{}),_H={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},EH=me.INFO,IH={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},wH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=IH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wr=class{constructor(e){this.name=e,this._logLevel=EH,this._logHandler=wH,this._userLogHandler=null,vH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_H[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var CH=(n,e)=>e.some(t=>n instanceof t),rN,iN;function bH(){return rN||(rN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TH(){return iN||(iN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oN=new WeakMap,dI=new WeakMap,sN=new WeakMap,lI=new WeakMap,hI=new WeakMap;function DH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Cr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&oN.set(t,n)}).catch(()=>{}),hI.set(e,n),e}function SH(n){if(dI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dI.set(n,e)}var fI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aN(n){fI=n(fI)}function AH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(wp(this),e,...t);return sN.set(r,e.sort?e.sort():[e]),Cr(r)}:TH().includes(n)?function(...e){return n.apply(wp(this),e),Cr(oN.get(this))}:function(...e){return Cr(n.apply(wp(this),e))}}function MH(n){return typeof n=="function"?AH(n):(n instanceof IDBTransaction&&SH(n),CH(n,bH())?new Proxy(n,fI):n)}function Cr(n){if(n instanceof IDBRequest)return DH(n);if(lI.has(n))return lI.get(n);let e=MH(n);return e!==n&&(lI.set(n,e),hI.set(e,n)),e}var wp=n=>hI.get(n);function uN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Cr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cr(s.result),u.oldVersion,u.newVersion,Cr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var RH=["get","getKey","getAll","getAllKeys","count"],PH=["put","add","delete","clear"],pI=new Map;function cN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pI.get(e))return pI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=PH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RH.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return pI.set(e,o),o}aN(n=>ue(V({},n),{get:(e,t,r)=>cN(e,t)||n.get(e,t,r),has:(e,t)=>!!cN(e,t)||n.has(e,t)}));var mI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function NH(n){let e=n.getComponent();return e?.type==="VERSION"}var yI="@firebase/app",lN="0.13.2";var ii=new wr("@firebase/app"),OH="@firebase/app-compat",xH="@firebase/analytics-compat",kH="@firebase/analytics",FH="@firebase/app-check-compat",LH="@firebase/app-check",VH="@firebase/auth",UH="@firebase/auth-compat",jH="@firebase/database",BH="@firebase/data-connect",$H="@firebase/database-compat",HH="@firebase/functions",zH="@firebase/functions-compat",qH="@firebase/installations",GH="@firebase/installations-compat",WH="@firebase/messaging",KH="@firebase/messaging-compat",QH="@firebase/performance",YH="@firebase/performance-compat",ZH="@firebase/remote-config",JH="@firebase/remote-config-compat",XH="@firebase/storage",e6="@firebase/storage-compat",t6="@firebase/firestore",n6="@firebase/ai",r6="@firebase/firestore-compat",i6="firebase",o6="11.10.0";var vI="[DEFAULT]",s6={[yI]:"fire-core",[OH]:"fire-core-compat",[kH]:"fire-analytics",[xH]:"fire-analytics-compat",[LH]:"fire-app-check",[FH]:"fire-app-check-compat",[VH]:"fire-auth",[UH]:"fire-auth-compat",[jH]:"fire-rtdb",[BH]:"fire-data-connect",[$H]:"fire-rtdb-compat",[HH]:"fire-fn",[zH]:"fire-fn-compat",[qH]:"fire-iid",[GH]:"fire-iid-compat",[WH]:"fire-fcm",[KH]:"fire-fcm-compat",[QH]:"fire-perf",[YH]:"fire-perf-compat",[ZH]:"fire-rc",[JH]:"fire-rc-compat",[XH]:"fire-gcs",[e6]:"fire-gcs-compat",[t6]:"fire-fst",[r6]:"fire-fst-compat",[n6]:"fire-vertex","fire-js":"fire-js",[i6]:"fire-js-all"};var cl=new Map,a6=new Map,_I=new Map;function dN(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function nr(n){let e=n.name;if(_I.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;_I.set(e,n);for(let t of cl.values())dN(t,n);for(let t of a6.values())dN(t,n);return!0}function ka(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}var c6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new tr("app","Firebase",c6);var EI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}};var Xi=o6;function CI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(t||(t=aI()),!t)throw Ji.create("no-options");let o=cl.get(i);if(o){if(Ir(t,o.options)&&Ir(r,o.config))return o;throw Ji.create("duplicate-app",{appName:i})}let s=new Ip(i);for(let u of _I.values())s.addComponent(u);let a=new EI(t,r,s);return cl.set(i,a),a}function is(n=vI){let e=cl.get(n);if(!e&&n===vI&&aI())return CI();if(!e)throw Ji.create("no-app",{appName:n});return e}function Cp(){return Array.from(cl.values())}function We(n,e,t){var r;let i=(r=s6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}nr(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var u6="firebase-heartbeat-database",l6=1,ul="firebase-heartbeat-store",gI=null;function gN(){return gI||(gI=uN(u6,l6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),gI}function d6(n){return v(this,null,function*(){try{let t=(yield gN()).transaction(ul),r=yield t.objectStore(ul).get(mN(n));return yield t.done,r}catch(e){if(e instanceof bn)ii.warn(e.message);else{let t=Ji.create("idb-get",{originalErrorMessage:e?.message});ii.warn(t.message)}}})}function fN(n,e){return v(this,null,function*(){try{let r=(yield gN()).transaction(ul,"readwrite");yield r.objectStore(ul).put(e,mN(n)),yield r.done}catch(t){if(t instanceof bn)ii.warn(t.message);else{let r=Ji.create("idb-set",{originalErrorMessage:t?.message});ii.warn(r.message)}}})}function mN(n){return`${n.name}!${n.options.appId}`}var f6=1024,h6=30,II=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new wI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>h6){let s=g6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hN(),{heartbeatsToSend:r,unsentEntries:i}=p6(this._heartbeatsCache.heartbeats),o=ol(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ii.warn(t),""}})}};function hN(){return new Date().toISOString().substring(0,10)}function p6(n,e=f6){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),pN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var wI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return sl()?eN().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield d6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pN(n){return ol(JSON.stringify({version:2,heartbeats:n})).length}function g6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function m6(n){nr(new Zt("platform-logger",e=>new mI(e),"PRIVATE")),nr(new Zt("heartbeat",e=>new II(e),"PRIVATE")),We(yI,lN,n),We(yI,lN,"esm2017"),We("fire-js","")}m6("");var y6="firebase",v6="11.10.0";We(y6,v6,"app");function yN(n){n===void 0&&(n=M(qe));let e=n.get(Li);return t=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var eo=new Mi("ANGULARFIRE2_VERSION");function ll(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var La=(n,e)=>{let t=e?[e]:Cp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Fa=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Fa||{}),vN=lE()&&typeof Zone<"u"?Fa.WARN:Fa.SILENT;var bp=class{zone;delegate;constructor(e,t=oy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},to=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(be);this.outsideAngular=t.runOutsideAngular(()=>new bp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new bp(typeof Zone>"u"?void 0:Zone.current,iy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_N=!1;function _6(n,e){!_N&&(vN>Fa.SILENT||lE())&&(_N=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),vN>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function E6(n){let e=M(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function os(n){let e=M(be,{optional:!0});return e?e.run(()=>n()):n()}var I6=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),et(t,()=>os(()=>n.apply(void 0,r)))),Jt=(n,e,t)=>(t||=e?Fa.WARN:Fa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(to),s=M(Li),a=M(Je)}catch{return _6(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=os(()=>s.add())),i[l]=I6(i[l],r,a));let u=E6(()=>n.apply(this,i));return e?u instanceof le?u.pipe(Di(o.outsideAngular),Ti(o.insideAngular),yN(a)):u instanceof Promise?os(()=>{let l=s.add();return new Promise((f,p)=>{u.then(g=>et(a,()=>os(()=>f(g))),g=>et(a,()=>os(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:os(()=>u):u instanceof le?u.pipe(Di(o.outsideAngular),Ti(o.insideAngular)):os(()=>u)});var oi=class{constructor(e){return e}},ss=class{constructor(){return Cp()}};function w6(n){return n&&n.length===1?n[0]:new oi(is())}var bI=new j("angularfire2._apps"),C6={provide:oi,useFactory:w6,deps:[[new sn,bI]]},b6={provide:ss,deps:[[new sn,bI]]};function T6(n){return(e,t)=>{let r=t.get(En);We("angularfire",eo.full,"core"),We("angularfire",eo.full,"app"),We("angular",by.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new oi(i)}}function EN(n,...e){return Tt([C6,b6,{provide:bI,useFactory:T6(n),multi:!0,deps:[be,qe,to,...e]}])}var IN=Jt(CI,!0);var D6=new Map,S6={activated:!1,tokenObservers:[]},A6={initialized:!1,enabled:!1};function rr(n){return D6.get(n)||Object.assign({},S6)}function TN(){return A6}var M6="https://content-firebaseappcheck.googleapis.com/v1";var R6="exchangeDebugToken",wN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},sle=1440*60*1e3;var SI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ns,this.pending.promise.catch(t=>{}),yield P6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ns,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function P6(n){return new Promise(e=>{setTimeout(e,n)})}var N6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},no=new tr("appCheck","AppCheck",N6);function DN(n){if(!rr(n).activated)throw no.create("use-before-activation",{appName:n.name})}function SN(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw no.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw no.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw no.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw no.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function AN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${M6}/projects/${t}/apps/${r}:${R6}?key=${i}`,body:{debug_token:e}}}var O6="firebase-app-check-database",x6=1,AI="firebase-app-check-store";var Tp=null;function k6(){return Tp||(Tp=new Promise((n,e)=>{try{let t=indexedDB.open(O6,x6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(no.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(AI,{keyPath:"compositeKey"})}}}catch(t){e(no.create("storage-open",{originalErrorMessage:t?.message}))}}),Tp)}function F6(n,e){return L6(V6(n),e)}function L6(n,e){return v(this,null,function*(){let r=(yield k6()).transaction(AI,"readwrite"),o=r.objectStore(AI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(no.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function V6(n){return`${n.options.appId}-${n.name}`}var dl=new wr("@firebase/app-check");function TI(n,e){return sl()?F6(n,e).catch(t=>{dl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MN(){return TN().enabled}function RN(){return v(this,null,function*(){let n=TN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var U6={error:"UNKNOWN_ERROR"};function j6(n){return mp.encodeString(JSON.stringify(n),!1)}function MI(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;DN(r);let i=rr(r),o=i.token,s;if(o&&!fl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(fl(l)?o=l:yield TI(r,void 0))}if(!e&&o&&fl(o))return{token:o.token};let a=!1;if(MN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=SN(AN(r,yield RN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield TI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?dl.warn(l.message):t&&dl.error(l),DI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield rr(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?dl.warn(l.message):t&&dl.error(l),s=l}let u;return o?s?fl(o)?u={token:o.token,internalError:s}:u=DI(s):(u={token:o.token},i.token=o,yield TI(r,o)):u=DI(s),a&&z6(r,u),u})}function B6(n){return v(this,null,function*(){let e=n.app;DN(e);let{provider:t}=rr(e);if(MN()){let r=yield RN(),{token:i}=yield SN(AN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function $6(n,e,t,r){let{app:i}=n,o=rr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&fl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),CN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>CN(n))}function PN(n,e){let t=rr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function CN(n){let{app:e}=n,t=rr(e),r=t.tokenRefresher;r||(r=H6(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function H6(n){let{app:e}=n;return new SI(()=>v(null,null,function*(){let t=rr(e),r;if(t.token?r=yield MI(n,!0):r=yield MI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=rr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},wN.RETRIAL_MIN_WAIT,wN.RETRIAL_MAX_WAIT)}function z6(n,e){let t=rr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fl(n){return n.expireTimeMillis-Date.now()>0}function DI(n){return{token:j6(U6),error:n}}var RI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=rr(this.app);for(let t of e)PN(this.app,t.next);return Promise.resolve()}};function q6(n,e){return new RI(n,e)}function G6(n){return{getToken:e=>MI(n,e),getLimitedUseToken:()=>B6(n),addTokenListener:e=>$6(n,"INTERNAL",e),removeTokenListener:e=>PN(n.app,e)}}var W6="@firebase/app-check",K6="0.10.1";var Q6="app-check",bN="app-check-internal";function Y6(){nr(new Zt(Q6,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return q6(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bN).initialize()})),nr(new Zt(bN,n=>{let e=n.getProvider("app-check").getImmediate();return G6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(W6,K6)}Y6();var Z6="app-check";var Va=class{constructor(){return La(Z6)}};var J6=["localhost","0.0.0.0","127.0.0.1"],_le=typeof window<"u"&&J6.includes(window.location.hostname);function GN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WN=GN,KN=new tr("auth","Firebase",GN());var Pp=new wr("@firebase/auth");function X6(n,...e){Pp.logLevel<=me.WARN&&Pp.warn(`Auth (${Xi}): ${n}`,...e)}function Sp(n,...e){Pp.logLevel<=me.ERROR&&Pp.error(`Auth (${Xi}): ${n}`,...e)}function oo(n,...e){throw YI(n,...e)}function cs(n,...e){return YI(n,...e)}function QN(n,e,t){let r=Object.assign(Object.assign({},WN()),{[e]:t});return new tr("auth","Firebase",r).create(e,{appName:n.name})}function as(n){return QN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KN.create(n,...e)}function ne(n,e,...t){if(!n)throw YI(e,...t)}function si(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sp(e),new Error(e)}function so(n,e){n||si(e)}function xI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ez(){return NN()==="http:"||NN()==="https:"}function NN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function tz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ez()||YP()||"connection"in navigator)?navigator.onLine:!0}function nz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var us=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,so(t>e,"Short delay should be less than long delay!"),this.isMobile=KP()||ZP()}get(){return tz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZI(n,e){so(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Np=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oz=new us(3e4,6e4);function JI(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ua(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return YN(n,i,()=>v(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=al(Object.assign({key:n.config.apiKey},f)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return QP()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(y.credentials="include"),Np.fetch()(yield ZN(n,n.config.apiHost,t,p),y)}))})}function YN(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},rz),e);try{let i=new kI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dp(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QN(n,f,l);oo(n,f)}}catch(i){if(i instanceof bn)throw i;oo(n,"network-request-failed",{message:String(i)})}})}function sz(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Ua(n,e,t,r,i);return"mfaPendingCredential"in l&&oo(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function ZN(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ZI(n.config,i):`${n.config.apiScheme}://${i}`;return iz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var kI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),oz.get())})}};function Dp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=cs(n,e,r);return i.customData._tokenResponse=t,i}function az(n,e){return v(this,null,function*(){return Ua(n,"POST","/v1/accounts:delete",e)})}function Op(n,e){return v(this,null,function*(){return Ua(n,"POST","/v1/accounts:lookup",e)})}function hl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function XI(n,e=!1){return v(this,null,function*(){let t=_t(n),r=yield t.getIdToken(e),i=ew(r);ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hl(PI(i.auth_time)),issuedAtTime:hl(PI(i.iat)),expirationTime:hl(PI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function PI(n){return Number(n)*1e3}function ew(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{let i=yp(t);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ON(n){let e=ew(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gl(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof bn&&cz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function cz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var FI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ml=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xp(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield gl(n,Op(t,{idToken:r}));ne(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JN(o.providerUserInfo):[],a=uz(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ml(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function tw(n){return v(this,null,function*(){let e=_t(n);yield xp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JN(n){return n.map(e=>{var{providerId:t}=e,r=sy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lz(n,e){return v(this,null,function*(){let t=yield YN(n,{},()=>v(null,null,function*(){let r=al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ZN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(u.credentials="include"),Np.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function dz(n,e){return v(this,null,function*(){return Ua(n,"POST","/v2/accounts:revokeToken",JI(n,e))})}var pl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ON(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let t=ON(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield lz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return si("not implemented")}};function ro(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var io=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ml(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield gl(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return XI(this,e)}reload(){return tw(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield xp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Vn(this.auth.app))return Promise.reject(as(this.auth));let e=yield this.getIdToken();return yield gl(this,az(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,$=(l=t.createdAt)!==null&&l!==void 0?l:void 0,X=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:ee,emailVerified:Te,isAnonymous:wt,providerData:Pe,stsTokenManager:C}=t;ne(ee&&C,e,"internal-error");let _=pl.fromJSON(this.name,C);ne(typeof ee=="string",e,"internal-error"),ro(p,e.name),ro(g,e.name),ne(typeof Te=="boolean",e,"internal-error"),ne(typeof wt=="boolean",e,"internal-error"),ro(y,e.name),ro(b,e.name),ro(O,e.name),ro(N,e.name),ro($,e.name),ro(X,e.name);let I=new n({uid:ee,auth:e,email:g,emailVerified:Te,displayName:p,isAnonymous:wt,photoURL:b,phoneNumber:y,tenantId:O,stsTokenManager:_,createdAt:$,lastLoginAt:X});return Pe&&Array.isArray(Pe)&&(I.providerData=Pe.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new pl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var xN=new Map;function ai(n){so(n instanceof Function,"Expected a class definition");let e=xN.get(n);return e?(so(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xN.set(n,e),e)}var fz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),LI=fz;function Ap(n,e,t){return`firebase:${n}:${e}:${t}`}var kp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ap("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Op(this.auth,{idToken:e}).catch(()=>{});return t?io._fromGetAccountInfoResponse(this.auth,t,e):null}return io._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(ai(LI),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ai(LI),s=Ap(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let g=yield Op(e,{idToken:f}).catch(()=>{});if(!g)break;p=yield io._fromGetAccountInfoResponse(e,g,f)}else p=io._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function kN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iO(e))return"Blackberry";if(oO(e))return"Webos";if(eO(e))return"Safari";if((e.includes("chrome/")||tO(e))&&!e.includes("edge/"))return"Chrome";if(rO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XN(n=vt()){return/firefox\//i.test(n)}function eO(n=vt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tO(n=vt()){return/crios\//i.test(n)}function nO(n=vt()){return/iemobile/i.test(n)}function rO(n=vt()){return/android/i.test(n)}function iO(n=vt()){return/blackberry/i.test(n)}function oO(n=vt()){return/webos/i.test(n)}function nw(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hz(n=vt()){var e;return nw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pz(){return JP()&&document.documentMode===10}function sO(n=vt()){return nw(n)||rO(n)||oO(n)||iO(n)||/windows phone/i.test(n)||nO(n)}function aO(n,e=[]){let t;switch(n){case"Browser":t=kN(vt());break;case"Worker":t=`${kN(vt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xi}/${r}`}var VI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gz(t){return v(this,arguments,function*(n,e={}){return Ua(n,"GET","/v2/passwordPolicy",JI(n,e))})}var mz=6,UI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:mz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fp(this),this.idTokenSubscription=new Fp(this),this.beforeStateQueue=new VI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield kp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Op(this,{idToken:e}),r=yield io._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Vn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield xp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nz()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Vn(this.app))return Promise.reject(as(this));let t=e?_t(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Vn(this.app)?Promise.reject(as(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Vn(this.app)?Promise.reject(as(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield gz(this),t=new UI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ai(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=yield kp.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&X6(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function rw(n){return _t(n)}var Fp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var iw={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yz(n){iw=n}function vz(n){return iw.loadJS(n)}function _z(){return iw.gapiScript}function cO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ow(n,e){let t=ka(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ir(o,e??{}))return i;oo(i,"already-initialized")}return t.initialize({options:e})}function Ez(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sw(n,e,t){let r=rw(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=uO(e),{host:s,port:a}=Iz(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Ir(l,r.config.emulator)&&Ir(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Zi(s)?(_p(`${o}//${s}${u}`),Ep("Auth",!0)):i||wz()}function uO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Iz(n){let e=uO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FN(s)}}}function FN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function wz(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Lp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}};function NI(n,e){return v(this,null,function*(){return sz(n,"POST","/v1/accounts:signInWithIdp",JI(n,e))})}var Vp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var BI=class extends Vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var yl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield io._fromIdTokenResponse(e,r,i),s=LN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function LN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var $I=class n extends bn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function lO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$I._fromErrorAndOperation(n,o,e,r):o})}function Cz(n,e,t=!1){return v(this,null,function*(){let r=yield gl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return yl._forOperation(n,"link",r)})}function bz(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Vn(r.app))return Promise.reject(as(r));let i="reauthenticate";try{let o=yield gl(n,lO(r,i,e,n),t);ne(o.idToken,r,"internal-error");let s=ew(o.idToken);ne(s,r,"internal-error");let{sub:a}=s;return ne(n.uid===a,r,"user-mismatch"),yl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&oo(r,"user-mismatch"),o}})}function Tz(n,e,t=!1){return v(this,null,function*(){if(Vn(n.app))return Promise.reject(as(n));let r="signIn",i=yield lO(n,r,e),o=yield yl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function aw(n,e,t,r){return _t(n).onIdTokenChanged(e,t,r)}function cw(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}var Up="__sak";var jp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Up,"1"),this.storage.removeItem(Up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Dz=1e3,Sz=10,Az=(()=>{class n extends jp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);pz()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Sz):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Ci(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Ci(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Ci(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),dO=Az;var Mz=(()=>{class n extends jp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),uw=Mz;function Rz(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Pz=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(f=>v(this,null,function*(){return f(r.origin,s)})),l=yield Rz(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function fO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var HI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=fO("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function br(){return window}function Nz(n){br().location.href=n}function hO(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}function Oz(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xz(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kz(){return hO()?self:null}var pO="firebaseLocalStorageDb",Fz=1,Bp="firebaseLocalStorage",gO="fbase_key",ls=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Hp(n,e){return n.transaction([Bp],e?"readwrite":"readonly").objectStore(Bp)}function Lz(){let n=indexedDB.deleteDatabase(pO);return new ls(n).toPromise()}function zI(){let n=indexedDB.open(pO,Fz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Bp,{keyPath:gO})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Bp)?e(r):(r.close(),yield Lz(),e(yield zI()))}))})}function VN(n,e,t){return v(this,null,function*(){let r=Hp(n,!0).put({[gO]:e,value:t});return new ls(r).toPromise()})}function Vz(n,e){return v(this,null,function*(){let t=Hp(n,!1).get(e),r=yield new ls(t).toPromise();return r===void 0?null:r.value})}function UN(n,e){let t=Hp(n,!0).delete(e);return new ls(t).toPromise()}var Uz=800,jz=3,Bz=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield zI(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>jz)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return hO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Pz._getInstance(kz()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Oz(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xz()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield zI();return yield VN(t,Up,"1"),yield UN(t,Up),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>VN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>Vz(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>UN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Hp(o,!1).getAll();return new ls(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),mO=Bz;var Mle=cO("rcb"),Rle=new us(3e4,6e4);function $z(n,e){return e?ai(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var vl=class extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return NI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return NI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return NI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Hz(n){return Tz(n.auth,new vl(n),n.bypassAuthState)}function zz(n){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),bz(t,new vl(n),n.bypassAuthState)}function qz(n){return v(this,null,function*(){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),Cz(t,new vl(n),n.bypassAuthState)})}var qI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hz;case"linkViaPopup":case"linkViaRedirect":return qz;case"reauthViaPopup":case"reauthViaRedirect":return zz;default:oo(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ple=new us(2e3,1e4);var Gz="pendingRedirect",Mp=new Map,GI=class n extends qI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Mp.get(this.auth._key());if(!e){try{let r=(yield Wz(this.resolver,this.auth))?yield Ci(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Mp.set(this.auth._key(),e)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Ci(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ci(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Wz(n,e){return v(this,null,function*(){let t=Yz(e),r=Qz(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Kz(n,e){Mp.set(n._key(),e)}function Qz(n){return ai(n._redirectPersistence)}function Yz(n){return Ap(Gz,n.config.apiKey,n.name)}function Zz(n,e,t=!1){return v(this,null,function*(){if(Vn(n.app))return Promise.reject(as(n));let r=rw(n),i=$z(r,e),s=yield new GI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Jz=600*1e3,WI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(cs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jz&&this.cachedEventUids.clear(),this.cachedEventUids.has(jN(e))}saveEventToCache(e){this.cachedEventUids.add(jN(e)),this.lastProcessedEventTime=Date.now()}};function jN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Xz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yO(n);default:return!1}}function eq(t){return v(this,arguments,function*(n,e={}){return Ua(n,"GET","/v1/projects",e)})}var tq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nq=/^https?/;function rq(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield eq(n);for(let t of e)try{if(iq(t))return}catch{}oo(n,"unauthorized-domain")})}function iq(n){let e=xI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!nq.test(t))return!1;if(tq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oq=new us(3e4,6e4);function BN(){let n=br().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sq(n){return new Promise((e,t)=>{var r,i,o;function s(){BN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BN(),t(cs(n,"network-request-failed"))},timeout:oq.get()})}if(!((i=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=br().gapi)===null||o===void 0)&&o.load)s();else{let a=cO("iframefcb");return br()[a]=()=>{gapi.load?s():t(cs(n,"network-request-failed"))},vz(`${_z()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Rp=null,e})}var Rp=null;function aq(n){return Rp=Rp||sq(n),Rp}var cq=new us(5e3,15e3),uq="__/auth/iframe",lq="emulator/auth/iframe",dq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hq(n){let e=n.config;ne(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ZI(e,lq):`https://${n.config.authDomain}/${uq}`,r={apiKey:e.apiKey,appName:n.name,v:Xi},i=fq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${al(r).slice(1)}`}function pq(n){return v(this,null,function*(){let e=yield aq(n),t=br().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:hq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dq,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=cs(n,"network-request-failed"),a=br().setTimeout(()=>{o(s)},cq.get());function u(){br().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var gq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mq=500,yq=600,vq="_blank",_q="http://localhost",$p=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Eq(n,e,t,r=mq,i=yq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},gq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=vt().toLowerCase();t&&(a=tO(l)?vq:t),XN(l)&&(e=e||_q,u.scrollbars="yes");let f=Object.entries(u).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(hz(l)&&a!=="_self")return Iq(e||"",a),new $p(null);let p=window.open(e||"",a,f);ne(p,n,"popup-blocked");try{p.focus()}catch{}return new $p(p)}function Iq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var wq="__/auth/handler",Cq="emulator/auth/handler",bq=encodeURIComponent("fac");function $N(n,e,t,r,i,o){return v(this,null,function*(){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Vp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",tN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof BI){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield n._getAppCheckToken(),l=u?`#${bq}=${encodeURIComponent(u)}`:"";return`${Tq(n)}?${al(a).slice(1)}${l}`})}function Tq({config:n}){return n.emulator?ZI(n,Cq):`https://${n.authDomain}/${wq}`}var OI="webStorageSupport",KI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=Zz,this._overrideRedirectResult=Kz}_openPopup(e,t,r,i){return v(this,null,function*(){var o;so((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $N(e,t,r,xI(),i);return Eq(e,s,fO())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield $N(e,t,r,xI(),i);return Nz(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(so(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield pq(e),r=new WI(e);return t.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(OI,{type:OI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[OI];s!==void 0&&t(!!s),oo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sO()||eO()||nw()}},vO=KI;var HN="@firebase/auth",zN="1.10.8";var QI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Dq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sq(n){nr(new Zt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aO(n)},l=new jI(r,i,o,u);return Ez(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),nr(new Zt("auth-internal",e=>{let t=rw(e.getProvider("auth").getImmediate());return(r=>new QI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(HN,zN,Dq(n)),We(HN,zN,"esm2017")}var Aq=300,Mq=cI("authIdTokenMaxAge")||Aq,qN=null,Rq=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Mq)return;let i=t?.token;qN!==i&&(qN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zp(n=is()){let e=ka(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ow(n,{popupRedirectResolver:vO,persistence:[mO,dO,uw]}),r=cI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Rq(o.toString());cw(t,s,()=>s(t.currentUser)),aw(t,a=>s(a))}}let i=sI("auth");return i&&sw(t,`http://${i}`),t}function Pq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}yz({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=cs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Pq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sq("Browser");var _O="auth",_l=class{constructor(e){return e}},El=class{constructor(){return La(_O)}};var lw=new j("angularfire2.auth-instances");function b5(n,e){let t=ll(_O,n,e);return t&&new _l(t)}function T5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _l(r)}}var D5={provide:El,deps:[[new sn,lw]]},S5={provide:_l,useFactory:b5,deps:[[new sn,lw],oi]};function EO(n,...e){return We("angularfire",eo.full,"auth"),Tt([S5,D5,{provide:lw,useFactory:T5(n),multi:!0,deps:[be,qe,to,ss,[new sn,Va],...e]}])}var IO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wO={};var ci,dw;(function(){var n;function e(C,_){function I(){}I.prototype=_.prototype,C.D=_.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(w,T,S){for(var E=Array(arguments.length-2),Nr=2;Nr<arguments.length;Nr++)E[Nr-2]=arguments[Nr];return _.prototype[T].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)w[T]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=C.g[0],I=C.g[1],T=C.g[2];var S=C.g[3],E=_+(S^I&(T^S))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(T^_&(I^T))+w[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(I^S&(_^I))+w[2]+606105819&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(_^T&(S^_))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(S^I&(T^S))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(T^_&(I^T))+w[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(I^S&(_^I))+w[6]+2821735955&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(_^T&(S^_))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(S^I&(T^S))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(T^_&(I^T))+w[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(I^S&(_^I))+w[10]+4294925233&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(_^T&(S^_))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(S^I&(T^S))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(T^_&(I^T))+w[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(I^S&(_^I))+w[14]+2792965006&4294967295,T=S+(E<<17&4294967295|E>>>15),E=I+(_^T&(S^_))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(T^S&(I^T))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(_^I))+w[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(S^_))+w[11]+643717713&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(T^S))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(I^T))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(_^I))+w[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(S^_))+w[15]+3634488961&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(T^S))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(I^T))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(_^I))+w[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(S^_))+w[3]+4107603335&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(T^S))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(I^T))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^T&(_^I))+w[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(S^_))+w[7]+1735328473&4294967295,T=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(T^S))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(I^T^S)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^T)+w[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^I)+w[11]+1839030562&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^_)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^S)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^T)+w[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^I)+w[7]+4139469664&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^_)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^S)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^T)+w[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^I)+w[3]+3572445317&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^_)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^S)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^T)+w[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^I)+w[15]+530742520&4294967295,T=S+(E<<16&4294967295|E>>>16),E=I+(T^S^_)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(T^(I|~S))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~T))+w[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~I))+w[14]+2878612391&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~_))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~S))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~T))+w[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~I))+w[10]+4293915773&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~_))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~S))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~T))+w[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~I))+w[6]+2734768916&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~_))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~S))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~T))+w[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~I))+w[2]+718787259&4294967295,T=S+(E<<15&4294967295|E>>>17),E=I+(S^(T|~_))+w[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,C.g[2]=C.g[2]+T&4294967295,C.g[3]=C.g[3]+S&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var I=_-this.blockSize,w=this.B,T=this.h,S=0;S<_;){if(T==0)for(;S<=I;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<_;)if(w[T++]=C.charCodeAt(S++),T==this.blockSize){i(this,w),T=0;break}}else for(;S<_;)if(w[T++]=C[S++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var I=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=I&255,I/=256;for(this.u(C),C=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)C[I++]=this.g[_]>>>w&255;return C};function o(C,_){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=_(C)}function s(C,_){this.h=_;for(var I=[],w=!0,T=C.length-1;0<=T;T--){var S=C[T]|0;w&&S==_||(I[T]=S,w=!1)}this.g=I}var a={};function u(C){return-128<=C&&128>C?o(C,function(_){return new s([_|0],0>_?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return N(l(-C));for(var _=[],I=1,w=0;C>=I;w++)_[w]=C/I|0,I*=4294967296;return new s(_,0)}function f(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return N(f(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,T=0;T<C.length;T+=8){var S=Math.min(8,C.length-T),E=parseInt(C.substring(T,T+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-N(this).m();for(var C=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);C+=(0<=w?w:4294967296+w)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(O(this))return"-"+N(this).toString(C);for(var _=l(Math.pow(C,6)),I=this,w="";;){var T=Te(I,_).g;I=$(I,T.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=T,b(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=$(this,C),O(C)?-1:b(C)?0:1};function N(C){for(var _=C.g.length,I=[],w=0;w<_;w++)I[w]=~C.g[w];return new s(I,~C.h).add(g)}n.abs=function(){return O(this)?N(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0,T=0;T<=_;T++){var S=w+(this.i(T)&65535)+(C.i(T)&65535),E=(S>>>16)+(this.i(T)>>>16)+(C.i(T)>>>16);w=E>>>16,S&=65535,E&=65535,I[T]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function $(C,_){return C.add(N(_))}n.j=function(C){if(b(this)||b(C))return p;if(O(this))return O(C)?N(this).j(N(C)):N(N(this).j(C));if(O(C))return N(this.j(N(C)));if(0>this.l(y)&&0>C.l(y))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<C.g.length;T++){var S=this.i(w)>>>16,E=this.i(w)&65535,Nr=C.i(T)>>>16,Ec=C.i(T)&65535;I[2*w+2*T]+=E*Ec,X(I,2*w+2*T),I[2*w+2*T+1]+=S*Ec,X(I,2*w+2*T+1),I[2*w+2*T+1]+=E*Nr,X(I,2*w+2*T+1),I[2*w+2*T+2]+=S*Nr,X(I,2*w+2*T+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function X(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function ee(C,_){this.g=C,this.h=_}function Te(C,_){if(b(_))throw Error("division by zero");if(b(C))return new ee(p,p);if(O(C))return _=Te(N(C),_),new ee(N(_.g),N(_.h));if(O(_))return _=Te(C,N(_)),new ee(N(_.g),_.h);if(30<C.g.length){if(O(C)||O(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=_;0>=w.l(C);)I=wt(I),w=wt(w);var T=Pe(I,1),S=Pe(w,1);for(w=Pe(w,2),I=Pe(I,2);!b(w);){var E=S.add(w);0>=E.l(C)&&(T=T.add(I),S=E),w=Pe(w,1),I=Pe(I,1)}return _=$(C,T.j(_)),new ee(T,_)}for(T=p;0<=C.l(_);){for(I=Math.max(1,Math.floor(C.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(_);O(E)||0<E.l(C);)I-=w,S=l(I),E=S.j(_);b(S)&&(S=g),T=T.add(S),C=$(C,E)}return new ee(T,C)}n.A=function(C){return Te(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&C.i(w);return new s(I,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|C.i(w);return new s(I,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^C.i(w);return new s(I,this.h^C.h)};function wt(C){for(var _=C.g.length+1,I=[],w=0;w<_;w++)I[w]=C.i(w)<<1|C.i(w-1)>>>31;return new s(I,C.h)}function Pe(C,_){var I=_>>5;_%=32;for(var w=C.g.length-I,T=[],S=0;S<w;S++)T[S]=0<_?C.i(S+I)>>>_|C.i(S+I+1)<<32-_:C.i(S+I);return new s(T,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dw=wO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,ci=wO.Integer=s}).apply(typeof IO<"u"?IO:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ui={};var fw,A5,ja,hw,Il,Gp,pw,gw,mw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in h))break e;h=h[D]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,m=!1,D={next:function(){if(!m&&h<c.length){var P=h++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,m),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function g(c,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function b(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,D,P){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return d.prototype[D].apply(m,U)}}function O(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function N(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let D=c.length||0,P=m.length||0;c.length=D+P;for(let U=0;U<P;U++)c[D+U]=m[U]}else c.push(m)}}class ${constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var wt=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Pe(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function C(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function _(c){let d={};for(let h in c)d[h]=c[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let h,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(h in m)c[h]=m[h];for(let P=0;P<I.length;P++)h=I[P],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function T(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=gm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Nr{constructor(){this.h=this.g=null}add(d,h){let m=Ec.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Ec=new $(()=>new Uk,c=>c.reset());class Uk{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ic,wc=!1,gm=new Nr,YC=()=>{let c=a.Promise.resolve(void 0);Ic=()=>{c.then(jk)}};var jk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(h){S(h)}var d=Ec;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}wc=!1};function _i(){this.s=this.s,this.C=this.C}_i.prototype.s=!1,_i.prototype.ma=function(){this.s||(this.s=!0,this.N())},_i.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var Bk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c})();function Cc(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(wt){e:{try{Te(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$k[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cc.aa.h.call(this)}}b(Cc,At);var $k={2:"touch",3:"pen",4:"mouse"};Cc.prototype.h=function(){Cc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),Hk=0;function zk(c,d,h,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=D,this.key=++Hk,this.da=this.fa=!1}function id(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function od(c){this.src=c,this.g={},this.h=0}od.prototype.add=function(c,d,h,m,D){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=ym(c,d,m,D);return-1<U?(d=c[U],h||(d.fa=!1)):(d=new zk(d,this.src,P,!!m,D),d.fa=h,c.push(d)),d};function mm(c,d){var h=d.type;if(h in c.g){var m=c.g[h],D=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=D)&&Array.prototype.splice.call(m,D,1),P&&(id(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function ym(c,d,h,m){for(var D=0;D<c.length;++D){var P=c[D];if(!P.da&&P.listener==d&&P.capture==!!h&&P.ha==m)return D}return-1}var vm="closure_lm_"+(1e6*Math.random()|0),_m={};function ZC(c,d,h,m,D){if(m&&m.once)return XC(c,d,h,m,D);if(Array.isArray(d)){for(var P=0;P<d.length;P++)ZC(c,d[P],h,m,D);return null}return h=Cm(h),c&&c[bc]?c.K(d,h,l(m)?!!m.capture:!!m,D):JC(c,d,h,!1,m,D)}function JC(c,d,h,m,D,P){if(!d)throw Error("Invalid event type");var U=l(D)?!!D.capture:!!D,xe=Im(c);if(xe||(c[vm]=xe=new od(c)),h=xe.add(d,h,m,U,P),h.proxy)return h;if(m=qk(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)Bk||(D=U),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(tb(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function qk(){function c(h){return d.call(c.src,c.listener,h)}let d=Gk;return c}function XC(c,d,h,m,D){if(Array.isArray(d)){for(var P=0;P<d.length;P++)XC(c,d[P],h,m,D);return null}return h=Cm(h),c&&c[bc]?c.L(d,h,l(m)?!!m.capture:!!m,D):JC(c,d,h,!0,m,D)}function eb(c,d,h,m,D){if(Array.isArray(d))for(var P=0;P<d.length;P++)eb(c,d[P],h,m,D);else m=l(m)?!!m.capture:!!m,h=Cm(h),c&&c[bc]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],h=ym(P,h,m,D),-1<h&&(id(P[h]),Array.prototype.splice.call(P,h,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Im(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ym(d,h,m,D)),(h=-1<c?d[c]:null)&&Em(h))}function Em(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[bc])mm(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(tb(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=Im(d))?(mm(h,c),h.h==0&&(h.src=null,d[vm]=null)):id(c)}}}function tb(c){return c in _m?_m[c]:_m[c]="on"+c}function Gk(c,d){if(c.da)c=!0;else{d=new Cc(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&Em(c),c=h.call(m,d)}return c}function Im(c){return c=c[vm],c instanceof od?c:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(c){return typeof c=="function"?c:(c[wm]||(c[wm]=function(d){return c.handleEvent(d)}),c[wm])}function Mt(){_i.call(this),this.i=new od(this),this.M=this,this.F=null}b(Mt,_i),Mt.prototype[bc]=!0,Mt.prototype.removeEventListener=function(c,d,h,m){eb(this,c,d,h,m)};function Bt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var D=d;d=new At(m,c),w(d,D)}if(D=!0,h)for(var P=h.length-1;0<=P;P--){var U=d.g=h[P];D=sd(U,m,!0,d)&&D}if(U=d.g=c,D=sd(U,m,!0,d)&&D,D=sd(U,m,!1,d)&&D,h)for(P=0;P<h.length;P++)U=d.g=h[P],D=sd(U,m,!1,d)&&D}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)id(h[m]);delete c.g[d],c.h--}}this.F=null},Mt.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},Mt.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function sd(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,P=0;P<d.length;++P){var U=d[P];if(U&&!U.da&&U.capture==h){var xe=U.listener,Ct=U.ha||U.src;U.fa&&mm(c.i,U),D=xe.call(Ct,m)!==!1&&D}}return D&&!m.defaultPrevented}function nb(c,d,h){if(typeof c=="function")h&&(c=g(c,h));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rb(c){c.g=nb(()=>{c.g=null,c.i&&(c.i=!1,rb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Wk extends _i{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(c){_i.call(this),this.h=c,this.g={}}b(Tc,_i);var ib=[];function ob(c){Pe(c.g,function(d,h){this.g.hasOwnProperty(h)&&Em(d)},c),c.g={}}Tc.prototype.N=function(){Tc.aa.N.call(this),ob(this)},Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bm=a.JSON.stringify,Kk=a.JSON.parse,Qk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Tm(){}Tm.prototype.h=null;function sb(c){return c.h||(c.h=c.i())}function ab(){}var Dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){At.call(this,"d")}b(Dm,At);function Sm(){At.call(this,"c")}b(Sm,At);var Eo={},cb=null;function ad(){return cb=cb||new Mt}Eo.La="serverreachability";function ub(c){At.call(this,Eo.La,c)}b(ub,At);function Sc(c){let d=ad();Bt(d,new ub(d))}Eo.STAT_EVENT="statevent";function lb(c,d){At.call(this,Eo.STAT_EVENT,c),this.stat=d}b(lb,At);function $t(c){let d=ad();Bt(d,new lb(d,c))}Eo.Ma="timingevent";function db(c,d){At.call(this,Eo.Ma,c),this.size=d}b(db,At);function Ac(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Mc(){this.g=!0}Mc.prototype.xa=function(){this.g=!1};function Yk(c,d,h,m,D,P){c.info(function(){if(c.g)if(P)for(var U="",xe=P.split("&"),Ct=0;Ct<xe.length;Ct++){var Ce=xe[Ct].split("=");if(1<Ce.length){var Rt=Ce[0];Ce=Ce[1];var Pt=Rt.split("_");U=2<=Pt.length&&Pt[1]=="type"?U+(Rt+"="+Ce+"&"):U+(Rt+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+h+`
`+U})}function Zk(c,d,h,m,D,P,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+h+`
`+P+" "+U})}function Ss(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Xk(c,h)+(m?" "+m:"")})}function Jk(c,d){c.info(function(){return"TIMEOUT: "+d})}Mc.prototype.info=function(){};function Xk(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var D=m[1];if(Array.isArray(D)&&!(1>D.length)){var P=D[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<D.length;U++)D[U]=""}}}}return bm(h)}catch{return d}}var cd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Am;function ud(){}b(ud,Tm),ud.prototype.g=function(){return new XMLHttpRequest},ud.prototype.i=function(){return{}},Am=new ud;function Ei(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new Tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hb}function hb(){this.i=null,this.g="",this.h=!1}var pb={},Mm={};function Rm(c,d,h){c.L=1,c.v=hd(Or(d)),c.m=h,c.P=!0,gb(c,null)}function gb(c,d){c.F=Date.now(),ld(c),c.A=Or(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Mb(h.i,"t",m),c.C=0,h=c.j.J,c.h=new hb,c.g=Wb(c.j,h?d:null,!c.m),0<c.O&&(c.M=new Wk(g(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(ib[0]=D.toString()),D=ib);for(var P=0;P<D.length;P++){var U=ZC(h,D[P],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Sc(),Yk(c.i,c.u,c.A,c.l,c.R,c.m)}Ei.prototype.ca=function(c){c=c.target;let d=this.M;d&&xr(c)==3?d.j():this.Y(c)},Ei.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=xr(this.g);var d=this.g.Ba();let Rs=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Fb(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Rs?Sc(3):Sc(2)),Pm(this);var h=this.g.Z();this.X=h;t:if(mb(this)){var m=Fb(this.g);c="";var D=m.length,P=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),Rc(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==D-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=h==200,Zk(this.i,this.u,this.A,this.l,this.R,Pt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Ct=this.g;if((xe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(xe)){var Ce=xe;break t}}Ce=null}if(h=Ce)Ss(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nm(this,h);else{this.o=!1,this.s=3,$t(12),Io(this),Rc(this);break e}}if(this.P){h=!0;let $n;for(;!this.J&&this.C<U.length;)if($n=eF(this,U),$n==Mm){Pt==4&&(this.s=4,$t(14),h=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if($n==pb){this.s=4,$t(15),Ss(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else Ss(this.i,this.l,$n,null),Nm(this,$n);if(mb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||U.length!=0||this.h.h||(this.s=1,$t(16),h=!1),this.o=this.o&&h,!h)Ss(this.i,this.l,U,"[Invalid Chunked Response]"),Io(this),Rc(this);else if(0<U.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Vm(Rt),Rt.M=!0,$t(11))}}else Ss(this.i,this.l,U,null),Nm(this,U);Pt==4&&Io(this),this.o&&!this.J&&(Pt==4?Hb(this.j,this):(this.o=!1,ld(this)))}else yF(this.g),h==400&&0<U.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Io(this),Rc(this)}}}catch{}finally{}};function mb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eF(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Mm:(h=Number(d.substring(h,m)),isNaN(h)?pb:(m+=1,m+h>d.length?Mm:(d=d.slice(m,m+h),c.C=m+h,d)))}Ei.prototype.cancel=function(){this.J=!0,Io(this)};function ld(c){c.S=Date.now()+c.I,yb(c,c.I)}function yb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ac(g(c.ba,c),d)}function Pm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ei.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Jk(this.i,this.A),this.L!=2&&(Sc(),$t(17)),Io(this),this.s=2,Rc(this)):yb(this,this.S-c)};function Rc(c){c.j.G==0||c.J||Hb(c.j,c)}function Io(c){Pm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ob(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Nm(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Om(h.h,c))){if(!c.K&&Om(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)vd(h),md(h);else break e;Lm(h),$t(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ac(g(h.Za,h),6e3));if(1>=Eb(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Co(h,11)}else if((c.K||h.g==c)&&vd(h),!X(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let Ce=D[d];if(h.T=Ce[0],Ce=Ce[1],h.G==2)if(Ce[0]=="c"){h.K=Ce[1],h.ia=Ce[2];let Rt=Ce[3];Rt!=null&&(h.la=Rt,h.j.info("VER="+h.la));let Pt=Ce[4];Pt!=null&&(h.Aa=Pt,h.j.info("SVER="+h.Aa));let Rs=Ce[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(m=1.5*Rs,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let $n=c.g;if($n){let Ed=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ed){var P=m.h;P.g||Ed.indexOf("spdy")==-1&&Ed.indexOf("quic")==-1&&Ed.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(xm(P,P.h),P.h=null))}if(m.D){let Um=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Um&&(m.ya=Um,Le(m.I,m.D,Um))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var U=c;if(m.qa=Gb(m,m.J?m.ia:null,m.W),U.K){Ib(m.h,U);var xe=U,Ct=m.L;Ct&&(xe.I=Ct),xe.B&&(Pm(xe),ld(xe)),m.g=U}else Bb(m);0<h.i.length&&yd(h)}else Ce[0]!="stop"&&Ce[0]!="close"||Co(h,7);else h.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Co(h,7):Fm(h):Ce[0]!="noop"&&h.l&&h.l.ta(Ce),h.v=0)}}Sc(4)}catch{}}var tF=class{constructor(c,d){this.g=c,this.map=d}};function vb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _b(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eb(c){return c.h?1:c.g?c.g.size:0}function Om(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xm(c,d){c.g?c.g.add(d):c.h=d}function Ib(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vb.prototype.cancel=function(){if(this.i=wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return O(c.i)}function nF(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function rF(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function Cb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=rF(c),m=nF(c),D=m.length,P=0;P<D;P++)d.call(void 0,m[P],h&&h[P],c)}var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iF(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),D=null;if(0<=m){var P=c[h].substring(0,m);D=c[h].substring(m+1)}else P=c[h];d(P,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function wo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wo){this.h=c.h,dd(this,c.j),this.o=c.o,this.g=c.g,fd(this,c.s),this.l=c.l;var d=c.i,h=new Oc;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Tb(this,h),this.m=c.m}else c&&(d=String(c).match(bb))?(this.h=!1,dd(this,d[1]||"",!0),this.o=Pc(d[2]||""),this.g=Pc(d[3]||"",!0),fd(this,d[4]),this.l=Pc(d[5]||"",!0),Tb(this,d[6]||"",!0),this.m=Pc(d[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}wo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Nc(d,Db,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Nc(d,Db,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Nc(h,h.charAt(0)=="/"?aF:sF,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Nc(h,uF)),c.join("")};function Or(c){return new wo(c)}function dd(c,d,h){c.j=h?Pc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function fd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Tb(c,d,h){d instanceof Oc?(c.i=d,lF(c.i,c.h)):(h||(d=Nc(d,cF)),c.i=new Oc(d,c.h))}function Le(c,d,h){c.i.set(d,h)}function hd(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nc(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,oF),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oF(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Db=/[#\/\?@]/g,sF=/[#\?:]/g,aF=/[#\?]/g,cF=/[#\?@]/g,uF=/#/g;function Oc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ii(c){c.g||(c.g=new Map,c.h=0,c.i&&iF(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Oc.prototype,n.add=function(c,d){Ii(this),this.i=null,c=As(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function Sb(c,d){Ii(c),d=As(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ab(c,d){return Ii(c),d=As(c,d),c.g.has(d)}n.forEach=function(c,d){Ii(this),this.g.forEach(function(h,m){h.forEach(function(D){c.call(d,D,m,this)},this)},this)},n.na=function(){Ii(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let D=c[m];for(let P=0;P<D.length;P++)h.push(d[m])}return h},n.V=function(c){Ii(this);let d=[];if(typeof c=="string")Ab(this,c)&&(d=d.concat(this.g.get(As(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},n.set=function(c,d){return Ii(this),this.i=null,c=As(this,c),Ab(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Mb(c,d,h){Sb(c,d),0<h.length&&(c.i=null,c.g.set(As(c,d),O(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let P=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var D=P;U[m]!==""&&(D+="="+encodeURIComponent(String(U[m]))),c.push(D)}}return this.i=c.join("&")};function As(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lF(c,d){d&&!c.j&&(Ii(c),c.i=null,c.g.forEach(function(h,m){var D=m.toLowerCase();m!=D&&(Sb(this,m),Mb(this,D,h))},c)),c.j=d}function dF(c,d){let h=new Mc;if(a.Image){let m=new Image;m.onload=y(wi,h,"TestLoadImage: loaded",!0,d,m),m.onerror=y(wi,h,"TestLoadImage: error",!1,d,m),m.onabort=y(wi,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(wi,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function fF(c,d){let h=new Mc,m=new AbortController,D=setTimeout(()=>{m.abort(),wi(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(D),P.ok?wi(h,"TestPingServer: ok",!0,d):wi(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),wi(h,"TestPingServer: error",!1,d)})}function wi(c,d,h,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(h)}catch{}}function hF(){this.g=new Qk}function pF(c,d,h){let m=h||"";try{Cb(c,function(D,P){let U=D;l(D)&&(U=bm(D)),d.push(m+P+"="+encodeURIComponent(U))})}catch(D){throw d.push(m+"type="+encodeURIComponent("_badmap")),D}}function xc(c){this.l=c.Ub||null,this.j=c.eb||!1}b(xc,Tm),xc.prototype.g=function(){return new pd(this.l,this.j)},xc.prototype.i=(function(c){return function(){return c}})({});function pd(c,d){Mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(pd,Mt),n=pd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Fc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?kc(this):Fc(this),this.readyState==3&&Rb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,kc(this))},n.Qa=function(c){this.g&&(this.response=c,kc(this))},n.ga=function(){this.g&&kc(this)};function kc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Fc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pb(c){let d="";return Pe(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function km(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=Pb(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Le(c,d,h))}function $e(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b($e,Mt);var gF=/^https?$/i,mF=["POST","PUT"];n=$e.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Am.g(),this.v=this.o?sb(this.o):sb(Am),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){Nb(this,P);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)h.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())h.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(P=>P.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mF,d,void 0))||m||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of h)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kb(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){Nb(this,P)}};function Nb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Ob(c),gd(c)}function Ob(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),gd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gd(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xb(this):this.bb())},n.bb=function(){xb(this)};function xb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||xr(c)!=4||c.Z()!=2)){if(c.u&&xr(c)==4)nb(c.Ea,0,c);else if(Bt(c,"readystatechange"),xr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=U===0){var D=String(c.D).match(bb)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),m=!gF.test(D?D.toLowerCase():"")}h=m}if(h)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var P=2<xr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",Ob(c)}}finally{gd(c)}}}}function gd(c,d){if(c.g){kb(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Bt(c,"ready");try{h.onreadystatechange=m}catch{}}}function kb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function xr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Kk(d)}};function Fb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yF(c){let d={};c=(c.g&&2<=xr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(X(c[m]))continue;var h=T(c[m]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let P=d[D]||[];d[D]=P,P.push(h)}C(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lc(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function Lb(c){this.Aa=0,this.i=[],this.j=new Mc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lc("baseRetryDelayMs",5e3,c),this.cb=Lc("retryDelaySeedMs",1e4,c),this.Wa=Lc("forwardChannelMaxRetries",2,c),this.wa=Lc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vb(c&&c.concurrentRequestLimit),this.Da=new hF,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Lb.prototype,n.la=8,n.G=1,n.connect=function(c,d,h,m){$t(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Gb(this,null,this.W),yd(this)};function Fm(c){if(Vb(c),c.G==3){var d=c.U++,h=Or(c.I);if(Le(h,"SID",c.K),Le(h,"RID",d),Le(h,"TYPE","terminate"),Vc(c,h),d=new Ei(c,c.j,d),d.L=2,d.v=hd(Or(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=Wb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ld(d)}qb(c)}function md(c){c.g&&(Vm(c),c.g.cancel(),c.g=null)}function Vb(c){md(c),c.u&&(a.clearTimeout(c.u),c.u=null),vd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yd(c){if(!_b(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ic||YC(),wc||(Ic(),wc=!0),gm.add(d,c),c.B=0}}function vF(c,d){return Eb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ac(g(c.Ga,c,d),zb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Ei(this,this.j,c),P=this.o;if(this.S&&(P?(P=_(P),w(P,this.S)):P=this.S),this.m!==null||this.O||(D.H=P,P=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=jb(this,D,d),h=Or(this.I),Le(h,"RID",c),Le(h,"CVER",22),this.D&&Le(h,"X-HTTP-Session-Id",this.D),Vc(this,h),P&&(this.O?d="headers="+encodeURIComponent(String(Pb(P)))+"&"+d:this.m&&km(h,this.m,P)),xm(this.h,D),this.Ua&&Le(h,"TYPE","init"),this.P?(Le(h,"$req",d),Le(h,"SID","null"),D.T=!0,Rm(D,h,null)):Rm(D,h,d),this.G=2}}else this.G==3&&(c?Ub(this,c):this.i.length==0||_b(this.h)||Ub(this))};function Ub(c,d){var h;d?h=d.l:h=c.U++;let m=Or(c.I);Le(m,"SID",c.K),Le(m,"RID",h),Le(m,"AID",c.T),Vc(c,m),c.m&&c.o&&km(m,c.m,c.o),h=new Ei(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=jb(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xm(c.h,h),Rm(h,m,d)}function Vc(c,d){c.H&&Pe(c.H,function(h,m){Le(d,m,h)}),c.l&&Cb({},function(h,m){Le(d,m,h)})}function jb(c,d,h){h=Math.min(c.i.length,h);var m=c.l?g(c.l.Na,c.l,c):null;e:{var D=c.i;let P=-1;for(;;){let U=["count="+h];P==-1?0<h?(P=D[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let xe=!0;for(let Ct=0;Ct<h;Ct++){let Ce=D[Ct].g,Rt=D[Ct].map;if(Ce-=P,0>Ce)P=Math.max(0,D[Ct].g-100),xe=!1;else try{pF(Rt,U,"req"+Ce+"_")}catch{m&&m(Rt)}}if(xe){m=U.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function Bb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ic||YC(),wc||(Ic(),wc=!0),gm.add(d,c),c.v=0}}function Lm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ac(g(c.Fa,c),zb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$b(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ac(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),md(this),$b(this))};function Vm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $b(c){c.g=new Ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Or(c.qa);Le(d,"RID","rpc"),Le(d,"SID",c.K),Le(d,"AID",c.T),Le(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(d,"TO",c.ja),Le(d,"TYPE","xmlhttp"),Vc(c,d),c.m&&c.o&&km(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=hd(Or(d)),h.m=null,h.P=!0,gb(h,c)}n.Za=function(){this.C!=null&&(this.C=null,md(this),Lm(this),$t(19))};function vd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Hb(c,d){var h=null;if(c.g==d){vd(c),Vm(c),c.g=null;var m=2}else if(Om(c.h,d))h=d.D,Ib(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;m=ad(),Bt(m,new db(m,h)),yd(c)}else Bb(c);else if(D=d.s,D==3||D==0&&0<d.X||!(m==1&&vF(c,d)||m==2&&Lm(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Co(c,5);break;case 4:Co(c,10);break;case 3:Co(c,6);break;default:Co(c,2)}}}function zb(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Co(c,d){if(c.j.info("Error code "+d),d==2){var h=g(c.fb,c),m=c.Xa;let D=!m;m=new wo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dd(m,"https"),hd(m),D?dF(m.toString(),h):fF(m.toString(),h)}else $t(2);c.G=0,c.l&&c.l.sa(d),qb(c),Vb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function qb(c){if(c.G=0,c.ka=[],c.l){let d=wb(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Gb(c,d,h){var m=h instanceof wo?Or(h):new wo(h);if(m.g!="")d&&(m.g=d+"."+m.g),fd(m,m.s);else{var D=a.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var P=new wo(null);m&&dd(P,m),d&&(P.g=d),D&&fd(P,D),h&&(P.l=h),m=P}return h=c.D,d=c.ya,h&&d&&Le(m,h,d),Le(m,"VER",c.la),Vc(c,m),m}function Wb(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new $e(new xc({eb:h})):new $e(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kb(){}n=Kb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _d(){}_d.prototype.g=function(c,d){return new ln(c,d)};function ln(c,d){Mt.call(this),this.g=new Lb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!X(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ms(this)}b(ln,Mt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Fm(this.g)},ln.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=bm(c),c=h);d.i.push(new tF(d.Ya++,c)),d.G==3&&yd(d)},ln.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,ln.aa.N.call(this)};function Qb(c){Dm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(Qb,Dm);function Yb(){Sm.call(this),this.status=1}b(Yb,Sm);function Ms(c){this.g=c}b(Ms,Kb),Ms.prototype.ua=function(){Bt(this.g,"a")},Ms.prototype.ta=function(c){Bt(this.g,new Qb(c))},Ms.prototype.sa=function(c){Bt(this.g,new Yb)},Ms.prototype.ra=function(){Bt(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,mw=ui.createWebChannelTransport=function(){return new _d},gw=ui.getStatEventTarget=function(){return ad()},pw=ui.Event=Eo,Gp=ui.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cd.NO_ERROR=0,cd.TIMEOUT=8,cd.HTTP_ERROR=6,Il=ui.ErrorCode=cd,fb.COMPLETE="complete",hw=ui.EventType=fb,ab.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,ja=ui.WebChannel=ab,A5=ui.FetchXmlHttpFactory=xc,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,fw=ui.XhrIo=$e}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});var CO="@firebase/firestore",bO="4.8.0";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var uc="11.10.0";var gs=new wr("@firebase/firestore");function Ba(){return gs.logLevel}function z(n,...e){if(gs.logLevel<=me.DEBUG){let t=e.map(iC);gs.debug(`Firestore (${uc}): ${n}`,...t)}}function di(n,...e){if(gs.logLevel<=me.ERROR){let t=e.map(iC);gs.error(`Firestore (${uc}): ${n}`,...t)}}function fo(n,...e){if(gs.logLevel<=me.WARN){let t=e.map(iC);gs.warn(`Firestore (${uc}): ${n}`,...t)}}function iC(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function J(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,gx(n,r,t)}function gx(n,e,t){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw di(r),new Error(r)}function Re(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||gx(e,i,r)}function oe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ir=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Xp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Iw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Et.UNAUTHENTICATED))}shutdown(){}},ww=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Cw=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new Xp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Et(e)}},bw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Tw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function M5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function mx(){return new TextEncoder}var Sl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=M5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function Sw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pe(r,i);{let o=mx(),s=R5(o.encode(TO(n,t)),o.encode(TO(e,t)));return s!==0?s:pe(r,i)}}t+=r>65535?2:1}return pe(n.length,e.length)}function TO(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function R5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pe(n[t],e[t]);return pe(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var DO="__name__",tg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&J(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Sw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}},Be=class n extends tg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},P5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dn=class n extends tg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return P5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DO}static keyField(){return new n([DO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};function yx(n,e,t){if(!t)throw new H(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N5(n,e,t,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SO(n){if(!K.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AO(n){if(K.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J(12329,{type:typeof n})}function fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xg(n);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ct(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ul(n,e){if(!vx(n))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(k.INVALID_ARGUMENT,t);return!0}var MO=-62135596800,RO=1e6,ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*RO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MO)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RO}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-MO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:ct("string",ut._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Al=-1,Aw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Aw.UNKNOWN_ID=-1;function O5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new ms(i,K.empty(),e)}function x5(n){return new ms(n.readTime,n.key,Al)}var ms=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),K.empty(),Al)}static max(){return new n(ae.max(),K.empty(),Al)}};function k5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var F5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lc(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==F5)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function L5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dc(n){return n.name==="IndexedDbTransactionError"}var oC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),sC=-1;function kg(n){return n==null}function Ml(n){return n===0&&1/n==-1/0}function V5(n){return typeof n=="number"&&Number.isInteger(n)&&!Ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var _x="";function U5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PO(e)),e=j5(n.get(t),e);return PO(e)}function j5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case _x:t+="";break;default:t+=o}}return t}function PO(n){return n+_x+""}var B5="remoteDocuments",Ex="owner";var Ix="mutationQueues";var wx="mutations";var Cx="documentMutations",$5="remoteDocumentsV14";var bx="remoteDocumentGlobal";var Tx="targets";var Dx="targetDocuments";var Sx="targetGlobal",Ax="collectionParents";var Mx="clientMetadata";var Rx="bundles";var Px="namedQueries";var H5="indexConfiguration";var z5="indexState";var q5="indexEntries";var Nx="documentOverlays";var G5="globals";var W5=[Ix,wx,Cx,B5,Tx,Ex,Sx,Dx,Mx,bx,Ax,Rx,Px],xde=[...W5,Nx],K5=[Ix,wx,Cx,$5,Tx,Ex,Sx,Dx,Mx,bx,Ax,Rx,Px,Nx],Q5=K5,Y5=[...Q5,H5,z5,q5];var kde=[...Y5,G5];function NO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ox(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||Tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}},qa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}};Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ng(this.data.getIterator())}getIteratorFrom(e){return new ng(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ng=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jn=class n{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new n([])}unionWith(e){let t=new It(Dn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var rg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var Z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(n){if(Re(!!n,39018),typeof n=="string"){let e=0,t=Z5.exec(n);if(Re(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}var xx="server_timestamp",kx="__type__",Fx="__previous_value__",Lx="__local_write_time__";function aC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kx])===null||t===void 0?void 0:t.stringValue)===xx}function Fg(n){let e=n.mapValue.fields[Fx];return aC(e)?Fg(e):e}function Rl(n){let e=hi(n.mapValue.fields[Lx].timestampValue);return new ut(e.seconds,e.nanos)}var Rw=class{constructor(e,t,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},ig="(default)",og=class n{constructor(e,t){this.projectId=e,this.database=t||ig}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ig}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var cC="__type__",Vx="__max__",Wp={mapValue:{fields:{__type__:{stringValue:Vx}}}},uC="__vector__",Ya="value";function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aC(n)?4:jx(n)?9007199254740991:Ux(n)?10:11:J(28295,{value:n})}function Ar(n,e){if(n===e)return!0;let t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=hi(i.timestampValue),a=hi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return pi(i.bytesValue).isEqual(pi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?Ml(s)===Ml(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NO(s)!==NO(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ar(s[u],a[u])))return!1;return!0})(n,e);default:return J(52216,{left:n})}}function Pl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function Za(n,e){if(n===e)return 0;let t=ho(n),r=ho(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return OO(n.timestampValue,e.timestampValue);case 4:return OO(Rl(n),Rl(e));case 5:return Sw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=pi(o),u=pi(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=pe(a[l],u[l]);if(f!==0)return f}return pe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(je(o.latitude),je(s.latitude));return a!==0?a:pe(je(o.longitude),je(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return xO(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,f;let p=o.fields||{},g=s.fields||{},y=(a=p[Ya])===null||a===void 0?void 0:a.arrayValue,b=(u=g[Ya])===null||u===void 0?void 0:u.arrayValue,O=pe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=b?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:xO(y,b)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Wp.mapValue&&s===Wp.mapValue)return 0;if(o===Wp.mapValue)return 1;if(s===Wp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let g=Sw(u[p],f[p]);if(g!==0)return g;let y=Za(a[u[p]],l[f[p]]);if(y!==0)return y}return pe(u.length,f.length)})(n.mapValue,e.mapValue);default:throw J(23264,{le:t})}}function OO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=hi(n),r=hi(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function xO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Za(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function Ja(n){return Pw(n)}function Pw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=hi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return pi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return K.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Pw(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Pw(t.fields[s])}`;return i+"}"})(n.mapValue):J(61005,{value:n})}function Yp(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Fg(n);return e?16+Yp(e):16;case 5:return 2*n.stringValue.length;case 6:return pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Yp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return yo(r.fields,(o,s)=>{i+=o.length+Yp(s)}),i})(n.mapValue);default:throw J(13486,{value:n})}}function kO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nw(n){return!!n&&"integerValue"in n}function lC(n){return!!n&&"arrayValue"in n}function FO(n){return!!n&&"nullValue"in n}function LO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function Ux(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cC])===null||t===void 0?void 0:t.stringValue)===uC}function Cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Vx}var Lde={mapValue:{fields:{[cC]:{stringValue:uC},[Ya]:{arrayValue:{}}}}};var Tn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(t)}setAll(e){let t=Dn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Cl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Cl(this.value))}};function Bx(n){let e=[];return yo(n.fields,(t,r)=>{let i=new Dn([t]);if(Zp(r)){let o=Bx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new jn(e)}var or=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function VO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Za(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}var ec=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function J5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var sg=class{},at=class n extends sg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xw(e,t,r):t==="array-contains"?new Lw(e,r):t==="in"?new Vw(e,r):t==="not-in"?new Uw(e,r):t==="array-contains-any"?new jw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kw(e,r):new Fw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Za(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sr=class n extends sg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return $x(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function $x(n){return n.op==="and"}function Hx(n){return X5(n)&&$x(n)}function X5(n){for(let e of n.filters)if(e instanceof sr)return!1;return!0}function Ow(n){if(n instanceof at)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(Hx(n))return n.filters.map(e=>Ow(e)).join(",");{let e=n.filters.map(t=>Ow(t)).join(",");return`${n.op}(${e})`}}function zx(n,e){return n instanceof at?(function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)})(n,e):n instanceof sr?(function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zx(s,i.filters[a]),!0):!1})(n,e):void J(19439)}function qx(n){return n instanceof at?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`})(n):n instanceof sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(qx).join(" ,")+"}"})(n):"Filter"}var xw=class extends at{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},kw=class extends at{constructor(e,t){super(e,"in",t),this.keys=Gx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Fw=class extends at{constructor(e,t){super(e,"not-in",t),this.keys=Gx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Gx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var Lw=class extends at{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return lC(t)&&Pl(t.arrayValue,this.value)}},Vw=class extends at{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}},Uw=class extends at{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pl(this.value.arrayValue,t)}},jw=class extends at{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!lC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}};var Bw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function jO(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Bw(n,e,t,r,i,o,s)}function dC(n){let e=oe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ow(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),kg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Pe=t}return e.Pe}function fC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UO(n.startAt,e.startAt)&&UO(n.endAt,e.endAt)}function $w(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ys=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function e9(n,e,t,r,i,o,s,a){return new ys(n,e,t,r,i,o,s,a)}function hC(n){return new ys(n)}function BO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wx(n){return n.collectionGroup!==null}function bl(n){let e=oe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(Dn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ec(o,r))}),t.has(Dn.keyField().canonicalString())||e.Te.push(new ec(Dn.keyField(),r))}return e.Te}function Dr(n){let e=oe(n);return e.Ie||(e.Ie=t9(e,bl(n))),e.Ie}function t9(n,e){if(n.limitType==="F")return jO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ec(i.field,o)});let t=n.endAt?new Xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xa(n.startAt.position,n.startAt.inclusive):null;return jO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hw(n,e){let t=n.filters.concat([e]);return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zw(n,e,t){return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lg(n,e){return fC(Dr(n),Dr(e))&&n.limitType===e.limitType}function Kx(n){return`${dC(Dr(n))}|lt:${n.limitType}`}function $a(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qx(i)).join(", ")}]`),kg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ja(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`})(Dr(n))}; limitType=${n.limitType})`}function Vg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=VO(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,bl(r),i)||r.endAt&&!(function(s,a,u){let l=VO(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,bl(r),i))})(n,e)}function n9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Qx(n){return(e,t)=>{let r=!1;for(let i of bl(n)){let o=r9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function r9(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Za(u,l):J(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:n.dir})}}var gi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}};var i9=new Ke(K.comparator);function mi(){return i9}var Yx=new Ke(K.comparator);function wl(...n){let e=Yx;for(let t of n)e=e.insert(t.key,t);return e}function Zx(n){let e=Yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ds(){return Tl()}function Jx(){return Tl()}function Tl(){return new gi(n=>n.toString(),(n,e)=>n.isEqual(e))}var o9=new Ke(K.comparator),s9=new It(K.comparator);function ve(...n){let e=s9;for(let t of n)e=e.add(t);return e}var a9=new It(pe);function c9(){return a9}function pC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function Xx(n){return{integerValue:""+n}}function u9(n,e){return V5(e)?Xx(e):pC(n,e)}var tc=class{constructor(){this._=void 0}};function l9(n,e,t){return n instanceof nc?(function(i,o){let s={fields:{[kx]:{stringValue:xx},[Lx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&aC(o)&&(o=Fg(o)),o&&(s.fields[Fx]=o),{mapValue:s}})(t,e):n instanceof vs?t1(n,e):n instanceof _s?n1(n,e):(function(i,o){let s=e1(i,o),a=$O(s)+$O(i.Ee);return Nw(s)&&Nw(i.Ee)?Xx(a):pC(i.serializer,a)})(n,e)}function d9(n,e,t){return n instanceof vs?t1(n,e):n instanceof _s?n1(n,e):t}function e1(n,e){return n instanceof rc?(function(r){return Nw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var nc=class extends tc{},vs=class extends tc{constructor(e){super(),this.elements=e}};function t1(n,e){let t=r1(e);for(let r of n.elements)t.some(i=>Ar(i,r))||t.push(r);return{arrayValue:{values:t}}}var _s=class extends tc{constructor(e){super(),this.elements=e}};function n1(n,e){let t=r1(e);for(let r of n.elements)t=t.filter(i=>!Ar(i,r));return{arrayValue:{values:t}}}var rc=class extends tc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function $O(n){return je(n.integerValue||n.doubleValue)}function r1(n){return lC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function f9(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof vs&&i instanceof vs||r instanceof _s&&i instanceof _s?Qa(r.elements,i.elements,Ar):r instanceof rc&&i instanceof rc?Ar(r.Ee,i.Ee):r instanceof nc&&i instanceof nc})(n.transform,e.transform)}var qw=class{constructor(e,t){this.version=e,this.transformResults=t}},li=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ic=class{};function i1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nl(n.key,li.none()):new Es(n.key,n.data,li.none());{let t=n.data,r=Tn.empty(),i=new It(Dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mr(n.key,r,new jn(i.toArray()),li.none())}}function h9(n,e,t){n instanceof Es?(function(i,o,s){let a=i.value.clone(),u=zO(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Mr?(function(i,o,s){if(!Jp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=zO(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(o1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Dl(n,e,t,r){return n instanceof Es?(function(o,s,a,u){if(!Jp(o.precondition,s))return a;let l=o.value.clone(),f=qO(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Mr?(function(o,s,a,u){if(!Jp(o.precondition,s))return a;let l=qO(o.fieldTransforms,u,s),f=s.data;return f.setAll(o1(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Jp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function p9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=e1(r.transform,i||null);o!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,o))}return t||null}function HO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,(o,s)=>f9(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Es=class extends ic{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mr=class extends ic{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function o1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function zO(n,e,t){let r=new Map;Re(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,d9(s,a,t[i]))}return r}function qO(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,l9(o,s,e))}return r}var Nl=class extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Gw=class extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ww=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&h9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Jx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=i1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>HO(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>HO(t,r))}},Kw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return o9})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Qw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Yw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ot,Ie;function g9(n){switch(n){case k.OK:return J(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return J(15467,{code:n})}}function s1(n){if(n===void 0)return di("GRPC error has no .code"),k.UNKNOWN;switch(n){case ot.OK:return k.OK;case ot.CANCELLED:return k.CANCELLED;case ot.UNKNOWN:return k.UNKNOWN;case ot.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ot.INTERNAL:return k.INTERNAL;case ot.UNAVAILABLE:return k.UNAVAILABLE;case ot.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ot.NOT_FOUND:return k.NOT_FOUND;case ot.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ot.ABORTED:return k.ABORTED;case ot.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ot.DATA_LOSS:return k.DATA_LOSS;default:return J(39323,{code:n})}}(Ie=ot||(ot={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var GO=null;var m9=new ci([4294967295,4294967295],0);function WO(n){let e=mx().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function KO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ci([t,r],0),new ci([i,o],0)]}var Zw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fs(`Invalid padding: ${t}`);if(r<0)throw new fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ci.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ci.fromNumber(r)));return i.compare(m9)===1&&(i=new ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=WO(e),[r,i]=KO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=WO(e),[r,i]=KO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ag=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ke(pe),mi(),ve())}},Ol=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var Ga=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},cg=class{constructor(e,t){this.targetId=e,this.De=t}},ug=class{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},lg=class{constructor(){this.ve=0,this.Ce=QO(),this.Fe=jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ve(),t=ve(),r=ve();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:o})}}),new Ol(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=QO()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Jw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=mi(),this.je=Kp(),this.Je=Kp(),this.He=new Ke(pe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if($w(o))if(r===0){let s=new K(o.path);this.Xe(t,s,or.newNoDocument(s,ae.min()))}else Re(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}GO?.ct((function(f,p,g,y,b){var O,N,$,X,ee,Te;let wt={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Pe=p.unchangedNames;return Pe&&(wt.bloomFilter={applied:b===0,hashCount:(O=Pe?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(X=($=(N=Pe?.bits)===null||N===void 0?void 0:N.bitmap)===null||$===void 0?void 0:$.length)!==null&&X!==void 0?X:0,padding:(Te=(ee=Pe?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&Te!==void 0?Te:0,mightContain:C=>{var _;return(_=y?.mightContain(C))!==null&&_!==void 0&&_}}),wt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=pi(r).toUint8Array()}catch(u){if(u instanceof rg)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Zw(s,i,o)}catch(u){return fo(u instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&$w(a.target)){let u=new K(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,or.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ve();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new ag(e,t,this.He,this.ze,r);return this.ze=mi(),this.je=Kp(),this.Je=Kp(),this.He=new Ke(pe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new lg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new It(pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new It(pe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new lg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Kp(){return new Ke(K.comparator)}function QO(){return new Ke(K.comparator)}var y9={asc:"ASCENDING",desc:"DESCENDING"},v9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_9={and:"AND",or:"OR"},Xw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function e0(n,e){return n.useProto3Json||kg(e)?e:{value:e}}function dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function E9(n,e){return dg(n,e.toTimestamp())}function Sr(n){return Re(!!n,49232),ae.fromTimestamp((function(t){let r=hi(t);return new ut(r.seconds,r.nanos)})(n))}function gC(n,e){return t0(n,e).canonicalString()}function t0(n,e){let t=(function(i){return new Be(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function c1(n){let e=Be.fromString(n);return Re(h1(e),10190,{key:e.toString()}),e}function n0(n,e){return gC(n.databaseId,e.path)}function yw(n,e){let t=c1(e);if(t.get(1)!==n.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(l1(t))}function u1(n,e){return gC(n.databaseId,e)}function I9(n){let e=c1(n);return e.length===4?Be.emptyPath():l1(e)}function r0(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l1(n){return Re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function YO(n,e,t){return{name:n0(n,e),fields:t.value.mapValue.fields}}function w9(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Re(f===void 0||typeof f=="string",58123),jt.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),jt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?k.UNKNOWN:s1(l.code);return new H(f,l.message||"")})(s);t=new ug(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yw(n,r.document.name),o=Sr(r.document.updateTime),s=r.document.createTime?Sr(r.document.createTime):ae.min(),a=new Tn({mapValue:{fields:r.document.fields}}),u=or.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Ga(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yw(n,r.document),o=r.readTime?Sr(r.readTime):ae.min(),s=or.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ga([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yw(n,r.document),o=r.removedTargetIds||[];t=new Ga([],o,i,null)}else{if(!("filter"in e))return J(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Yw(i,o),a=r.targetId;t=new cg(a,s)}}return t}function C9(n,e){let t;if(e instanceof Es)t={update:YO(n,e.key,e.value)};else if(e instanceof Nl)t={delete:n0(n,e.key)};else if(e instanceof Mr)t={update:YO(n,e.key,e.data),updateMask:N9(e.fieldMask)};else{if(!(e instanceof Gw))return J(16599,{Rt:e.type});t={verify:n0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof nc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _s)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw J(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:E9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J(27497)})(n,e.precondition)),t}function b9(n,e){return n&&n.length>0?(Re(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Sr(i.updateTime):Sr(o);return s.isEqual(ae.min())&&(s=Sr(o)),new qw(s,i.transformResults||[])})(t,e))):[]}function T9(n,e){return{documents:[u1(n,e.path)]}}function D9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=u1(n,i);let o=(function(l){if(l.length!==0)return f1(sr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(g){return{field:Ha(g.field),direction:M9(g.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=e0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function S9(n){let e=I9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Re(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let g=d1(p);return g instanceof sr&&Hx(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(b){return new ec(za(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,kg(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Xa(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Xa(y,g)})(t.endAt)),e9(e,i,s,o,a,"F",u,l)}function A9(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=za(t.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=za(t.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=za(t.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=za(t.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}})(n):n.fieldFilter!==void 0?(function(t){return at.create(za(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return sr.create(t.compositeFilter.filters.map(r=>d1(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}})(t.compositeFilter.op))})(n):J(30097,{filter:n})}function M9(n){return y9[n]}function R9(n){return v9[n]}function P9(n){return _9[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function za(n){return Dn.fromServerFormat(n.fieldPath)}function f1(n){return n instanceof at?(function(t){if(t.op==="=="){if(LO(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NAN"}};if(FO(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LO(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NAN"}};if(FO(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(t.field),op:R9(t.op),value:t.value}}})(n):n instanceof sr?(function(t){let r=t.getFilters().map(i=>f1(i));return r.length===1?r[0]:{compositeFilter:{op:P9(t.op),filters:r}}})(n):J(54877,{filter:n})}function N9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xl=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var i0=class{constructor(e){this.gt=e}};function O9(n){let e=S9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zw(e,e.limit,"L"):e}var fg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ml(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=hi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(pi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?jx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Ux(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):J(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ya,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(je(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),K.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};fg.Ut=new fg;var o0=class{constructor(){this.Dn=new s0}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(ms.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},s0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Be.comparator)).toArray()}};var Vde=new Uint8Array(0);var ZO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040,Un=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(p1,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);var kl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var JO="LruGarbageCollector",x9=1048576;function XO([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var a0=class{constructor(e){this.Tr=e,this.buffer=new It(XO),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();XO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},c0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(JO,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){dc(t)?z(JO,"Ignoring IndexedDB error during garbage collection: ",t):yield lc(t)}yield this.Rr(3e5)}))}},u0=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(oC.ue);let r=new a0(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(ZO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZO):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ba()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function k9(n,e){return new u0(n,e)}var l0=class{constructor(){this.changes=new gi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var d0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var f0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Dl(r.mutation,i,jn.empty(),ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=wl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=mi(),s=Tl(),a=(function(){return Tl()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Mr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Dl(f.mutation,l,f.mutation.getFieldMask(),ut.now())):s.set(l.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return a.set(l,new d0(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Tl(),i=new Ke((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||jn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=Jx();f.forEach(g=>{if(!o.has(g)){let y=i1(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(ds()),a=Al,u=o;return s.next(l=>L.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(f=>({batchId:a,changes:Zx(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=wl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new ys(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,or.newInvalidDocument(f)))});let a=wl();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Dl(f.mutation,l,jn.empty(),ut.now()),Vg(t,l)&&(a=a.insert(u,l))}),a})}};var h0=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Sr(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:O9(i.bundledQuery),readTime:Sr(i.readTime)}})(t)),L.resolve()}};var p0=class{constructor(){this.overlays=new Ke(K.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ds();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=ds(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=ds(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=ds(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qw(t,r));let o=this.kr.get(t);o===void 0&&(o=ve(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var g0=class{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Fl=class{constructor(){this.qr=new It(st.Qr),this.$r=new It(st.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new st(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new st(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new K(new Be([])),r=new st(t,e),i=new st(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new K(new Be([])),r=new st(t,e),i=new st(t,e+1),o=ve();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new st(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return K.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||K.comparator(e.key,t.key)}};var m0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new It(st.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ww(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?sC:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(pe);return t.forEach(i=>{let o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new st(new K(o),0),a=new It(pe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new st(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new st(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var y0=class{constructor(e){this.ni=e,this.docs=(function(){return new Ke(K.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let r=mi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():or.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=mi(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||k5(x5(f),r)<=0||(i.has(f.key)||Vg(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new v0(this)}getSize(e){return L.resolve(this.size)}},v0=class extends l0{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var _0=class{constructor(e){this.persistence=e,this.ii=new gi(t=>dC(t),fC),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.si=0,this.oi=new Fl,this.targetCount=0,this._i=kl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new kl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var hg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new oC(0),this.ci=!1,this.ci=!0,this.li=new g0,this.referenceDelegate=e(this),this.hi=new _0(this),this.indexManager=new o0,this.remoteDocumentCache=(function(i){return new y0(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new i0(t),this.Ti=new h0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new m0(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new E0(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},E0=class extends Mw{constructor(e){super(),this.currentSequenceNumber=e}},I0=class n{constructor(e){this.persistence=e,this.Ai=new Fl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw J(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=K.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},pg=class n{constructor(e,t){this.persistence=e,this.gi=new gi(r=>U5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=k9(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yp(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var w0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ve(),i=ve();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var C0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var b0=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return XP()?8:L5(vt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new C0;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ba()<=me.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ba()<=me.DEBUG&&z("QueryEngine","Query:",$a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ba()<=me.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):L.resolve())}ps(e,t){if(BO(t))return L.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zw(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,zw(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return BO(t)||i.isEqual(ae.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(Ba()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$a(t)),this.vs(e,s,t,O5(i,Al)).next(a=>a))})}bs(e,t){let r=new It(Qx(e));return t.forEach((i,o)=>{Vg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ba()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",$a(t)),this.gs.getDocumentsMatchingQuery(e,t,ms.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var mC="LocalStore",F9=3e8,T0=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ke(pe),this.Ms=new gi(o=>dC(o),fC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f0(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function L9(n,e,t,r){return new T0(n,e,t,r)}function g1(n,e){return v(this,null,function*(){let t=oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function V9(n,e){let t=oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(O=>{let N=l.docVersions.get(b);Re(N!==null,48541),O.version.compareTo(N)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),f.addEntry(O)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function m1(n){let e=oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function U9(n,e){let t=oe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(jt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(O,N,$){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=F9?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(g,y,f)&&a.push(t.hi.updateTargetData(o,y))});let u=mi(),l=ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(j9(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(ae.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function j9(n,e,t){let r=ve(),i=ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=mi();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(mC,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function B9(n,e){let t=oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $9(n,e){let t=oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new xl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function D0(n,e,t){return v(this,null,function*(){let r=oe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!dc(s))throw s;z(mC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function ex(n,e,t){let r=oe(n),i=ae.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=oe(u),g=p.Ms.get(f);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(l,f)})(r,s,Dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:ve())).next(a=>(H9(r,n9(e),a),{documents:a,qs:o})))}function H9(n,e,t){let r=n.xs.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var gg=class{constructor(){this.activeTargetIds=c9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var S0=class{constructor(){this.Fo=new gg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var A0=class{xo(e){}shutdown(){}};var tx="ConnectivityMonitor",mg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(tx,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){z(tx,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qp=null;function M0(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}var vw="RestConnection",z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},R0=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ig?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=M0(),a=this.Go(e,t.toUriEncodedString());z(vw,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),f=Zi(l);return this.jo(e,a,u,r,f).then(p=>(z(vw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw fo(vw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=z9[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var P0=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ut="WebChannelConnection",N0=class extends R0{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=M0();return new Promise((a,u)=>{let l=new fw;l.setWithCredentials(!0),l.listenOnce(hw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Il.NO_ERROR:let p=l.getResponseJson();z(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Il.TIMEOUT:z(Ut,`RPC '${e}' ${s} timed out`),u(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:let g=l.getStatus();if(z(Ut,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let O=(function($){let X=$.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(X)>=0?X:k.UNKNOWN})(b.status);u(new H(O,b.message))}else u(new H(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(k.UNAVAILABLE,"Connection failed."));break;default:J(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{z(Ut,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);z(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=M0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mw(),a=gw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");z(Ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let g=!1,y=!1,b=new P0({Ho:N=>{y?z(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(z(Ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(Ut,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),O=(N,$,X)=>{N.listen($,ee=>{try{X(ee)}catch(Te){setTimeout(()=>{throw Te},0)}})};return O(p,ja.EventType.OPEN,()=>{y||(z(Ut,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),O(p,ja.EventType.CLOSE,()=>{y||(y=!0,z(Ut,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),O(p,ja.EventType.ERROR,N=>{y||(y=!0,fo(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),b.__(new H(k.UNAVAILABLE,"The operation could not be completed")))}),O(p,ja.EventType.MESSAGE,N=>{var $;if(!y){let X=N.data[0];Re(!!X,16349);let ee=X,Te=ee?.error||(($=ee[0])===null||$===void 0?void 0:$.error);if(Te){z(Ut,`RPC '${e}' stream ${i} received error:`,Te);let wt=Te.status,Pe=(function(I){let w=ot[I];if(w!==void 0)return s1(w)})(wt),C=Te.message;Pe===void 0&&(Pe=k.INTERNAL,C="Unknown error status: "+wt+" with message "+Te.message),y=!0,b.__(new H(Pe,C)),p.close()}else z(Ut,`RPC '${e}' stream ${i} received:`,X),b.a_(X)}}),O(a,pw.STAT_EVENT,N=>{N.stat===Gp.PROXY?z(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Gp.NOPROXY&&z(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function _w(){return typeof document<"u"?document:null}function Ug(n){return new Xw(n,!0)}var yg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var nx="PersistentStream",vg=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new yg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return z(nx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(z(nx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},O0=class extends vg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=w9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Sr(s.readTime):ae.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=r0(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=$w(u)?{documents:T9(o,u)}:{query:D9(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=a1(o,s.resumeToken);let l=e0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=dg(o,s.snapshotVersion.toTimestamp());let l=e0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=A9(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=r0(this.serializer),t.removeTarget=e,this.k_(t)}},x0=class extends vg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=b9(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=r0(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>C9(this.serializer,r))};this.k_(t)}};var k0=class{},F0=class extends k0{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,t0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,t0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},L0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(di(t),this._a=!1):z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Is="RemoteStore",V0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){ws(this)&&(z(Is,"Restarting streams for network reachability change."),yield(function(u){return v(this,null,function*(){let l=oe(u);l.Ia.add(4),yield jl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield jg(l)})})(this))}))}),this.Aa=new L0(r,i)}};function jg(n){return v(this,null,function*(){if(ws(n))for(let e of n.da)yield e(!0)})}function jl(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function y1(n,e){let t=oe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),EC(t)?_C(t):fc(t).x_()&&vC(t,e))}function yC(n,e){let t=oe(n),r=fc(t);t.Ta.delete(e),r.x_()&&v1(t,e),t.Ta.size===0&&(r.x_()?r.B_():ws(t)&&t.Aa.set("Unknown"))}function vC(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).H_(e)}function v1(n,e){n.Ra.$e(e),fc(n).Y_(e)}function _C(n){n.Ra=new Jw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.Aa.aa()}function EC(n){return ws(n)&&!fc(n).M_()&&n.Ta.size>0}function ws(n){return oe(n).Ia.size===0}function _1(n){n.Ra=void 0}function q9(n){return v(this,null,function*(){n.Aa.set("Online")})}function G9(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{vC(n,e)})})}function W9(n,e){return v(this,null,function*(){_1(n),EC(n)?(n.Aa.la(e),_C(n)):n.Aa.set("Unknown")})}function K9(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof ug&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){z(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _g(n,r)}else if(e instanceof Ga?n.Ra.Ye(e):e instanceof cg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ae.min()))try{let r=yield m1(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),v1(o,u);let p=new xl(f.target,u,l,f.sequenceNumber);vC(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){z(Is,"Failed to raise snapshot:",r),yield _g(n,r)}})}function _g(n,e,t){return v(this,null,function*(){if(!dc(e))throw e;n.Ia.add(1),yield jl(n),n.Aa.set("Offline"),t||(t=()=>m1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){z(Is,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield jg(n)}))})}function E1(n,e){return e().catch(t=>_g(n,t,e))}function Bg(n){return v(this,null,function*(){let e=oe(n),t=po(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:sC;for(;Q9(e);)try{let i=yield B9(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,Y9(e,i)}catch(i){yield _g(e,i)}I1(e)&&w1(e)})}function Q9(n){return ws(n)&&n.Pa.length<10}function Y9(n,e){n.Pa.push(e);let t=po(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function I1(n){return ws(n)&&!po(n).M_()&&n.Pa.length>0}function w1(n){po(n).start()}function Z9(n){return v(this,null,function*(){po(n).na()})}function J9(n){return v(this,null,function*(){let e=po(n);for(let t of n.Pa)e.X_(t.mutations)})}function X9(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=Kw.from(r,e,t);yield E1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bg(n)})}function e8(n,e){return v(this,null,function*(){e&&po(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return g9(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();po(r).N_(),yield E1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bg(r)}})})(n,e)),I1(n)&&w1(n)})}function rx(n,e){return v(this,null,function*(){let t=oe(n);t.asyncQueue.verifyOperationInProgress(),z(Is,"RemoteStore received new credentials");let r=ws(t);t.Ia.add(3),yield jl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield jg(t)})}function t8(n,e){return v(this,null,function*(){let t=oe(n);e?(t.Ia.delete(2),yield jg(t)):e||(t.Ia.add(2),yield jl(t),t.Aa.set("Unknown"))})}function fc(n){return n.Va||(n.Va=(function(t,r,i){let o=oe(t);return o.ia(),new O0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:q9.bind(null,n),e_:G9.bind(null,n),n_:W9.bind(null,n),J_:K9.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),EC(n)?_C(n):n.Aa.set("Unknown")):(yield n.Va.stop(),_1(n))}))),n.Va}function po(n){return n.ma||(n.ma=(function(t,r,i){let o=oe(t);return o.ia(),new x0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Z9.bind(null,n),n_:e8.bind(null,n),ea:J9.bind(null,n),ta:X9.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Bg(n)):(yield n.ma.stop(),n.Pa.length>0&&(z(Is,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var U0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function IC(n,e){if(di("AsyncQueue",`${e}: ${n}`),dc(n))return new H(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Eg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=wl(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ig=class{constructor(){this.fa=new Ke(K.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):J(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},oc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Eg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var j0=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},B0=class{constructor(){this.queries=ix(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=oe(t),o=i.queries;i.queries=ix(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function ix(){return new gi(n=>Kx(n),Lg)}function C1(n,e){return v(this,null,function*(){let t=oe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new j0,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=IC(s,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&wC(t)})}function b1(n,e){return v(this,null,function*(){let t=oe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function n8(n,e){let t=oe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&wC(t)}function r8(n,e,t){let r=oe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function wC(n){n.Da.forEach(e=>{e.next()})}var $0,ox;(ox=$0||($0={})).Fa="default",ox.Cache="cache";var wg=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$0.Cache}};var Cg=class{constructor(e){this.key=e}},bg=class{constructor(e){this.key=e}},H0=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ve(),this.mutatedKeys=ve(),this.Xa=Qx(e),this.eu=new Eg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Ig,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),y=Vg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?b!==O&&(r.track({type:3,doc:y}),N=!0):this.iu(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,b){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{At:N})}};return O(y)-O(b)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new oc(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ig,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ve(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Cg(r))}),t}uu(e){this.Ha=e.qs,this.Za=ve();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return oc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},CC="SyncEngine",z0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},q0=class{constructor(e){this.key=e,this.lu=!1}},G0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new gi(a=>Kx(a),Lg),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(K.comparator),this.Eu=new Map,this.Au=new Fl,this.Ru={},this.Vu=new Map,this.mu=kl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function i8(n,e,t=!0){return v(this,null,function*(){let r=R1(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield T1(r,e,t,!0),i})}function o8(n,e){return v(this,null,function*(){let t=R1(n);yield T1(t,e,!0,!1)})}function T1(n,e,t,r){return v(this,null,function*(){let i=yield $9(n.localStore,Dr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield s8(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&y1(n.remoteStore,i),a})}function s8(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,g,y)=>(function(O,N,$,X){return v(this,null,function*(){let ee=N.view.nu($);ee.Ds&&(ee=yield ex(O.localStore,N.query,!1).then(({documents:C})=>N.view.nu(C,ee)));let Te=X&&X.targetChanges.get(N.targetId),wt=X&&X.targetMismatches.get(N.targetId)!=null,Pe=N.view.applyChanges(ee,O.isPrimaryClient,Te,wt);return ax(O,N.targetId,Pe._u),Pe.snapshot})})(n,p,g,y);let o=yield ex(n.localStore,e,!0),s=new H0(e,o.qs),a=s.nu(o.documents),u=Ol.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);ax(n,t,l._u);let f=new z0(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function a8(n,e,t){return v(this,null,function*(){let r=oe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Lg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield D0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yC(r.remoteStore,i.targetId),W0(r,i.targetId)}).catch(lc))):(W0(r,i.targetId),yield D0(r.localStore,i.targetId,!0))})}function c8(n,e){return v(this,null,function*(){let t=oe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yC(t.remoteStore,r.targetId))})}function u8(n,e,t){return v(this,null,function*(){let r=m8(n);try{let i=yield(function(s,a){let u=oe(s),l=ut.now(),f=a.reduce((y,b)=>y.add(b.key),ve()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=mi(),O=ve();return u.Os.getEntries(y,f).next(N=>{b=N,b.forEach(($,X)=>{X.isValidDocument()||(O=O.add($))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(N=>{p=N;let $=[];for(let X of a){let ee=p9(X,p.get(X.key).overlayedDocument);ee!=null&&$.push(new Mr(X.key,ee,Bx(ee.value.mapValue),li.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,$,a)}).next(N=>{g=N;let $=N.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(y,N.batchId,$)})}).then(()=>({batchId:g.batchId,changes:Zx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ke(pe)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Bl(r,i.changes),yield Bg(r.remoteStore)}catch(i){let o=IC(i,"Failed to persist write");t.reject(o)}})}function D1(n,e){return v(this,null,function*(){let t=oe(n);try{let r=yield U9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Re(s.lu,14607):i.removedDocuments.size>0&&(Re(s.lu,42227),s.lu=!1))}),yield Bl(t,r,e)}catch(r){yield lc(r)}})}function sx(n,e,t){let r=oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&wC(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function l8(n,e,t){return v(this,null,function*(){let r=oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ke(K.comparator);s=s.insert(o,or.newNoDocument(o,ae.min()));let a=ve().add(o),u=new ag(ae.min(),new Map,new Ke(pe),s,a);yield D1(r,u),r.du=r.du.remove(o),r.Eu.delete(e),bC(r)}else yield D0(r.localStore,e,!1).then(()=>W0(r,e,t)).catch(lc)})}function d8(n,e){return v(this,null,function*(){let t=oe(n),r=e.batch.batchId;try{let i=yield V9(t.localStore,e);A1(t,r,null),S1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bl(t,i)}catch(i){yield lc(i)}})}function f8(n,e,t){return v(this,null,function*(){let r=oe(n);try{let i=yield(function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);A1(r,e,t),S1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bl(r,i)}catch(i){yield lc(i)}})}function S1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function A1(n,e,t){let r=oe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function W0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||M1(n,r)})}function M1(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(yC(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),bC(n))}function ax(n,e,t){for(let r of t)r instanceof Cg?(n.Au.addReference(r.key,e),h8(n,r)):r instanceof bg?(z(CC,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||M1(n,r.key)):J(19791,{yu:r})}function h8(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(z(CC,"New document in limbo: "+t),n.Iu.add(r),bC(n))}function bC(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new K(Be.fromString(e)),r=n.mu.next();n.Eu.set(r,new q0(t)),n.du=n.du.insert(t,r),y1(n.remoteStore,new xl(Dr(hC(t.path)),r,"TargetPurposeLimboResolution",oC.ue))}}function Bl(n,e,t){return v(this,null,function*(){let r=oe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=w0.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return v(this,null,function*(){let f=oe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Is,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!dc(p))throw p;z(mC,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=f.Fs.get(g),b=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(b);f.Fs=f.Fs.insert(g,O)}}})})(r.localStore,o))})}function p8(n,e){return v(this,null,function*(){let t=oe(n);if(!t.currentUser.isEqual(e)){z(CC,"User change. New user:",e.toKey());let r=yield g1(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new H(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bl(t,r.Bs)}})}function g8(n,e){let t=oe(n),r=t.Eu.get(e);if(r&&r.lu)return ve().add(r.key);{let i=ve(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function R1(n){let e=oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l8.bind(null,e),e.hu.J_=n8.bind(null,e.eventManager),e.hu.pu=r8.bind(null,e.eventManager),e}function m8(n){let e=oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,e),e}var P1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Ug(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return L9(this.persistence,new b0,t.initialUser,this.serializer)}Du(t){return new hg(I0.Vi,this.serializer)}bu(t){return new S0}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),K0=class extends P1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Re(this.persistence.referenceDelegate instanceof pg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new c0(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new hg(r=>pg.Vi(r,t),this.serializer)}};var y8=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=p8.bind(null,this.syncEngine),yield t8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new B0})()}createDatastore(t){let r=Ug(t.databaseInfo.databaseId),i=(function(s){return new N0(s)})(t.databaseInfo);return(function(s,a,u,l){return new F0(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new V0(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>sx(this.syncEngine,r,0),(function(){return mg.C()?new mg:new A0})())}createSyncEngine(t,r){return(function(o,s,a,u,l,f,p){let g=new G0(o,s,a,u,l,f);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=oe(o);z(Is,"RemoteStore shutting down."),s.Ia.add(5),yield jl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Tg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var go="FirestoreClient",Q0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Sl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){z(go,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(go,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=IC(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ew(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(go,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield g1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{fo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{fo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function cx(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield v8(n);z(go,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>rx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>rx(e.remoteStore,i)),n._onlineComponents=e})}function v8(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(go,"Using user provided OfflineComponentProvider");try{yield Ew(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield Ew(n,new P1)}}else z(go,"Using default OfflineComponentProvider"),yield Ew(n,new K0(void 0));return n._offlineComponents})}function N1(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(go,"Using user provided OnlineComponentProvider"),yield cx(n,n._uninitializedComponentsProvider._online)):(z(go,"Using default OnlineComponentProvider"),yield cx(n,new y8))),n._onlineComponents})}function _8(n){return N1(n).then(e=>e.syncEngine)}function O1(n){return v(this,null,function*(){let e=yield N1(n),t=e.eventManager;return t.onListen=i8.bind(null,e.syncEngine),t.onUnlisten=a8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c8.bind(null,e.syncEngine),t})}function E8(n,e,t={}){let r=new ir;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,u,l){let f=new Tg({next:g=>{f.Ou(),s.enqueueAndForget(()=>b1(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new wg(hC(a.path),f,{includeMetadataChanges:!0,ka:!0});return C1(o,p)})(yield O1(n),n.asyncQueue,e,t,r)})),r.promise}function I8(n,e,t={}){let r=new ir;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,u,l){let f=new Tg({next:g=>{f.Ou(),s.enqueueAndForget(()=>b1(o,p)),g.fromCache&&u.source==="server"?l.reject(new H(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new wg(a,f,{includeMetadataChanges:!0,ka:!0});return C1(o,p)})(yield O1(n),n.asyncQueue,e,t,r)})),r.promise}function x1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ux=new Map;var k1="firestore.googleapis.com",lx=!0,Dg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k1,this.ssl=lx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x9)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Iw;switch(r.type){case"firstParty":return new Tw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=ux.get(t);r&&(z("ComponentProvider","Removing Datastore"),ux.delete(t),r.terminate())})(this),Promise.resolve()}};function F1(n,e,t,r={}){var i;n=fi(n,sc);let o=Zi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(_p(`https://${u}`),Ep("Firestore",!0)),s.host!==k1&&s.host!==u&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Ir(l,a)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Et.MOCK_USER;else{f=WP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Et(g)}n._authCredentials=new ww(new Xp(f,p))}}var ac=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},St=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ul(t,n._jsonSchema))return new n(e,r||null,new K(Be.fromString(t.referencePath)))}};St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:ct("string",St._jsonSchemaVersion),referencePath:ct("string")};var ao=class n extends ac{constructor(e,t,r){super(e,t,hC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function L1(n,e,...t){if(n=_t(n),yx("collection","path",e),n instanceof sc){let r=Be.fromString(e,...t);return AO(r),new ao(n,null,r)}{if(!(n instanceof St||n instanceof ao))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return AO(r),new ao(n.firestore,null,r)}}function TC(n,e,...t){if(n=_t(n),arguments.length===1&&(e=Sl.newId()),yx("doc","path",e),n instanceof sc){let r=Be.fromString(e,...t);return SO(r),new St(n,null,new K(r))}{if(!(n instanceof St||n instanceof ao))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return SO(r),new St(n.firestore,n instanceof ao?n.converter:null,new K(r))}}var dx="AsyncQueue",Sg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new yg(this,"async_queue_retry"),this.oc=()=>{let r=_w();r&&z(dx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=_w();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=_w();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ir;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dc(e))throw e;z(dx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,di("INTERNAL UNHANDLED ERROR: ",fx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=U0.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&J(47125,{hc:fx(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function fx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var mo=class extends sc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sg(e),this._firestoreClient=void 0,yield e}})}};function V1(n,e){let t=typeof n=="object"?n:is(),r=typeof n=="string"?n:e||ig,i=ka(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=GP("firestore");o&&F1(i,...o)}return i}function DC(n){if(n._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w8(n),n._firestoreClient}function w8(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,f){return new Rw(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,x1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Q0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var co=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(jt.fromBase64String(e))}catch(t){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};co._jsonSchemaVersion="firestore/bytes/1.0",co._jsonSchema={type:ct("string",co._jsonSchemaVersion),bytes:ct("string")};var cc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ll=class{constructor(e){this._methodName=e}};var uo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};uo._jsonSchemaVersion="firestore/geoPoint/1.0",uo._jsonSchema={type:ct("string",uo._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};var lo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};lo._jsonSchemaVersion="firestore/vectorValue/1.0",lo._jsonSchema={type:ct("string",lo._jsonSchemaVersion),vectorValues:ct("object")};var C8=/^__.*__$/,Y0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Es(e,this.data,t,this.fieldTransforms)}},Ag=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function U1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ec:n})}}var Z0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(U1(this.Ec)&&C8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},J0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ug(e)}Dc(e,t,r,i=!1){return new Z0({Ec:e,methodName:t,bc:r,path:Dn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SC(n){let e=n._freezeSettings(),t=Ug(n._databaseId);return new J0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function b8(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);AC("Data must be an object, but it was:",s,r);let a=j1(r,s),u,l;if(o.merge)u=new jn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=X0(e,p,t);if(!s.contains(g))throw new H(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$1(f,g)||f.push(g)}u=new jn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Y0(new Tn(a),u,l)}var Mg=class n extends Ll{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function T8(n,e,t,r){let i=n.Dc(1,e,t);AC("Data must be an object, but it was:",i,r);let o=[],s=Tn.empty();yo(r,(u,l)=>{let f=MC(e,u,t);l=_t(l);let p=i.gc(f);if(l instanceof Mg)o.push(f);else{let g=$l(l,p);g!=null&&(o.push(f),s.set(f,g))}});let a=new jn(o);return new Ag(s,a,i.fieldTransforms)}function D8(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[X0(e,r,t)],u=[i];if(o.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(X0(e,o[g])),u.push(o[g+1]);let l=[],f=Tn.empty();for(let g=a.length-1;g>=0;--g)if(!$1(l,a[g])){let y=a[g],b=u[g];b=_t(b);let O=s.gc(y);if(b instanceof Mg)l.push(y);else{let N=$l(b,O);N!=null&&(l.push(y),f.set(y,N))}}let p=new jn(l);return new Ag(f,p,s.fieldTransforms)}function S8(n,e,t,r=!1){return $l(t,n.Dc(r?4:3,e))}function $l(n,e){if(B1(n=_t(n)))return AC("Unsupported field value:",e,n),j1(n,e);if(n instanceof Ll)return(function(r,i){if(!U1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=$l(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:dg(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dg(i.serializer,o)}}if(r instanceof uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:a1(i.serializer,r._byteString)};if(r instanceof St){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lo)return(function(s,a){return{mapValue:{fields:{[cC]:{stringValue:uC},[Ya]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return pC(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${xg(r)}`)})(n,e)}function j1(n,e){let t={};return Ox(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(n,(r,i)=>{let o=$l(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function B1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof uo||n instanceof co||n instanceof St||n instanceof Ll||n instanceof lo)}function AC(n,e,t){if(!B1(t)||!vx(t)){let r=xg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function X0(n,e,t){if((e=_t(e))instanceof cc)return e._internalPath;if(typeof e=="string")return MC(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}var A8=new RegExp("[~\\*/\\[\\]]");function MC(n,e,t){if(e.search(A8)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(k.INVALID_ARGUMENT,a+n+u)}function $1(n,e){return n.some(t=>t.isEqual(e))}var Pg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},eC=class extends Pg{data(){return super.data()}};function RC(n,e){return typeof e=="string"?MC(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function M8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vl=class{},tC=class extends Vl{};function H1(n,e,...t){let r=[];e instanceof Vl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof nC).length,a=o.filter(u=>u instanceof Ng).length;if(s>1||s>0&&a>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Ng=class n extends tC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return q1(e._query,t),new ac(e.firestore,e.converter,Hw(e._query,t))}_parse(e){let t=SC(e.firestore);return(function(o,s,a,u,l,f,p){let g;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){px(p,f);let b=[];for(let O of p)b.push(hx(u,o,O));g={arrayValue:{values:b}}}else g=hx(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||px(p,f),g=S8(a,s,p,f==="in"||f==="not-in");return at.create(l,f,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function z1(n,e,t){let r=e,i=RC("where",n);return Ng._create(i,r,t)}var nC=class n extends Vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:sr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)q1(s,u),s=Hw(s,u)})(e._query,t),new ac(e.firestore,e.converter,Hw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function hx(n,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(e)&&t.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Be.fromString(t));if(!K.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kO(n,new K(r))}if(t instanceof St)return kO(n,t._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(t)}.`)}function px(n,e){if(!Array.isArray(n)||n.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q1(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var rC=class{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ya].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new lo(o)}convertGeoPoint(e){return new uo(je(e.latitude),je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Fg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){let t=hi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);Re(h1(r),9688,{name:e});let i=new og(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function R8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var hs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ps=class n extends Pg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:ct("string",ps._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};var Wa=class extends ps{data(e={}){return super.data(e)}},Ka=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wa(this._firestore,this._userDataWriter,r.key,r,new hs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:P8(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function P8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:n})}}function G1(n){n=fi(n,St);let e=fi(n.firestore,mo);return E8(DC(e),n._key).then(t=>N8(e,n,t))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:ct("string",Ka._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};var Og=class extends rC{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}};function W1(n){n=fi(n,ac);let e=fi(n.firestore,mo),t=DC(e),r=new Og(e);return M8(n._query),I8(t,n._query).then(i=>new Ka(e,r,n,i))}function K1(n,e,t,...r){n=fi(n,St);let i=fi(n.firestore,mo),o=SC(i),s;return s=typeof(e=_t(e))=="string"||e instanceof cc?D8(o,"updateDoc",n._key,e,t,r):T8(o,"updateDoc",n._key,e),PC(i,[s.toMutation(n._key,li.exists(!0))])}function Q1(n){return PC(fi(n.firestore,mo),[new Nl(n._key,li.none())])}function Y1(n,e){let t=fi(n.firestore,mo),r=TC(n),i=R8(n.converter,e);return PC(t,[b8(SC(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,li.exists(!1))]).then(()=>r)}function PC(n,e){return(function(r,i){let o=new ir;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return u8(yield _8(r),i,o)})),o.promise})(DC(n),e)}function N8(n,e,t){let r=t.docs.get(e._key),i=new Og(n);return new ps(n,i,e._key,r,new hs(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){uc=i})(Xi),nr(new Zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mo(new Cw(r.getProvider("auth-internal")),new Dw(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(CO,bO,e),We(CO,bO,"esm2017")})();var Cs=class{constructor(e){return e}},Z1="firestore",NC=class{constructor(){return La(Z1)}};var OC=new j("angularfire2.firestore-instances");function O8(n,e){let t=ll(Z1,n,e);return t&&new Cs(t)}function x8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cs(r)}}var k8={provide:NC,deps:[[new sn,OC]]},F8={provide:Cs,useFactory:O8,deps:[[new sn,OC],oi]};function J1(n,...e){return We("angularfire",eo.full,"fst"),Tt([F8,k8,{provide:OC,useFactory:x8(n),multi:!0,deps:[be,qe,to,ss,[new sn,El],[new sn,Va],...e]}])}var $g=Jt(Y1,!0,2);var Rr=Jt(L1,!0,2);var Hg=Jt(Q1,!0,2);var yi=Jt(TC,!0,2);var xC=Jt(G1,!0);var bs=Jt(W1,!0);var X1=Jt(V1,!0);var zg=Jt(H1,!0,2);var qg=Jt(K1,!0,2);var Gg=Jt(z1,!0,2);var uk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Y(Ui),Y(Kr))};static \u0275dir=Ve({type:n})}return n})(),rm=(()=>{class n extends uk{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Ve({type:n,features:[Wt]})}return n})(),yc=new j(""),L8={provide:yc,useExisting:nn(()=>VC),multi:!0},VC=(()=>{class n extends rm{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Ve({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Yn([L8]),Wt]})}return n})(),V8={provide:yc,useExisting:nn(()=>vc),multi:!0};function U8(){let n=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var j8=new j(""),vc=(()=>{class n extends uk{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!U8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Y(Ui),Y(Kr),Y(j8,8))};static \u0275dir=Ve({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Yn([V8]),Wt]})}return n})();function UC(n){return n==null||jC(n)===0}function jC(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Zl=new j(""),im=new j(""),B8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ql=class{static min(e){return $8(e)}static max(e){return H8(e)}static required(e){return lk(e)}static requiredTrue(e){return z8(e)}static email(e){return q8(e)}static minLength(e){return G8(e)}static maxLength(e){return W8(e)}static pattern(e){return K8(e)}static nullValidator(e){return Kg()}static compose(e){return mk(e)}static composeAsync(e){return yk(e)}};function $8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function H8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function lk(n){return UC(n.value)?{required:!0}:null}function z8(n){return n.value===!0?null:{required:!0}}function q8(n){return UC(n.value)||B8.test(n.value)?null:{email:!0}}function G8(n){return e=>{let t=e.value?.length??jC(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function W8(n){return e=>{let t=e.value?.length??jC(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function K8(n){if(!n)return Kg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(UC(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Kg(n){return null}function dk(n){return n!=null}function fk(n){return ji(n)?ze(n):n}function hk(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function pk(n,e){return e.map(t=>t(n))}function Q8(n){return!n.validate}function gk(n){return n.map(e=>Q8(e)?e:t=>e.validate(t))}function mk(n){if(!n)return null;let e=n.filter(dk);return e.length==0?null:function(t){return hk(pk(t,e))}}function BC(n){return n!=null?mk(gk(n)):null}function yk(n){if(!n)return null;let e=n.filter(dk);return e.length==0?null:function(t){let r=pk(t,e).map(fk);return cy(r).pipe(ge(hk))}}function $C(n){return n!=null?yk(gk(n)):null}function ek(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vk(n){return n._rawValidators}function _k(n){return n._rawAsyncValidators}function kC(n){return n?Array.isArray(n)?n:[n]:[]}function Qg(n,e){return Array.isArray(n)?n.includes(e):n===e}function tk(n,e){let t=kC(e);return kC(n).forEach(i=>{Qg(t,i)||t.push(i)}),t}function nk(n,e){return kC(e).filter(t=>!Qg(n,t))}var Yg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$C(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vi=class extends Yg{name;get formDirective(){return null}get path(){return null}},Ts=class extends Yg{_parent=null;name=null;valueAccessor=null},Zg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Y8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ahe=ue(V({},Y8),{"[class.ng-submitted]":"isSubmitted"}),_o=(()=>{class n extends Zg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(Ts,2))};static \u0275dir=Ve({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&kn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Wt]})}return n})(),om=(()=>{class n extends Zg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(vi,10))};static \u0275dir=Ve({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&kn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Wt]})}return n})();var Hl="VALID",Wg="INVALID",hc="PENDING",zl="DISABLED",vo=class{},Jg=class extends vo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gl=class extends vo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Wl=class extends vo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},pc=class extends vo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Xg=class extends vo{source;constructor(e){super(),this.source=e}},Yl=class extends vo{source;constructor(e){super(),this.source=e}};function HC(n){return(sm(n)?n.validators:n)||null}function Z8(n){return Array.isArray(n)?BC(n):n||null}function zC(n,e){return(sm(e)?e.asyncValidators:n)||null}function J8(n){return Array.isArray(n)?$C(n):n||null}function sm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Ek(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function Ik(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var gc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gt(this.statusReactive)}set status(e){gt(()=>this.statusReactive.set(e))}_status=zi(()=>this.statusReactive());statusReactive=vn(void 0);get valid(){return this.status===Hl}get invalid(){return this.status===Wg}get pending(){return this.status==hc}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}errors;get pristine(){return gt(this.pristineReactive)}set pristine(e){gt(()=>this.pristineReactive.set(e))}_pristine=zi(()=>this.pristineReactive());pristineReactive=vn(!0);get dirty(){return!this.pristine}get touched(){return gt(this.touchedReactive)}set touched(e){gt(()=>this.touchedReactive.set(e))}_touched=zi(()=>this.touchedReactive());touchedReactive=vn(!1);get untouched(){return!this.touched}_events=new Qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nk(e,this._rawAsyncValidators))}hasValidator(e){return Qg(this._rawValidators,e)}hasAsyncValidator(e){return Qg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAsPending(e={}){this.status=hc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zl,this.errors=null,this._forEachChild(i=>{i.disable(ue(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jg(this.value,r)),this._events.next(new pc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this._forEachChild(r=>{r.enable(ue(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hl||this.status===hc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jg(this.value,t)),this._events.next(new pc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:Hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=fk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new pc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?Wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hc)?hc:this._anyControlsHaveStatus(Wg)?Wg:Hl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Z8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=J8(this._rawAsyncValidators)}},mc=class extends gc{constructor(e,t,r){super(HC(t),zC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ik(this,!0,e),Object.keys(e).forEach(r=>{Ek(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Yl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var FC=class extends mc{};var Jl=new j("",{providedIn:"root",factory:()=>am}),am="always";function wk(n,e){return[...e.path,n]}function em(n,e,t=am){qC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),eG(n,e),nG(n,e),tG(n,e),X8(n,e)}function rk(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function X8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qC(n,e){let t=vk(n);e.validator!==null?n.setValidators(ek(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_k(n);e.asyncValidator!==null?n.setAsyncValidators(ek(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();tm(e._rawValidators,i),tm(e._rawAsyncValidators,i)}function nm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=vk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=_k(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return tm(e._rawValidators,r),tm(e._rawAsyncValidators,r),t}function eG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ck(n,e)})}function tG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ck(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ck(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bk(n,e){n==null,qC(n,e)}function rG(n,e){return nm(n,e)}function Tk(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function iG(n){return Object.getPrototypeOf(n.constructor)===rm}function Dk(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Sk(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===vc?t=o:iG(o)?r=o:i=o}),i||r||t||null}function oG(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var sG={provide:vi,useExisting:nn(()=>GC)},ql=Promise.resolve(),GC=(()=>{class n extends vi{callSetDisabledState;get submitted(){return gt(this.submittedReactive)}_submitted=zi(()=>this.submittedReactive());submittedReactive=vn(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new mc({},BC(t),$C(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ql.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),em(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ql.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ql.then(()=>{let r=this._findContainer(t.path),i=new mc({});bk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ql.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ql.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Dk(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Xg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Y(Zl,10),Y(im,10),Y(Jl,8))};static \u0275dir=Ve({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yn([sG]),Wt]})}return n})();function ik(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ok(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Kl=class extends gc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(HC(t),zC(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ok(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Yl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ik(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ik(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ok(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aG=n=>n instanceof Kl;var cG={provide:Ts,useExisting:nn(()=>Ds)},sk=Promise.resolve(),Ds=(()=>{class n extends Ts{_changeDetectorRef;callSetDisabledState;control=new Kl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Tk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){em(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){sk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ah(r);sk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?wk(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Y(vi,9),Y(Zl,10),Y(im,10),Y(yc,10),Y(Ia,8),Y(Jl,8))};static \u0275dir=Ve({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Yn([cG]),Wt,Wr]})}return n})();var cm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Ak=new j("");var uG={provide:vi,useExisting:nn(()=>WC)},WC=(()=>{class n extends vi{callSetDisabledState;get submitted(){return gt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=zi(()=>this._submittedReactive());_submittedReactive=vn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ge;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return em(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){rk(t.control||null,t,!1),oG(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Dk(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Xg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(rk(r||null,t),aG(i)&&(em(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);bk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&rG(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qC(this.form,this),this._oldForm&&nm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Y(Zl,10),Y(im,10),Y(Jl,8))};static \u0275dir=Ve({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yn([uG]),Wt,Wr]})}return n})();var lG={provide:Ts,useExisting:nn(()=>KC)},KC=(()=>{class n extends Ts{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ge;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Tk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Y(vi,13),Y(Zl,10),Y(im,10),Y(yc,10),Y(Ak,8))};static \u0275dir=Ve({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Yn([lG]),Wt,Wr]})}return n})();var dG={provide:yc,useExisting:nn(()=>_c),multi:!0};function Mk(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function fG(n){return n.split(":")[0]}var _c=(()=>{class n extends rm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=M(Ft).injector;destroyRef=M(xn);cdr=M(Ia);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,_u({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=Mk(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=fG(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Ve({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yn([dG]),Wt]})}return n})(),um=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Mk(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(Y(Kr),Y(Ui),Y(_c,9))};static \u0275dir=Ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),hG={provide:yc,useExisting:nn(()=>Rk),multi:!0};function ak(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function pG(n){return n.split(":")[0]}var Rk=(()=>{class n extends rm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=pG(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Ve({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yn([hG]),Wt]})}return n})(),lm=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ak(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ak(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Y(Kr),Y(Ui),Y(Rk,9))};static \u0275dir=Ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var gG=(()=>{class n{_validator=Kg;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Kg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ve({type:n,features:[Wr]})}return n})();var mG={provide:Zl,useExisting:nn(()=>QC),multi:!0};var QC=(()=>{class n extends gG{required;inputName="required";normalizeInput=Ah;createValidator=t=>lk;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=Ve({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vh("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Yn([mG]),Wt]})}return n})();var Pk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=cr({})}return n})(),LC=class extends gc{constructor(e,t,r){super(HC(t),zC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ik(this,!1,e),e.forEach((r,i)=>{Ek(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Yl(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ck(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Nk=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return ck(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new mc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new FC(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ck(r)?o=r:(o.validators=r,o.asyncValidators=i),new Kl(t,ue(V({},o),{nonNullable:!0}))):new Kl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new LC(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Kl)return t;if(t instanceof gc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jl,useValue:t.callSetDisabledState??am}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=cr({imports:[Pk]})}return n})(),Ok=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ak,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Jl,useValue:t.callSetDisabledState??am}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=cr({imports:[Pk]})}return n})();var un=class n{firestore=M(Cs);platformId=M(En);cache=new Map;CACHE_TTL_MS=9e4;get isBrowser(){return Ki(this.platformId)}getFromCache(e,t){return v(this,null,function*(){let r=Date.now(),i=this.cache.get(e);if(i){if(i.data!==void 0&&r-i.timestamp<this.CACHE_TTL_MS)return i.data;if(i.promise)return i.promise}let o=t().then(s=>(this.cache.set(e,{timestamp:Date.now(),data:s}),s)).finally(()=>{let s=this.cache.get(e);s&&(s.promise=void 0)});return this.cache.set(e,{timestamp:r,promise:o}),o})}getFromCacheOnly(e){let t=this.cache.get(e);return!t||t.data===void 0?void 0:Date.now()-t.timestamp<this.CACHE_TTL_MS?t.data:void 0}getCachedAllEvents(){let e=this.getFromCacheOnly("events:all");return Promise.resolve(e??[])}getCachedAllInscriptions(){let e=this.getFromCacheOnly("inscriptions:all");return Promise.resolve(e??[])}getCachedUserInscriptions(e){let t=this.getFromCacheOnly(`inscriptions:user:${e}`);return Promise.resolve(t??[])}getCachedAllUsers(){let e=this.getFromCacheOnly("users:all");return Promise.resolve(e??[])}invalidatePrefix(e){for(let t of Array.from(this.cache.keys()))t.startsWith(e)&&this.cache.delete(t)}getAllUsers(){return v(this,null,function*(){return this.isBrowser?this.getFromCache("users:all",()=>v(this,null,function*(){return console.log("Fetching all users from Firestore..."),(yield bs(Rr(this.firestore,"users"))).docs.map(t=>V({id:t.id},t.data()))})):[]})}getUserById(e){return v(this,null,function*(){return this.isBrowser?this.getFromCache(`users:id:${e}`,()=>v(this,null,function*(){console.log(`Fetching user with ID: ${e}`);let t=yield xC(yi(this.firestore,"users",e));return t.exists()?V({id:t.id},t.data()):null})):null})}getUserByDni(e){return v(this,null,function*(){return this.isBrowser?this.getFromCache(`users:dni:${e}`,()=>v(this,null,function*(){console.log(`Querying user by dni: ${e}`);let t=zg(Rr(this.firestore,"users"),Gg("dni","==",Number(e)));return(yield bs(t)).docs.map(i=>V({id:i.id},i.data()))})):[]})}getAllEvents(){return v(this,null,function*(){return this.isBrowser?this.getFromCache("events:all",()=>v(this,null,function*(){return console.log("Fetching all events from Firestore..."),(yield bs(Rr(this.firestore,"events"))).docs.map(t=>V({id:t.id},t.data()))})):[]})}getEventById(e){return v(this,null,function*(){return this.isBrowser?this.getFromCache(`events:id:${e}`,()=>v(this,null,function*(){console.log(`Fetching event with ID: ${e}`);let t=yield xC(yi(this.firestore,"events",e));return t.exists()?V({id:t.id},t.data()):null})):null})}getAllInscriptions(){return v(this,null,function*(){return this.isBrowser?this.getFromCache("inscriptions:all",()=>v(this,null,function*(){return console.log("Fetching all inscriptions from Firestore..."),(yield bs(Rr(this.firestore,"inscriptions"))).docs.map(t=>V({id:t.id},t.data()))})):[]})}getUserInscriptions(e){return v(this,null,function*(){return this.isBrowser?this.getFromCache(`inscriptions:user:${e}`,()=>v(this,null,function*(){console.log(`Fetching inscriptions for user: ${e}`);let t=zg(Rr(this.firestore,"inscriptions"),Gg("userId","==",e));return(yield bs(t)).docs.map(i=>V({id:i.id},i.data()))})):[]})}getEventInscriptions(e){return v(this,null,function*(){return this.isBrowser?this.getFromCache(`inscriptions:event:${e}`,()=>v(this,null,function*(){console.log(`Fetching inscriptions for event: ${e}`);let t=zg(Rr(this.firestore,"inscriptions"),Gg("eventId","==",e));return(yield bs(t)).docs.map(i=>V({id:i.id},i.data()))})):[]})}createUser(e){return this.isBrowser?(console.log("Creating new user:",e),$g(Rr(this.firestore,"users"),e).then(t=>(this.invalidatePrefix("users:"),t.id))):Promise.reject("Firestore disabled during SSR/prerender")}createEvent(e){return this.isBrowser?(console.log("Creating new event:",e),$g(Rr(this.firestore,"events"),e).then(t=>(this.invalidatePrefix("events:"),t.id))):Promise.reject("Firestore disabled during SSR/prerender")}createInscription(e){return this.isBrowser?(console.log("Creating new inscription:",e),$g(Rr(this.firestore,"inscriptions"),e).then(t=>(this.invalidatePrefix("inscriptions:"),t.id))):Promise.reject("Firestore disabled during SSR/prerender")}updateUser(e,t){return this.isBrowser?(console.log(`Updating user ${e}:`,t),qg(yi(this.firestore,"users",e),t).then(()=>{this.invalidatePrefix("users:")})):Promise.reject("Firestore disabled during SSR/prerender")}updateEvent(e,t){return this.isBrowser?(console.log(`Updating event ${e}:`,t),qg(yi(this.firestore,"events",e),t).then(()=>{this.invalidatePrefix("events:")})):Promise.reject("Firestore disabled during SSR/prerender")}deleteUser(e){return this.isBrowser?(console.log(`Deleting user: ${e}`),Hg(yi(this.firestore,"users",e)).then(()=>{this.invalidatePrefix("users:")})):Promise.reject("Firestore disabled during SSR/prerender")}deleteEvent(e){return this.isBrowser?(console.log(`Deleting event: ${e}`),Hg(yi(this.firestore,"events",e)).then(()=>{this.invalidatePrefix("events:")})):Promise.reject("Firestore disabled during SSR/prerender")}deleteInscription(e){return this.isBrowser?(console.log(`Deleting inscription: ${e}`),Hg(yi(this.firestore,"inscriptions",e)).then(()=>{this.invalidatePrefix("inscriptions:")})):Promise.reject("Firestore disabled during SSR/prerender")}updateInscription(e,t){return this.isBrowser?(console.log(`Updating inscription ${e}:`,t),qg(yi(this.firestore,"inscriptions",e),t).then(()=>{this.invalidatePrefix("inscriptions:")})):Promise.reject("Firestore disabled during SSR/prerender")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bn=class n{platformId=M(En);firestoreService=M(un);currentUserSubject=new lt(this.loadUserFromStorage());currentUser$=this.currentUserSubject.asObservable();constructor(){this.currentUser$.subscribe(e=>{console.log("[AuthService] current user:",e)})}login(e,t){return v(this,null,function*(){try{let i=yield this.firestoreService.getUserByDni(Number(e));if(!i||i.length===0)return!1;let o=i[0];if(o.password!==t)return!1;let r=o,{password:s}=r,a=wd(r,["password"]);return this.setUser(a),!0}catch(i){return console.error("[AuthService] login error:",i),!1}})}logout(){this.currentUserSubject.next(null),Ki(this.platformId)&&localStorage.removeItem("currentUser")}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return!!this.currentUserSubject.value}isAdmin(){return!!this.currentUserSubject.value?.isAdmin}setUser(e){this.currentUserSubject.next(e),Ki(this.platformId)&&localStorage.setItem("currentUser",JSON.stringify(e))}loadUserFromStorage(){if(!Ki(this.platformId))return null;let e=localStorage.getItem("currentUser");if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error("[AuthService] Failed to parse stored user:",t),null}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function vG(n,e){n&1&&(R(0,"span",9),x(1," DNI es requerido "),A())}function _G(n,e){n&1&&(R(0,"span",9),x(1," Contrase\xF1a es requerida "),A())}function EG(n,e){if(n&1&&(R(0,"div",10),x(1),A()),n&2){let t=Z();F(),Ue(" ",t.errorMessage," ")}}var fm=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.loginForm=this.fb.group({dni:["",[Ql.required]],password:["",[Ql.required]]}),console.log("7VII | 1.0")}loginForm;errorMessage="";isLoading=!1;get dni(){return this.loginForm.get("dni")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid)return;this.isLoading=!0,this.errorMessage="";let{dni:e,password:t}=this.loginForm.value;v(this,null,function*(){(yield this.authService.login(Number(e),t))?this.router.navigate(["/home"]):(this.errorMessage="DNI o contrase\xF1a incorrectos",this.isLoading=!1)})}static \u0275fac=function(t){return new(t||n)(Y(Nk),Y(Bn),Y(Er))};static \u0275cmp=ht({type:n,selectors:[["app-login"]],decls:16,vars:10,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","id","dni","formControlName","dni","placeholder","Ingrese su DNI"],["class","error-message",4,"ngIf"],["type","password","id","password","formControlName","password","placeholder","Ingrese su contrase\xF1a"],["class","error-banner",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"error-message"],[1,"error-banner"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"div",1)(2,"h1"),x(3,"Paseo del Artesano"),A(),R(4,"h2"),x(5,"Iniciar Sesi\xF3n"),A(),R(6,"form",2),Me("ngSubmit",function(){return r.onSubmit()}),R(7,"div",3),Dt(8,"input",4),he(9,vG,2,0,"span",5),A(),R(10,"div",3),Dt(11,"input",6),he(12,_G,2,0,"span",5),A(),he(13,EG,2,1,"div",7),R(14,"button",8),x(15),A()()()()),t&2&&(F(6),q("formGroup",r.loginForm),F(2),kn("error",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)),F(),q("ngIf",(r.dni==null?null:r.dni.invalid)&&(r.dni==null?null:r.dni.touched)),F(2),kn("error",(r.password==null?null:r.password.invalid)&&(r.password==null?null:r.password.touched)),F(),q("ngIf",(r.password==null?null:r.password.invalid)&&(r.password==null?null:r.password.touched)),F(),q("ngIf",r.errorMessage),F(),q("disabled",r.loginForm.invalid||r.isLoading),F(),Ue(" ",r.isLoading?"Cargando...":"Iniciar Sesi\xF3n"," "))},dependencies:[Vt,Qt,Ok,cm,vc,_o,om,WC,KC],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;margin-top:20vh;border-radius:8px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 25px #0003}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;text-align:center;font-size:24px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;color:#666;text-align:center;font-size:18px;font-weight:500}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ef4444}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:-4px}.error-banner[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626;padding:12px;border-radius:4px;font-size:14px;border-left:4px solid #dc2626}.login-button[_ngcontent-%COMP%]{padding:12px;background:linear-gradient(135deg,#234b2a,#2f9c19c9);color:#fff;border:none;border-radius:4px;font-size:16px;font-weight:600;cursor:pointer;transition:opacity .3s}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.login-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.demo-info[_ngcontent-%COMP%]{margin-top:30px;padding-top:20px;border-top:1px solid #eee;font-size:12px;color:#666}.demo-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.demo-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;color:#333}"]})};function IG(n,e){n&1&&(R(0,"button",14),x(1,"Guardar"),A())}function wG(n,e){if(n&1){let t=Kt();R(0,"button",15),Me("click",function(){tt(t);let i=Z(2);return nt(i.cancelForm())}),x(1,"Cancelar"),A()}}function CG(n,e){if(n&1){let t=Kt();R(0,"div",6)(1,"h3"),x(2),A(),R(3,"form",7),Me("ngSubmit",function(){tt(t);let i=Z();return nt(i.saveDate())}),R(4,"div",8)(5,"label"),x(6,"Fecha:"),A(),R(7,"input",9),mr("ngModelChange",function(i){tt(t);let o=Z();return Zr(o.currentDate.date,i)||(o.currentDate.date=i),nt(i)}),A()(),R(8,"div",8)(9,"label"),x(10,"Hora:"),A(),R(11,"input",10),mr("ngModelChange",function(i){tt(t);let o=Z();return Zr(o.currentDate.time,i)||(o.currentDate.time=i),nt(i)}),A()(),R(12,"div",11),he(13,IG,2,0,"button",12)(14,wG,2,0,"button",13),A()()()}if(n&2){let t=Z();F(2),Ee(t.isEditing?"Editar Fecha":"Crear Nueva Fecha"),F(5),gr("ngModel",t.currentDate.date),F(4),gr("ngModel",t.currentDate.time),F(2),q("ngIf",!t.isSaving),F(),q("ngIf",!t.isSaving)}}function bG(n,e){if(n&1){let t=Kt();R(0,"tr")(1,"td"),x(2),Zn(3,"date"),A(),R(4,"td"),x(5),A(),R(6,"td")(7,"label",18)(8,"input",19),mr("ngModelChange",function(i){let o=tt(t).$implicit;return Zr(o.enabled,i)||(o.enabled=i),nt(i)}),Me("change",function(){let i=tt(t).$implicit,o=Z(2);return nt(o.updateDateStatus(i))}),A(),Dt(9,"span",20),A(),x(10),A(),R(11,"td",21)(12,"button",22),Me("click",function(){let i=tt(t).$implicit,o=Z(2);return nt(o.deleteDate(i.id))}),x(13,"Eliminar"),A()()()}if(n&2){let t=e.$implicit;kn("disabled",!t.enabled),F(2),Ee(Jr(3,8,t.date,"dd/MM/yyyy")),F(3),Ee(t.time),F(3),q("name",H_("enabled_",t.id)),gr("ngModel",t.enabled),F(2),Ue(" ",t.enabled?"Activo":"Inactivo"," ")}}function TG(n,e){if(n&1&&(R(0,"table",16)(1,"thead")(2,"tr")(3,"th"),x(4,"Fecha"),A(),R(5,"th"),x(6,"Hora"),A(),R(7,"th"),x(8,"Estado"),A(),R(9,"th"),x(10,"Acciones"),A()()(),R(11,"tbody"),he(12,bG,14,11,"tr",17),A()()),n&2){let t=Z();F(12),q("ngForOf",t.datesList)}}function DG(n,e){n&1&&(R(0,"div",23)(1,"p"),x(2,"No hay fechas creadas. Crea una nueva fecha para comenzar."),A()())}var Xl=class n{datesList=[];showForm=!1;isEditing=!1;isSaving=!1;currentDate=this.createEmptyDate();checkInterval;firestore=M(un);ngOnInit(){this.loadDates(),this.checkEventStatus(),this.checkInterval=setInterval(()=>this.checkEventStatus(),6e4)}constructor(){}ngOnDestroy(){this.checkInterval&&clearInterval(this.checkInterval)}createEmptyDate(){return{id:"",eventName:"",date:"",time:"",enabled:!0}}loadDates(){return v(this,null,function*(){try{let e=yield this.firestore.getAllEvents();this.datesList=e.map(t=>({id:t.id,eventName:t.eventName??t.name??"Evento",date:t.date??(t.eventDate?new Date(t.eventDate.seconds?t.eventDate.seconds*1e3:t.eventDate).toISOString().split("T")[0]:""),time:t.time??"",enabled:t.enabled??!0})),this.datesList.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.checkEventStatus()}catch(e){console.error("Error loading events from Firestore:",e)}})}loadDatesFromCache(){return v(this,null,function*(){try{let e=yield this.firestore.getCachedAllEvents();this.datesList=e.map(t=>({id:t.id,eventName:t.eventName??t.name??"Evento",date:t.date??(t.eventDate?new Date(t.eventDate.seconds?t.eventDate.seconds*1e3:t.eventDate).toISOString().split("T")[0]:""),time:t.time??"",enabled:t.enabled??!0})),this.datesList.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.checkEventStatus()}catch(e){console.error("Error loading cached events:",e)}})}refreshDates(){return this.loadDates()}checkEventStatus(){let e=new Date;this.datesList.forEach(t=>{let r=new Date(`${t.date}T${t.time}`),i=new Date(r.getTime()-7200*1e3);e>=i&&e<r&&(t.enabled=!1)})}openCreateForm(){this.currentDate=this.createEmptyDate(),this.isEditing=!1,this.showForm=!0}editDate(e){this.currentDate=V({},e),this.isEditing=!0,this.showForm=!0}saveDate(){if(this.isSaving)return;this.isSaving=!0;let e={eventName:this.currentDate.eventName,date:this.currentDate.date,time:this.currentDate.time,enabled:this.currentDate.enabled};(this.isEditing?this.firestore.updateEvent(this.currentDate.id,e):this.firestore.createEvent(e)).then(()=>{this.showForm=!1,this.currentDate=this.createEmptyDate(),this.loadDates()}).catch(r=>console.error("Error saving event:",r)).finally(()=>{this.isSaving=!1})}cancelForm(){this.showForm=!1,this.currentDate=this.createEmptyDate()}deleteDate(e){confirm("\xBFEst\xE1 seguro de que desea eliminar esta fecha?")&&this.firestore.deleteEvent(e).then(()=>{this.datesList=this.datesList.filter(t=>t.id!==e)}).catch(t=>console.error("Error deleting event:",t))}updateDateStatus(e){this.firestore.updateEvent(e.id,{enabled:e.enabled}).catch(t=>console.error("Error updating event status:",t))}addUser(){this.firestore.createUser({dni:0,nameLastName:"",nameShop:"",isAdmin:!1,password:""}).then(e=>{console.log("",e)}).catch(e=>{console.error("",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-admin-dates"]],decls:11,vars:3,consts:[[1,"admin-dates-container"],[1,"controls"],[1,"btn-create-date",3,"click"],["class","date-form",4,"ngIf"],["class","dates-table",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"date-form"],[3,"ngSubmit"],[1,"form-group"],["name","date","type","date","required","",3,"ngModelChange","ngModel"],["name","time","type","time","required","",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit","class","btn-save",4,"ngIf"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],["type","submit",1,"btn-save"],["type","button",1,"btn-cancel",3,"click"],[1,"dates-table"],[3,"disabled",4,"ngFor","ngForOf"],[1,"toggle-switch"],["type","checkbox",3,"ngModelChange","change","ngModel","name"],[1,"slider"],[1,"actions"],[1,"btn-delete",3,"click"],[1,"empty-state"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h2"),x(2,"Gesti\xF3n de Fechas"),A(),R(3,"p"),x(4,"Panel de administraci\xF3n para gestionar las fechas de los eventos."),A(),R(5,"div",1)(6,"button",2),Me("click",function(){return r.openCreateForm()}),x(7,"+ Crear Nueva Fecha"),A()(),he(8,CG,15,5,"div",3)(9,TG,13,1,"table",4)(10,DG,3,0,"div",5),A()),t&2&&(F(8),q("ngIf",r.showForm),F(),q("ngIf",!r.showForm),F(),q("ngIf",r.datesList.length===0&&!r.showForm))},dependencies:[Vt,cn,Qt,Pr,cm,vc,VC,_o,om,QC,Ds,GC,Xn],styles:['.admin-dates-container[_ngcontent-%COMP%]{padding:20px;margin:0 auto}.admin-dates-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:28px;margin-bottom:10px}.admin-dates-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.admin-dates-container[_ngcontent-%COMP%]   .btn-create-date[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:10px 20px;font-size:14px;border-radius:4px;cursor:pointer;margin-bottom:20px;transition:background-color .3s ease}.admin-dates-container[_ngcontent-%COMP%]   .btn-create-date[_ngcontent-%COMP%]:hover{background-color:#45a049}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ddd;padding:20px;border-radius:8px;margin-bottom:20px}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:20px;margin-bottom:15px}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;flex-direction:column}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px;color:#333;font-size:14px}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 5px #4caf504d}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button.btn-save[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button.btn-save[_ngcontent-%COMP%]:hover{background-color:#45a049}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.admin-dates-container[_ngcontent-%COMP%]   .date-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#da190b}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;box-shadow:0 2px 4px #0000001a;border-radius:8px;overflow:hidden}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:2px solid #ddd}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;color:#333;font-size:14px}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:14px;color:#666}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.disabled[_ngcontent-%COMP%]{opacity:.6;background-color:#f5f5f5}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.disabled[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#999}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;margin-right:8px}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:40px;height:20px;background-color:#ccc;border-radius:20px;position:relative;transition:background-color .3s ease}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;background-color:#fff;border-radius:50%;top:2px;left:2px;transition:left .3s ease}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#4caf50}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:after{left:22px}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-edit[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-edit[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-delete[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.admin-dates-container[_ngcontent-%COMP%]   .dates-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-delete[_ngcontent-%COMP%]:hover{background-color:#da190b}.admin-dates-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#999;font-size:16px;background-color:#f9f9f9;border-radius:8px;border:1px solid #eee}']})};var xk=n=>({"high-attendance":n});function SG(n,e){if(n&1&&(R(0,"tr",15)(1,"td"),x(2),Zn(3,"date"),A(),R(4,"td",16),x(5),A(),R(6,"td",17),x(7),A(),R(8,"td",18),x(9),A(),R(10,"td",16),x(11),A()()),n&2){let t=e.$implicit,r=Z(3);q("ngClass",Ea(9,xk,t.attended/t.totalAttendees>.7)),F(2),Ee(Jr(3,6,t.date,"dd/MM/yyyy")),F(3),Ee(t.totalAttendees),F(2),Ee(t.attended),F(2),Ee(t.absent),F(2),Ue("",r.getDayAttendancePercent(t),"%")}}function AG(n,e){if(n&1&&(R(0,"div",12)(1,"table",13)(2,"thead")(3,"tr")(4,"th"),x(5,"Fecha"),A(),R(6,"th"),x(7,"Total Registros"),A(),R(8,"th"),x(9,"Asistieron"),A(),R(10,"th"),x(11,"Ausentes"),A(),R(12,"th"),x(13,"Tasa Asistencia"),A()()(),R(14,"tbody"),he(15,SG,12,11,"tr",14),A()()()),n&2){let t=Z(2);F(15),q("ngForOf",t.attendancePerDay)}}function MG(n,e){if(n&1&&(R(0,"div",10)(1,"h3"),x(2,"Asistencia por D\xEDa"),A(),he(3,AG,16,1,"div",11),A()),n&2){let t=Z();F(3),q("ngIf",t.attendancePerDay.length>0)}}function RG(n,e){if(n&1&&(R(0,"tr",15)(1,"td"),x(2),A(),R(3,"td",17),x(4),A(),R(5,"td",18),x(6),A(),R(7,"td",16),x(8),A(),R(9,"td",16)(10,"span",19),x(11),A()()()),n&2){let t=e.$implicit,r=Z(3);q("ngClass",Ea(6,xk,r.getAttendanceRate(t)>70)),F(2),Ee(t.emprendimiento),F(2),Ee(t.attended),F(2),Ee(t.absent),F(2),Ee(t.registered),F(3),Ue("",r.getAttendanceRate(t),"%")}}function PG(n,e){if(n&1&&(R(0,"div",12)(1,"table",13)(2,"thead")(3,"tr")(4,"th"),x(5,"Emprendimiento"),A(),R(6,"th"),x(7,"Asistieron"),A(),R(8,"th"),x(9,"Ausentes"),A(),R(10,"th"),x(11,"Registrados"),A(),R(12,"th"),x(13,"Tasa Asistencia"),A()()(),R(14,"tbody"),he(15,RG,12,8,"tr",14),A()()()),n&2){let t=Z(2);F(15),q("ngForOf",t.emprendimientoStats)}}function NG(n,e){if(n&1&&(R(0,"div",10)(1,"h3"),x(2,"Estad\xEDsticas por Emprendimiento"),A(),he(3,PG,16,1,"div",11),A()),n&2){let t=Z();F(3),q("ngIf",t.emprendimientoStats.length>0)}}function OG(n,e){if(n&1&&(R(0,"div",23)(1,"div",24),x(2),A(),R(3,"div",25)(4,"h4"),x(5),A(),R(6,"div",26)(7,"span",27),x(8),A(),R(9,"span",28),x(10),A()()(),R(11,"div",29),x(12),A()()),n&2){let t=e.$implicit,r=e.index,i=Z(3);F(2),Ee(r+1),F(3),Ee(t.emprendimiento),F(3),Ue("",t.attended," asistieron"),F(2),Ue("",t.registered," registrados"),F(2),Ue("",i.getAttendanceRate(t),"%")}}function xG(n,e){if(n&1&&(R(0,"div",21),he(1,OG,13,5,"div",22),A()),n&2){let t=Z(2);F(),q("ngForOf",t.topAssistance)}}function kG(n,e){if(n&1&&(R(0,"div",10)(1,"h3"),x(2,"Top Emprendimientos - Mayor Asistencia"),A(),he(3,xG,2,1,"div",20),A()),n&2){let t=Z();F(3),q("ngIf",t.topAssistance.length>0)}}function FG(n,e){if(n&1&&(R(0,"div",23)(1,"div",24),x(2),A(),R(3,"div",25)(4,"h4"),x(5),A(),R(6,"div",26)(7,"span",30),x(8),A(),R(9,"span",28),x(10),A()()(),R(11,"div",29),x(12),A()()),n&2){let t=e.$implicit,r=e.index;F(2),Ee(r+1),F(3),Ee(t.emprendimiento),F(3),Ue("",t.absent," ausentes"),F(2),Ue("",t.registered," registrados"),F(2),Ue("",(t.absent/t.registered*100).toFixed(0),"%")}}function LG(n,e){if(n&1&&(R(0,"div",21),he(1,FG,13,5,"div",22),A()),n&2){let t=Z(2);F(),q("ngForOf",t.topAbsence)}}function VG(n,e){if(n&1&&(R(0,"div",10)(1,"h3"),x(2,"Top Emprendimientos - Mayor Ausencia"),A(),he(3,LG,2,1,"div",20),A()),n&2){let t=Z();F(3),q("ngIf",t.topAbsence.length>0)}}var ed=class n{firestore=M(un);events=[];attendees=[];allEmprendimientos=[];selectedReport="attendees-per-day";attendancePerDay=[];emprendimientoStats=[];topAssistance=[];topAbsence=[];ngOnInit(){this.loadEvents(),this.loadAttendees(),this.loadUsers()}loadEvents(){return v(this,null,function*(){try{let e=yield this.firestore.getAllEvents();this.events=(e??[]).map(t=>({id:String(t.id??""),eventName:t.eventName??t.name??"",date:t.date??"",time:t.time??"",enabled:t.enabled??!0})),this.generateReports()}catch(e){console.error("Error loading events from Firestore:",e)}})}loadEventsFromCache(){return v(this,null,function*(){try{let e=yield this.firestore.getCachedAllEvents();this.events=(e??[]).map(t=>({id:String(t.id??""),eventName:t.eventName??t.name??"",date:t.date??"",time:t.time??"",enabled:t.enabled??!0})),this.generateReports()}catch(e){console.error("Error loading cached events:",e)}})}loadAttendees(){return v(this,null,function*(){try{let e=yield this.firestore.getAllInscriptions();this.attendees=(e??[]).map(t=>({id:String(t.id??""),name:t.name??t.nameLastName??t.userName??"Participante",emprendimiento:(t.nameShop??t.emprendimiento??"").trim(),eventId:t.eventId?.toString()??(t.idEvent?String(t.idEvent):""),status:t.status==="Asistio"||t.assisted?"Asistio":t.status==="No asistio"?"No asistio":"Anotado"})),this.generateReports()}catch(e){console.error("Error loading inscriptions from Firestore:",e)}})}loadAttendeesFromCache(){return v(this,null,function*(){try{let e=yield this.firestore.getCachedAllInscriptions();this.attendees=(e??[]).map(t=>({id:String(t.id??""),name:t.name??t.nameLastName??t.userName??"Participante",emprendimiento:(t.nameShop??t.emprendimiento??"").trim(),eventId:t.eventId?.toString()??(t.idEvent?String(t.idEvent):""),status:t.status==="Asistio"||t.assisted?"Asistio":t.status==="No asistio"?"No asistio":"Anotado"})),this.generateReports()}catch(e){console.error("Error loading cached inscriptions:",e)}})}loadUsers(){return v(this,null,function*(){try{let t=((yield this.firestore.getAllUsers())??[]).map(r=>String(r.nameShop??"").trim()).filter(Boolean);this.allEmprendimientos=Array.from(new Set(t)),this.generateReports()}catch(e){console.error("Error loading users from Firestore:",e)}})}loadUsersFromCache(){return v(this,null,function*(){try{let t=((yield this.firestore.getCachedAllUsers())??[]).map(r=>String(r.nameShop??"").trim()).filter(Boolean);this.allEmprendimientos=Array.from(new Set(t)),this.generateReports()}catch(e){console.error("Error loading cached users:",e)}})}refreshReports(){return Promise.all([this.loadEvents(),this.loadAttendees(),this.loadUsers()])}generateReports(){this.generateAttendancePerDay(),this.generateEmprendimientoStats(),this.generateTopPerformers()}generateAttendancePerDay(){let e=new Map;this.events.forEach(t=>{let r=this.attendees.filter(s=>s.eventId===t.id),i=r.filter(s=>s.status==="Asistio").length,o=r.filter(s=>s.status==="No asistio").length;e.set(t.date,{date:t.date,totalAttendees:r.length||0,attended:i,absent:o})}),this.attendancePerDay=Array.from(e.values()).sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime())}generateEmprendimientoStats(){let e=new Map;this.attendees.forEach(t=>{let r=(t.emprendimiento??"").trim();if(!r)return;e.has(r)||e.set(r,{emprendimiento:r,attended:0,absent:0,registered:0});let i=e.get(r);i.registered++,t.status==="Asistio"?i.attended++:t.status==="No asistio"&&i.absent++}),this.allEmprendimientos.forEach(t=>{let r=(t??"").trim();r&&(e.has(r)||e.set(r,{emprendimiento:r,attended:0,absent:0,registered:0}))}),this.emprendimientoStats=Array.from(e.values()).sort((t,r)=>r.registered-t.registered)}generateTopPerformers(){let e=(t,r)=>!r||r===0?0:t/r*100;this.topAssistance=[...this.emprendimientoStats].filter(t=>t.registered>0).sort((t,r)=>e(r.attended,r.registered)-e(t.attended,t.registered)),this.topAbsence=[...this.emprendimientoStats].filter(t=>t.registered>0).sort((t,r)=>e(r.absent,r.registered)-e(t.absent,t.registered))}onReportChange(){}getAttendanceRate(e){return e.registered===0?0:Math.round(e.attended/e.registered*100)}getDayAttendancePercent(e){let t=Number(e?.totalAttendees??0),r=Number(e?.attended??0);return!t||t<=0?0:Math.round(r/t*100)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-admin-reports"]],decls:22,vars:5,consts:[[1,"admin-reports-container"],[1,"reports-controls"],[1,"selector-section"],["for","reportSelect"],["id","reportSelect",1,"report-selector",3,"ngModelChange","change","ngModel"],["value","attendees-per-day"],["value","emprendimiento-stats"],["value","top-assistance"],["value","top-absence"],["class","report-section",4,"ngIf"],[1,"report-section"],["class","table-container",4,"ngIf"],[1,"table-container"],[1,"report-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"center"],[1,"center","success"],[1,"center","danger"],[1,"attendance-badge"],["class","rankings-container",4,"ngIf"],[1,"rankings-container"],["class","ranking-card",4,"ngFor","ngForOf"],[1,"ranking-card"],[1,"rank-position"],[1,"rank-info"],[1,"rank-stats"],[1,"stat","success"],[1,"stat"],[1,"rank-percentage"],[1,"stat","danger"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h2"),x(2,"Reportes"),A(),R(3,"p"),x(4,"Panel de reportes y estad\xEDsticas de eventos."),A(),R(5,"div",1)(6,"div",2)(7,"label",3),x(8,"Selecciona un reporte:"),A(),R(9,"select",4),mr("ngModelChange",function(o){return Zr(r.selectedReport,o)||(r.selectedReport=o),o}),Me("change",function(){return r.onReportChange()}),R(10,"option",5),x(11,"Asistencia por D\xEDa"),A(),R(12,"option",6),x(13,"Estad\xEDsticas por Emprendimiento"),A(),R(14,"option",7),x(15,"Top Emprendimientos - Asistencia"),A(),R(16,"option",8),x(17,"Top Emprendimientos - Ausencias"),A()()()(),he(18,MG,4,1,"div",9)(19,NG,4,1,"div",9)(20,kG,4,1,"div",9)(21,VG,4,1,"div",9),A()),t&2&&(F(9),gr("ngModel",r.selectedReport),F(9),q("ngIf",r.selectedReport==="attendees-per-day"),F(),q("ngIf",r.selectedReport==="emprendimiento-stats"),F(),q("ngIf",r.selectedReport==="top-assistance"),F(),q("ngIf",r.selectedReport==="top-absence"))},dependencies:[Vt,Qo,cn,Qt,Pr,um,lm,_c,_o,Ds,Xn],styles:[".admin-reports-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.admin-reports-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:28px;margin-bottom:10px}.admin-reports-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:25px}.admin-reports-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#444;font-size:20px;margin-bottom:20px;border-bottom:2px solid #f0ad4e;padding-bottom:10px}.admin-reports-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;font-size:16px;margin:0 0 8px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap;align-items:center;background-color:#f5f5f5;padding:15px;border-radius:8px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]{flex:1;min-width:250px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]   .report-selector[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;cursor:pointer;background-color:#fff;transition:border-color .3s}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]   .report-selector[_ngcontent-%COMP%]:hover{border-color:#f0ad4e}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]   .report-selector[_ngcontent-%COMP%]:focus{outline:none;border-color:#f0ad4e;box-shadow:0 0 0 3px #f0ad4e1a}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{display:flex;gap:10px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s;color:#fff}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export.btn-csv[_ngcontent-%COMP%]{background-color:#5cb85c}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export.btn-csv[_ngcontent-%COMP%]:hover{background-color:#4cae4c;box-shadow:0 2px 6px #4caf504d}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export.btn-pdf[_ngcontent-%COMP%]{background-color:#d9534f}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export.btn-pdf[_ngcontent-%COMP%]:hover{background-color:#c9302c;box-shadow:0 2px 6px #c9302c4d}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]:active{transform:translateY(1px)}.admin-reports-container[_ngcontent-%COMP%]   .report-section[_ngcontent-%COMP%]{margin-bottom:40px;background-color:#fff;padding:20px;border-radius:8px;border:1px solid #eee;box-shadow:0 1px 3px #0000000d}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:4px;border:1px solid #ddd}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#028013;color:#fff}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;font-weight:600;border-bottom:2px solid #104217}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eee;transition:background-color .3s}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.high-attendance[_ngcontent-%COMP%]{background-color:#f0fdf4}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;color:#333}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.success[_ngcontent-%COMP%]{color:#27ae60;font-weight:500}.admin-reports-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.danger[_ngcontent-%COMP%]{color:#e74c3c;font-weight:500}.admin-reports-container[_ngcontent-%COMP%]   .attendance-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;background-color:#e8f5e9;color:#27ae60;font-weight:600;font-size:13px}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#234b2a,#2f9c19c9);color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 12px #667eea26;transition:transform .3s,box-shadow .3s;display:flex;gap:15px;align-items:center}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #667eea40}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-position[_ngcontent-%COMP%]{font-size:32px;font-weight:700;min-width:50px;text-align:center;opacity:.8}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]{flex:1}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;font-size:13px;opacity:.95}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:block}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   .stat.success[_ngcontent-%COMP%]{color:#90ee90;font-weight:500}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   .stat.danger[_ngcontent-%COMP%]{color:#ffb6c1;font-weight:500}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]   .ranking-card[_ngcontent-%COMP%]   .rank-percentage[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:right;min-width:60px}@media (max-width: 768px){.admin-reports-container[_ngcontent-%COMP%]{padding:15px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%], .admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{width:100%}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]{flex-direction:column}.admin-reports-container[_ngcontent-%COMP%]   .reports-controls[_ngcontent-%COMP%]   .export-section[_ngcontent-%COMP%]   .btn-export[_ngcontent-%COMP%]{width:100%}.admin-reports-container[_ngcontent-%COMP%]   .rankings-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function UG(n,e){if(n&1&&(R(0,"option",9),x(1),Zn(2,"date"),A()),n&2){let t=e.$implicit;q("value",t.id),F(),_a(" ",Jr(2,3,t.date,"dd/MM/yyyy")," - ",t.time," ")}}function jG(n,e){if(n&1&&(R(0,"div",10)(1,"div",11)(2,"span",12),x(3,"Total Registrados"),A(),R(4,"span",13),x(5),A()(),R(6,"div",11)(7,"span",12),x(8,"Asistieron"),A(),R(9,"span",13),x(10),A()(),R(11,"div",11)(12,"span",12),x(13,"Ausentes"),A(),R(14,"span",13),x(15),A()()()),n&2){let t=Z();F(5),Ee(t.filteredAttendees.length),F(5),Ee(t.getCheckedInCount()),F(5),Ee(t.getAbsentCount())}}function BG(n,e){if(n&1){let t=Kt();R(0,"button",23),Me("click",function(){tt(t);let i=Z().$implicit,o=Z(2);return nt(o.markAttended(i))}),x(1," Asisti\xF3 "),A()}}function $G(n,e){if(n&1){let t=Kt();R(0,"button",24),Me("click",function(){tt(t);let i=Z().$implicit,o=Z(2);return nt(o.markNotAttended(i))}),x(1," No Asisti\xF3 "),A()}}function HG(n,e){if(n&1){let t=Kt();R(0,"button",25),Me("click",function(){tt(t);let i=Z().$implicit,o=Z(2);return nt(o.resetToRegistered(i))}),x(1," Anotado "),A()}}function zG(n,e){if(n&1&&(R(0,"tr",17)(1,"td"),x(2),A(),R(3,"td")(4,"span",18),x(5),A()(),R(6,"td",19),he(7,BG,2,0,"button",20)(8,$G,2,0,"button",21)(9,HG,2,0,"button",22),A()()),n&2){let t=e.$implicit;q("ngClass","status-"+t.status),F(2),Ee(t.nameShop),F(2),q("ngClass","status-"+t.status),F(),Ue(" ",t.status," "),F(2),q("ngIf",t.status!=="Asistio"),F(),q("ngIf",t.status!=="No asistio"),F(),q("ngIf",t.status!=="Anotado")}}function qG(n,e){if(n&1&&(R(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),x(5,"Emprendimiento"),A(),R(6,"th"),x(7,"Estado"),A(),R(8,"th"),x(9,"Acciones"),A()()(),R(10,"tbody"),he(11,zG,10,7,"tr",16),A()()()),n&2){let t=Z();F(11),q("ngForOf",t.filteredAttendees)}}function GG(n,e){n&1&&(R(0,"p"),x(1,"Selecciona un evento para ver los asistentes."),A())}function WG(n,e){n&1&&(R(0,"p"),x(1,"No hay asistentes registrados para este evento."),A())}function KG(n,e){if(n&1&&(R(0,"div",26),he(1,GG,2,0,"p",27)(2,WG,2,0,"p",27),A()),n&2){let t=Z();F(),q("ngIf",!t.selectedEventId),F(),q("ngIf",t.selectedEventId&&t.filteredAttendees.length===0)}}var td=class n{events=[];attendees=[];filteredAttendees=[];selectedEventId="";firestore=M(un);ngOnInit(){this.loadEvents(),this.loadAttendees()}loadEvents(){return v(this,null,function*(){try{let e=yield this.firestore.getAllEvents();this.events=e.map(t=>({id:t.id,eventName:t.eventName??t.name,date:t.date??"",time:t.time??"",enabled:t.enabled??!0})).sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.events.length>0&&(this.selectedEventId=this.events[0].id),this.filterAttendeesByEvent()}catch(e){console.error("Error loading events from Firestore:",e)}})}loadEventsFromCache(){return v(this,null,function*(){try{let e=yield this.firestore.getCachedAllEvents();this.events=e.map(t=>({id:t.id,eventName:t.eventName??t.name,date:t.date??"",time:t.time??"",enabled:t.enabled??!0})).filter(t=>t.enabled).sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()),this.events.length>0&&!this.selectedEventId&&(this.selectedEventId=this.events[0].id),this.filterAttendeesByEvent()}catch(e){console.error("Error loading cached events:",e)}})}loadAttendees(){return v(this,null,function*(){try{let e=yield this.firestore.getAllInscriptions();this.attendees=e.map(t=>({id:t.id,nameLastName:t.nameLastName??t.userName??"Participante",nameShop:t.nameShop??t.emprendimiento??"",eventId:t.eventId?.toString()??(t.idEvent?String(t.idEvent):""),status:t.status==="Asistio"||t.assisted?"Asistio":t.status==="No asistio"?"No asistio":"Anotado"})),this.filterAttendeesByEvent()}catch(e){console.error("Error loading inscriptions:",e)}})}loadAttendeesFromCache(){return v(this,null,function*(){try{let e=yield this.firestore.getCachedAllInscriptions();this.attendees=e.map(t=>({id:t.id,nameLastName:t.nameLastName??t.userName??"Participante",nameShop:t.nameShop??t.emprendimiento??"",eventId:t.eventId?.toString()??(t.idEvent?String(t.idEvent):""),status:t.status==="Asistio"||t.assisted?"Asistio":t.status==="No asistio"?"No asistio":"Anotado"})),this.filterAttendeesByEvent()}catch(e){console.error("Error loading cached inscriptions:",e)}})}refreshAttendance(){return Promise.all([this.loadEvents(),this.loadAttendees()])}filterAttendeesByEvent(){this.selectedEventId?this.filteredAttendees=this.attendees.filter(e=>e.eventId===this.selectedEventId).sort((e,t)=>(e.nameShop||"").localeCompare(t.nameShop||"")):this.filteredAttendees=[]}onEventChange(){this.filterAttendeesByEvent()}getCheckedInCount(){return this.filteredAttendees.filter(e=>e.status==="Asistio").length}getAbsentCount(){return this.filteredAttendees.filter(e=>e.status==="No asistio").length}markAttended(e){e.status="Asistio",this.firestore.updateInscription(e.id,{status:"Asistio",assisted:!0}).catch(t=>console.error(t))}markNotAttended(e){e.status="No asistio",this.firestore.updateInscription(e.id,{status:"No asistio",assisted:!1}).catch(t=>console.error(t))}resetToRegistered(e){e.status="Anotado",this.firestore.updateInscription(e.id,{status:"Anotado"}).catch(t=>console.error(t))}getEventName(e){let t=this.events.find(r=>r.id===e);return t?t.eventName:""}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-admin-attendance"]],decls:15,vars:5,consts:[[1,"admin-attendance-container"],[1,"event-selector-section"],["for","eventSelect"],["id","eventSelect",1,"event-selector",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","attendance-stats",4,"ngIf"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"value"],[1,"attendance-stats"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"table-container"],[1,"attendees-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"status-badge",3,"ngClass"],[1,"actions"],["class","btn-attended","title","Marcar como asisti\xF3",3,"click",4,"ngIf"],["class","btn-notattended","title","Marcar como no asisti\xF3",3,"click",4,"ngIf"],["class","btn-reset","title","Volver a anotado",3,"click",4,"ngIf"],["title","Marcar como asisti\xF3",1,"btn-attended",3,"click"],["title","Marcar como no asisti\xF3",1,"btn-notattended",3,"click"],["title","Volver a anotado",1,"btn-reset",3,"click"],[1,"empty-state"],[4,"ngIf"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h2"),x(2,"Asistencia"),A(),R(3,"p"),x(4,"Panel de seguimiento de asistencia a eventos."),A(),R(5,"div",1)(6,"label",2),x(7,"Selecciona un evento:"),A(),R(8,"select",3),mr("ngModelChange",function(o){return Zr(r.selectedEventId,o)||(r.selectedEventId=o),o}),Me("change",function(){return r.onEventChange()}),R(9,"option",4),x(10,"-- Seleccionar evento --"),A(),he(11,UG,3,6,"option",5),A()(),he(12,jG,16,3,"div",6)(13,qG,12,1,"div",7)(14,KG,3,2,"div",8),A()),t&2&&(F(8),gr("ngModel",r.selectedEventId),F(3),q("ngForOf",r.events),F(),q("ngIf",r.selectedEventId&&r.filteredAttendees.length>0),F(),q("ngIf",r.selectedEventId&&r.filteredAttendees.length>0),F(),q("ngIf",!r.selectedEventId||r.filteredAttendees.length===0))},dependencies:[Vt,Qo,cn,Qt,Pr,um,lm,_c,_o,Ds,Xn],styles:[".admin-attendance-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.admin-attendance-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:28px;margin-bottom:10px}.admin-attendance-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.admin-attendance-container[_ngcontent-%COMP%]   .event-selector-section[_ngcontent-%COMP%]{margin-bottom:30px}.admin-attendance-container[_ngcontent-%COMP%]   .event-selector-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:14px;min-width:fit-content}.admin-attendance-container[_ngcontent-%COMP%]   .event-selector-section[_ngcontent-%COMP%]   .event-selector[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit;background-color:#fff;cursor:pointer;width:100%}.admin-attendance-container[_ngcontent-%COMP%]   .event-selector-section[_ngcontent-%COMP%]   .event-selector[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 5px #4caf504d}.admin-attendance-container[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:30px}.admin-attendance-container[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;align-items:center}.admin-attendance-container[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#999;font-weight:600;text-transform:uppercase;margin-bottom:10px}.admin-attendance-container[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#4caf50}.admin-attendance-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-bottom:30px}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;box-shadow:0 2px 8px #0000001a;border-radius:8px;overflow:hidden}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:2px solid #ddd}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;color:#333;font-size:14px}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:14px;color:#666}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-Anotado[_ngcontent-%COMP%]{opacity:1}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-Asistio[_ngcontent-%COMP%]{background-color:#e8f5e9}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.status-No\\ asistio[_ngcontent-%COMP%]{background-color:#ffebee}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .status-badge.status-Anotado[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .status-badge.status-Asistio[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .status-badge.status-No\\ asistio[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:4px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease;white-space:nowrap}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-attended[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-attended[_ngcontent-%COMP%]:hover{background-color:#45a049;box-shadow:0 2px 6px #4caf504d}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-notattended[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-notattended[_ngcontent-%COMP%]:hover{background-color:#da190b;box-shadow:0 2px 6px #f443364d}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-reset[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.admin-attendance-container[_ngcontent-%COMP%]   .attendees-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.btn-reset[_ngcontent-%COMP%]:hover{background-color:#0b7dda;box-shadow:0 2px 6px #2196f34d}.admin-attendance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999;font-size:16px;background-color:#f9f9f9;border-radius:8px;border:2px dashed #ddd}.admin-attendance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}"]})};function QG(n,e){if(n&1&&(R(0,"div",5)(1,"p"),x(2),A()()),n&2){let t=Z();F(2),Ee(t.confirmationMessage)}}function YG(n,e){if(n&1){let t=Kt();R(0,"button",15),Me("click",function(){tt(t);let i=Z().$implicit,o=Z();return nt(o.signUpForEvent(i))}),x(1," Inscribirse "),A()}}function ZG(n,e){if(n&1){let t=Kt();R(0,"button",16),Me("click",function(){tt(t);let i=Z().$implicit,o=Z();return nt(o.cancelSignup(i))}),x(1," Desinscribirse "),A()}}function JG(n,e){if(n&1&&(R(0,"div",6)(1,"div",7)(2,"div",8)(3,"span",9),x(4,"\u{1F4C5} Fecha:"),A(),R(5,"span",10),x(6),Zn(7,"date"),A()(),R(8,"div",8)(9,"span",9),x(10,"\u{1F550} Hora:"),A(),R(11,"span",10),x(12),A()(),R(13,"div",8)(14,"span",9),x(15,"\u{1F465} Inscriptos: "),A(),R(16,"span",10)(17,"span",11),x(18),A()()()(),R(19,"div",12),he(20,YG,2,0,"button",13)(21,ZG,2,0,"button",14),A()()),n&2){let t=e.$implicit,r=Z();F(6),Ee(Jr(7,5,t.date,"dd/MM/yyyy")),F(6),Ee(t.time),F(6),Ee(r.getSignupCountForDate(t.date)),F(2),q("ngIf",!r.isSignedUp(t.id)),F(),q("ngIf",r.isSignedUp(t.id))}}function XG(n,e){n&1&&(R(0,"div",17)(1,"p"),x(2,"No hay eventos disponibles en este momento."),A()())}var nd=class n{availableEvents=[];userSignups=new Set;showConfirmation=!1;confirmationMessage="";signupCountsByDate={};firestore=M(un);authService=M(Bn);ngOnInit(){this.loadEnabledEvents(),this.loadUserSignups(),this.loadSignupCountsByDate()}loadEnabledEvents(){return v(this,null,function*(){try{let e=yield this.firestore.getAllEvents();this.availableEvents=e.map(t=>({id:t.id,eventName:t.eventName??t.name??"Evento",date:t.date??(t.eventDate?new Date(t.eventDate.seconds?t.eventDate.seconds*1e3:t.eventDate).toISOString().split("T")[0]:""),time:t.time??"",enabled:t.enabled??!0})).filter(t=>t.enabled).sort((t,r)=>{let i=new Date(`${t.date}T${t.time}`).getTime();return new Date(`${r.date}T${r.time}`).getTime()-i})}catch(e){console.error("Error loading events from Firestore:",e)}})}normalizeDateString(e){try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;let t=new Date(e);return isNaN(t.getTime())?e:t.toISOString().split("T")[0]}catch{return e}}loadSignupCountsByDate(){return v(this,null,function*(){try{let e=yield this.firestore.getAllInscriptions(),t={};for(let r of e){let i=String(r.eventDate??r.date??"");if(!i)continue;let o=this.normalizeDateString(i);t[o]=(t[o]??0)+1}this.signupCountsByDate=t}catch(e){console.error("Error loading inscription counts:",e)}})}getSignupCountForDate(e){let t=this.normalizeDateString(e);return this.signupCountsByDate[t]??0}loadUserSignups(){return v(this,null,function*(){let e=this.authService.getCurrentUser();if(e?.dni)try{let t=yield this.firestore.getUserInscriptions(String(e.dni));this.userSignups=new Set(t.map(r=>r.eventId?.toString()??String(r.idEvent)))}catch(t){console.error("Error loading user signups:",t)}})}signUpForEvent(e){let t=this.authService.getCurrentUser();if(!t?.dni){this.showMessage("Debes estar autenticado para inscribirse");return}this.userSignups.has(e.id)?this.showMessage(`Ya est\xE1s inscrito en ${e.eventName}`):this.firestore.createInscription({userId:String(t.dni),eventId:e.id,status:"Anotado",nameLastName:t.nameLastName,nameShop:t.nameShop,createdAt:new Date().toISOString(),eventDate:e.date,time:e.time}).then(()=>{this.userSignups.add(e.id);let r=this.normalizeDateString(e.date);this.signupCountsByDate[r]=(this.signupCountsByDate[r]??0)+1,this.showMessage("\xA1Te has registrado!")}).catch(r=>{console.error("Error creating inscription:",r),this.showMessage("Error al inscribirse. Intenta de nuevo.")})}cancelSignup(e){return v(this,null,function*(){if(!this.userSignups.has(e.id))return;let t=this.authService.getCurrentUser();if(t?.dni)try{let i=(yield this.firestore.getAllInscriptions()).find(o=>o.eventId===e.id&&o.userId===String(t.dni));if(i){yield this.firestore.deleteInscription(i.id),this.userSignups.delete(e.id);let o=this.normalizeDateString(e.date),s=this.signupCountsByDate[o]??0;this.signupCountsByDate[o]=Math.max(0,s-1),this.showMessage("Te has dado de baja")}}catch(r){console.error("Error fetching/deleting inscription:",r),this.showMessage("Error al desinscribirse. Intenta de nuevo.")}})}isSignedUp(e){return this.userSignups.has(e)}showMessage(e){this.confirmationMessage=e,this.showConfirmation=!0,setTimeout(()=>{this.showConfirmation=!1},3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-user-signup"]],decls:9,vars:3,consts:[[1,"user-signup-container"],["class","confirmation-dialog",4,"ngIf"],[1,"events-grid"],["class","event-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"confirmation-dialog"],[1,"event-card"],[1,"event-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"count-badge"],[1,"card-actions"],["class","btn-signup",3,"click",4,"ngIf"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-signup",3,"click"],[1,"btn-cancel",3,"click"],[1,"empty-state"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h2"),x(2,"Inscribirse"),A(),R(3,"p"),x(4,"Reg\xEDstrate en los eventos disponibles."),A(),he(5,QG,3,1,"div",1),R(6,"div",2),he(7,JG,22,8,"div",3),A(),he(8,XG,3,0,"div",4),A()),t&2&&(F(5),q("ngIf",r.showConfirmation),F(2),q("ngForOf",r.availableEvents),F(),q("ngIf",r.availableEvents.length===0))},dependencies:[Vt,cn,Qt,Pr,Xn],styles:[".user-signup-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.user-signup-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:28px;margin-bottom:10px}.user-signup-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.user-signup-container[_ngcontent-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:15px 20px;border-radius:4px;margin-bottom:20px;animation:_ngcontent-%COMP%_slideIn .3s ease}.user-signup-container[_ngcontent-%COMP%]   .confirmation-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.user-signup-container[_ngcontent-%COMP%]   .events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-bottom:30px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:20px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease;display:flex;flex-direction:column}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-4px)}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px;font-weight:600;flex-grow:1}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-card-header[_ngcontent-%COMP%]   .event-id[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#666;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;white-space:nowrap;margin-left:10px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]{margin-bottom:20px;flex-grow:1}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;margin-bottom:10px;font-size:14px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600;color:#555;min-width:80px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#333;display:inline-flex;align-items:center;gap:6px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784;padding:2px 8px;border-radius:12px;font-weight:600;font-size:12px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:10px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-signup[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-signup[_ngcontent-%COMP%]:hover{background-color:#45a049;box-shadow:0 2px 6px #4caf504d}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-signup[_ngcontent-%COMP%]:active{transform:scale(.98)}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#da190b;box-shadow:0 2px 6px #f443364d}.user-signup-container[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]:active{transform:scale(.98)}.user-signup-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999;font-size:16px;background-color:#f9f9f9;border-radius:8px;border:2px dashed #ddd}.user-signup-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}"]})};var eW=n=>({"disabled-event":n});function tW(n,e){if(n&1&&(R(0,"div",4),x(1),A()),n&2){let t=Z();q("ngClass","message-"+t.messageType),F(),Ue(" ",t.message," ")}}function nW(n,e){if(n&1&&(R(0,"div",7)(1,"div",8)(2,"h3"),x(3),A(),R(4,"span",9),x(5),A()(),R(6,"div",10)(7,"div",11)(8,"span",12),x(9,"\u{1F4C5} Fecha"),A(),R(10,"span",13),x(11),Zn(12,"date"),A()()()()),n&2){let t=e.$implicit,r=Z(2);q("ngClass",Ea(10,eW,!t.enabled)),F(3),Ee(t.eventName),F(),q("ngClass","status-"+r.getStatusColor(t.status)),F(),Ue(" ",t.status," "),F(6),_a(" ",q_(12,6,t.eventDate,"dd/MM/yyyy","UTC")," \u{1F550} ",t.time)}}function rW(n,e){if(n&1&&(R(0,"div",5),he(1,nW,13,12,"div",6),A()),n&2){let t=Z();F(),q("ngForOf",t.filteredSignups)}}function iW(n,e){n&1&&(R(0,"div",14)(1,"p"),x(2,"No hay inscripciones que mostrar."),A(),R(3,"p",15),x(4,"\xA1Reg\xEDstrate en eventos para ver tus inscripciones!"),A()())}var rd=class n{userSignups=[];filteredSignups=[];selectedFilter="all";message="";messageType="success";firestoreService=M(un);authService=M(Bn);ngOnInit(){this.authService.currentUser$.subscribe(e=>{e&&e.dni?this.loadUserSignups(e.dni):(this.userSignups=[],this.filteredSignups=[])})}loadUserSignups(e){return v(this,null,function*(){try{let t=yield this.firestoreService.getUserInscriptions(String(e));this.userSignups=t.map(r=>({id:r.id,eventId:r.eventId?.toString()??(r.idEvent?String(r.idEvent):""),eventName:r.eventName??r.nameShop??"Evento",eventDate:r.eventDate?new Date(r.eventDate.seconds?r.eventDate.seconds*1e3:r.eventDate).toISOString():r.fecha??"",time:r.time??"",enabled:r.enabled??!0,status:r.status??(r.assisted?"attended":"confirmed"),registrationDate:r.registrationDate??r.createdAt??new Date().toISOString()})),this.filterSignups()}catch(t){console.error("Error loading user inscriptions:",t),this.userSignups=[],this.filteredSignups=[]}})}filterSignups(){switch(this.selectedFilter){case"enabled":this.filteredSignups=this.userSignups.filter(e=>e.enabled);break;case"disabled":this.filteredSignups=this.userSignups.filter(e=>!e.enabled);break;case"confirmed":this.filteredSignups=this.userSignups.filter(e=>e.status==="confirmed");break;case"pending":this.filteredSignups=this.userSignups.filter(e=>e.status==="pending");break;case"attended":this.filteredSignups=this.userSignups.filter(e=>e.status==="attended");break;default:this.filteredSignups=[...this.userSignups].sort((e,t)=>new Date(t.registrationDate).getTime()-new Date(e.registrationDate).getTime())}}onFilterChange(){this.filterSignups(),console.log(this.userSignups,this.filteredSignups)}cancelSignup(e){if(!e.enabled){this.showMessage("No puedes cancelar un evento deshabilitado.","error");return}this.firestoreService.deleteInscription(e.id).then(()=>{this.showMessage("Inscripci\xF3n cancelada correctamente.","success");let t=this.authService.getCurrentUser();t&&t.dni&&this.loadUserSignups(t.dni)}).catch(t=>{console.error("Error deleting inscription:",t),this.showMessage("Error al cancelar la inscripci\xF3n.","error")})}showMessage(e,t){this.message=e,this.messageType=t,setTimeout(()=>{this.message=""},3e3)}getStatusColor(e){switch(e){case"confirmed":return"confirmed";case"pending":return"pending";case"attended":return"attended";default:return"pending"}}formatDate(e){return new Date(e).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-user-my-signups"]],decls:8,vars:3,consts:[[1,"user-my-signups-container"],["class","message",3,"ngClass",4,"ngIf"],["class","signups-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"message",3,"ngClass"],[1,"signups-grid"],["class","signup-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"signup-card",3,"ngClass"],[1,"card-header"],[1,"status-badge",3,"ngClass"],[1,"card-body"],[1,"event-detail"],[1,"detail-label"],[1,"detail-value"],[1,"empty-state"],[1,"sub-text"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"h2"),x(2,"Mis Inscripciones"),A(),R(3,"p"),x(4,"Visualiza tus eventos registrados."),A(),he(5,tW,2,2,"div",1)(6,rW,2,1,"div",2)(7,iW,5,0,"div",3),A()),t&2&&(F(5),q("ngIf",r.message),F(),q("ngIf",r.filteredSignups.length>0),F(),q("ngIf",r.filteredSignups.length===0))},dependencies:[Vt,Qo,cn,Qt,Pr,Xn],styles:[".user-my-signups-container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.user-my-signups-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;font-size:28px;margin-bottom:10px}.user-my-signups-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#666;margin-bottom:25px}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{margin-bottom:25px;padding:15px;background-color:#f5f5f5;border-radius:8px;display:flex;align-items:center;gap:15px}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:500;white-space:nowrap}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;cursor:pointer;background-color:#fff;transition:border-color .3s}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:hover{border-color:#4caf50}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 0 3px #4caf501a}.user-my-signups-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px;font-weight:500;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.user-my-signups-container[_ngcontent-%COMP%]   .message.message-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.user-my-signups-container[_ngcontent-%COMP%]   .message.message-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.user-my-signups-container[_ngcontent-%COMP%]   .signups-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;margin-bottom:30px}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;border:1px solid #eee;box-shadow:0 2px 8px #00000014;overflow:hidden;transition:all .3s ease;display:flex;flex-direction:column}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0000001f;transform:translateY(-4px)}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card.disabled-event[_ngcontent-%COMP%]{opacity:.7;background-color:#fafafa}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card.disabled-event[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f0f0f0}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px;background:linear-gradient(900deg,#234b2a 50%,#2f9c19c9);color:#fff;display:flex;justify-content:space-between;align-items:flex-start;gap:10px}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;flex:1}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;white-space:nowrap;text-transform:uppercase}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.status-confirmed[_ngcontent-%COMP%]{background-color:#4caf5040;color:#f0f0f0}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#ffc10740;color:#f0f0f0}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.status-attended[_ngcontent-%COMP%]{background-color:#2196f340;color:#f0f0f0}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px;flex:1}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;gap:10px;margin-bottom:12px;font-size:14px}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-detail[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600;color:#555;min-width:100px}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-detail[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#333;text-transform:capitalize}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-status[_ngcontent-%COMP%]{margin-top:16px;padding:10px 12px;border-radius:4px;font-size:13px;font-weight:500;text-align:center}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-status.status-active[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .event-status.status-inactive[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #eee;background-color:#fafafa}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{width:100%;padding:10px 16px;background-color:#f44336;color:#fff;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d32f2f;box-shadow:0 2px 6px #f443364d}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:active{transform:translateY(1px)}.user-my-signups-container[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-closed[_ngcontent-%COMP%]{width:100%;padding:10px 16px;background-color:#ccc;color:#666;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:not-allowed}.user-my-signups-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999}.user-my-signups-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:10px 0}.user-my-signups-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p.sub-text[_ngcontent-%COMP%]{font-size:14px;color:#bbb}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.user-my-signups-container[_ngcontent-%COMP%]{padding:15px}.user-my-signups-container[_ngcontent-%COMP%]   .signups-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.user-my-signups-container[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{width:100%}}"]})};function oW(n,e){if(n&1&&(R(0,"p",16),x(1),A()),n&2){let t=Z(2);F(),Ee(t.currentUser.nameShop)}}function sW(n,e){if(n&1){let t=Kt();R(0,"div",11)(1,"div",12)(2,"p",13),x(3),A(),he(4,oW,2,1,"p",14),A(),R(5,"button",15),Me("click",function(){tt(t);let i=Z();return nt(i.logout())}),x(6,"Cerrar Sesi\xF3n"),A()()}if(n&2){let t=Z();F(3),Ee(t.currentUser.nameLastName),F(),q("ngIf",!t.currentUser.isAdmin)}}function aW(n,e){if(n&1){let t=Kt();R(0,"button",17),Me("click",function(){let i=tt(t).$implicit,o=Z();return nt(o.selectTab(i.value))}),x(1),A()}if(n&2){let t=e.$implicit,r=Z();kn("active",r.selectedTab===t.value),F(),Ue(" ",t.label," ")}}function cW(n,e){n&1&&($i(0),Dt(1,"app-admin-dates"),Hi())}function uW(n,e){n&1&&($i(0),Dt(1,"app-admin-reports"),Hi())}function lW(n,e){n&1&&($i(0),Dt(1,"app-admin-attendance"),Hi())}function dW(n,e){n&1&&($i(0),Dt(1,"app-user-signup"),Hi())}function fW(n,e){n&1&&($i(0),Dt(1,"app-user-my-signups"),Hi())}var hm=class n{authService=M(Bn);router=M(Er);currentUser=null;selectedTab="";tabs=[];destroy$=new Qe;adminTabs=[{label:"Fechas",value:"dates",component:Xl},{label:"Asistencia",value:"attendance",component:td},{label:"Reportes",value:"reports",component:ed}];userTabs=[{label:"Inscribirse",value:"signup",component:nd},{label:"Mis Inscripciones",value:"my-signups",component:rd}];ngOnInit(){this.authService.currentUser$.pipe(Zs(this.destroy$)).subscribe(e=>{this.currentUser=e,e?.isAdmin?this.tabs=this.adminTabs:this.tabs=this.userTabs,this.tabs.length>0&&!this.selectedTab&&(this.selectedTab=this.tabs[0].value)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectTab(e){this.selectedTab=e}logout(){this.authService.logout(),this.router.navigate(["/login"])}getComponentForTab(e){return this.tabs.find(r=>r.value===e)?.component}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-home"]],decls:17,vars:7,consts:[[1,"home-container"],[1,"navbar"],[1,"navbar-inner"],[1,"navbar-title"],["class","navbar-user",4,"ngIf"],[1,"main-content"],[1,"tabs-container"],["role","tablist","aria-label","Secciones",1,"tabs"],["class","tab-button","type","button",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],[4,"ngIf"],[1,"navbar-user"],[1,"user-info"],[1,"user-name"],["class","shop-name",4,"ngIf"],[1,"logout-button",3,"click"],[1,"shop-name"],["type","button",1,"tab-button",3,"click"]],template:function(t,r){t&1&&(R(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1"),x(5,"Paseo del Artesano"),A()(),he(6,sW,7,2,"div",4),A()(),R(7,"main",5)(8,"div",6)(9,"div",7),he(10,aW,2,3,"button",8),A()(),R(11,"section",9),he(12,cW,2,0,"ng-container",10)(13,uW,2,0,"ng-container",10)(14,lW,2,0,"ng-container",10)(15,dW,2,0,"ng-container",10)(16,fW,2,0,"ng-container",10),A()()()),t&2&&(F(6),q("ngIf",r.currentUser),F(4),q("ngForOf",r.tabs),F(2),q("ngIf",r.selectedTab==="dates"),F(),q("ngIf",r.selectedTab==="reports"),F(),q("ngIf",r.selectedTab==="attendance"),F(),q("ngIf",r.selectedTab==="signup"&&!(r.currentUser!=null&&r.currentUser.isAdmin)),F(),q("ngIf",r.selectedTab==="my-signups"&&!(r.currentUser!=null&&r.currentUser.isAdmin)))},dependencies:[Vt,cn,Qt,Xl,ed,td,nd,rd],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{min-height:100dvh;width:100%;display:flex;flex-direction:column;background:#f6f7fb}.navbar[_ngcontent-%COMP%]{background:linear-gradient(900deg,#234b2a 50%,#2f9c19c9);color:#fff;box-shadow:0 2px 8px #00000026}.navbar-inner[_ngcontent-%COMP%]{margin:0;padding:14px clamp(12px,3vw,20px);display:flex;align-items:center;justify-content:space-between;gap:12px}.navbar-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:clamp(18px,2.2vw,24px);line-height:1.2}.navbar-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-info[_ngcontent-%COMP%]{text-align:right}.user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.user-info[_ngcontent-%COMP%]   .shop-name[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.logout-button[_ngcontent-%COMP%]{padding:10px 14px;background-color:#ffffff2e;color:#fff;border:1px solid rgba(255,255,255,.28);border-radius:10px;font-size:14px;cursor:pointer;transition:transform .08s ease,background-color .2s ease}.logout-button[_ngcontent-%COMP%]:hover{background-color:#ffffff47}.logout-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.main-content[_ngcontent-%COMP%]{flex:1;width:100%;max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:12px}.tabs-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #ececf2;border-radius:12px;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scroll-snap-type:x mandatory;border-bottom:1px solid #ececf2}.tab-button[_ngcontent-%COMP%]{flex:0 0 auto;scroll-snap-align:start;padding:12px 14px;background:none;border:none;color:#666;font-size:14px;font-weight:600;cursor:pointer;border-bottom:3px solid transparent;transition:color .2s ease,border-color .2s ease,background-color .2s ease}.tab-button[_ngcontent-%COMP%]:hover{color:#333;background:#667eea0f}.tab-button.active[_ngcontent-%COMP%]{color:#667eea;border-bottom-color:#667eea;background:#667eea14}.tab-content[_ngcontent-%COMP%]{flex:1;background:#fff;border:1px solid #ececf2;border-radius:12px;box-shadow:0 1px 3px #00000014}@media (max-width: 768px){.navbar-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;text-align:center}.navbar-user[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:stretch;gap:10px}.user-info[_ngcontent-%COMP%]{text-align:center}.logout-button[_ngcontent-%COMP%]{width:100%}.tab-button[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}}']})};var kk=(n,e)=>{let t=M(En);if(!Ki(t))return!0;let r=M(Bn),i=M(Er);return r.currentUser$.pipe(zn(1),ge(o=>o?!0:i.createUrlTree(["/login"],{queryParams:{returnUrl:e.url}})))};var Fk=[{path:"login",component:fm},{path:"home",component:hm,canActivate:[kk]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];var Lk={apiKey:"AIzaSyAag2h--TQZSJGbKX6j4geAvoc1xbInd9s",authDomain:"paseo-artesanos.firebaseapp.com",projectId:"paseo-artesanos",storageBucket:"paseo-artesanos.firebasestorage.app",messagingSenderId:"498125734272",appId:"1:498125734272:web:da45b0dd12ee1327048165",measurementId:"G-01THT7S2QL"};var Vk={providers:[uv(),K_({eventCoalescing:!0}),tI(Fk),YR(QR()),EN(()=>IN(Lk)),J1(()=>X1()),EO(()=>zp())]};var pm=class n{title="paseo-artesanos";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ht({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Dt(0,"router-outlet")},dependencies:[el],styles:['@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7SUc.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7SUc.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7SUc.woff2) format("woff2");unicode-range:U+1F00-1FFF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7SUc.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7SUc.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7SUc.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Inter;background-color:#f5f5f5}[_nghost-%COMP%]{width:100%;height:100%;display:block}']})};AE(pm,Vk).catch(n=>console.error(n));
